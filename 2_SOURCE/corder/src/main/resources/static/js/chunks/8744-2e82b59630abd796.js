(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8744],{7055:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.lexer=exports.states=void 0;let moo_1=__importDefault(__webpack_require__(42569));exports.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:src=>src.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:src=>src.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:src=>src.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:src=>src.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:src=>src.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:src=>src.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:src=>src.substring(0,src.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},exports.lexer=moo_1.default.states(exports.states)},80472:function(__unused_webpack_module,exports,__webpack_require__){"use strict";let lexer_js_1=__webpack_require__(7055)},80117:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{CommandsExtension:function(){return CommandsExtension},Framework:function(){return Framework},KeymapExtension:function(){return KeymapExtension},MarkExtension:function(){return MarkExtension},NodeExtension:function(){return NodeExtension},PlainExtension:function(){return PlainExtension},PluginsExtension:function(){return PluginsExtension},RemirrorManager:function(){return RemirrorManager},command:function(){return command},extension:function(){return extension},helper:function(){return helper},isNodeExtension:function(){return isNodeExtension},isRemirrorManager:function(){return isRemirrorManager},keyBinding:function(){return keyBinding},toggleMark:function(){return toggleMark}});var _uid,_getProps,_previousState,_firstRender,_events,_addHandler,_initialEditorState,_extensionStore,_stringHandlers,_store,_extensions,_extensionMap,_phase,_settings,_firstStateUpdate,_handlers,_disposers,_events2,_framework,_disposeFramework,remirror_core_helpers=__webpack_require__(62120),remirror_core_constants=__webpack_require__(9436),index_es=__webpack_require__(90404),remirror_core_utils=__webpack_require__(85775),object_omit=__webpack_require__(13e3),object_omit_default=__webpack_require__.n(object_omit),object_pick=__webpack_require__(86883),object_pick_default=__webpack_require__.n(object_pick),remirror_messages=__webpack_require__(35708),dist=__webpack_require__(57981),prosemirror_state_dist=__webpack_require__(39451),remirror_pm=__webpack_require__(67969),prosemirror_commands_dist=__webpack_require__(10746),prosemirror_view_dist=__webpack_require__(3401),prosemirror_inputrules_dist=__webpack_require__(85734),prosemirror_keymap_dist=__webpack_require__(86271),pastePluginKey=new prosemirror_state_dist.H$("pasteRule");function createPasteRuleHandler(transformer,schema){return function handler(props){let{fragment,rule,nodes}=props,{regexp,ignoreWhitespace,ignoredMarks,ignoredNodes}=rule,transformed=!1;return fragment.forEach(child=>{var _a,node,_a1;if((null==ignoredNodes?void 0:ignoredNodes.includes(child.type.name))||(node=child).type.spec.code||(null==(_a1=node.type.spec.group)?void 0:_a1.split(" ").includes("code"))){nodes.push(child);return}if(!child.isText){let childResult=handler({fragment:child.content,rule,nodes:[]});transformed||(transformed=childResult.transformed);let content=dist.HY.fromArray(childResult.nodes);child.type.validContent(content)?nodes.push(child.copy(content)):nodes.push(...childResult.nodes);return}if(child.marks.some(mark=>{var _a;return"code"===mark.type.name||(null==(_a=mark.type.spec.group)?void 0:_a.split(" ").includes("code"))||(null==ignoredMarks?void 0:ignoredMarks.includes(mark.type.name))})){nodes.push(child);return}let text=null!=(_a=child.text)?_a:"",pos=0;for(let match of(0,remirror_core_helpers.JD)(text,regexp)){let capturedValue=match[1],fullValue=match[0];if(ignoreWhitespace&&(null==capturedValue?void 0:capturedValue.trim())===""||!fullValue)return;let start=match.index,end=start+fullValue.length;start>pos&&nodes.push(child.cut(pos,start));let textNode=child.cut(start,end);if(fullValue&&capturedValue){let startSpaces=fullValue.search(/\S/),textStart=start+fullValue.indexOf(capturedValue),textEnd=textStart+capturedValue.length;startSpaces&&nodes.push(child.cut(start,start+startSpaces)),textNode=child.cut(textStart,textEnd)}transformer({nodes,rule,textNode,match,schema}),transformed=!0,pos=end}text&&pos<text.length&&nodes.push(child.cut(pos))}),{nodes,transformed}}}function markRuleTransformer(props){var _a;let{nodes,rule,textNode,match,schema}=props,{transformMatch,getAttributes,markType}=rule,attributes=(0,remirror_core_helpers.mf)(getAttributes)?getAttributes(match,!1):getAttributes,text=null!=(_a=textNode.text)?_a:"",mark=markType.create(attributes),transformedCapturedValue=null==transformMatch?void 0:transformMatch(match);if(""===transformedCapturedValue)return;if(!1===transformedCapturedValue){nodes.push(schema.text(text,textNode.marks));return}let marks=mark.addToSet(textNode.marks);nodes.push(schema.text(null!=transformedCapturedValue?transformedCapturedValue:text,marks))}function textRuleTransformer(props){var _a;let{nodes,rule,textNode,match,schema}=props,{transformMatch}=rule,transformedCapturedValue=null==transformMatch?void 0:transformMatch(match);if(""===transformedCapturedValue||!1===transformedCapturedValue)return;let text=null!=(_a=null!=transformedCapturedValue?transformedCapturedValue:textNode.text)?_a:"";nodes.push(schema.text(text,textNode.marks))}function nodeRuleTransformer(props){let{nodes,rule,textNode,match}=props,{getAttributes,nodeType,getContent}=rule,attributes=(0,remirror_core_helpers.mf)(getAttributes)?getAttributes(match,!1):getAttributes,content=(getContent?getContent(match):textNode)||void 0;nodes.push(nodeType.createChecked(attributes,content))}var regexPasteRules=["mark","node","text"],prosemirror_suggest=__webpack_require__(75430),nanoevents=__webpack_require__(73577),tiny_warning_esm=__webpack_require__(55518),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key2,value)=>key2 in obj?__defProp(obj,key2,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key2]=value,__decorateClass=(decorators,target,key2,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key2):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key2,result):decorator(result))||result);return kind&&result&&__defProp(target,key2,result),result},__publicField=(obj,key2,value)=>(__defNormalProp(obj,"symbol"!=typeof key2?key2+"":key2,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);function defaultEquals(valueA,valueB){return valueA===valueB}function getChangedOptions(props){let{previousOptions,update,equals=defaultEquals}=props,next=(0,remirror_core_helpers.vV)({...previousOptions,...update}),changes=(0,remirror_core_helpers.Ry)(),optionKeys=(0,remirror_core_helpers.XP)(previousOptions);for(let key2 of optionKeys){let previousValue=previousOptions[key2],value=next[key2];if(equals(previousValue,value)){changes[key2]={changed:!1};continue}changes[key2]={changed:!0,previousValue,value}}let pickChanged=keys3=>{let picked=(0,remirror_core_helpers.Ry)();for(let key2 of keys3){let item=changes[key2];(null==item?void 0:item.changed)&&(picked[key2]=item.value)}return picked};return{changes:(0,remirror_core_helpers.vV)(changes),options:next,pickChanged}}var codeLabelMap={[remirror_core_constants.mA.DUPLICATE_HELPER_NAMES]:"helper method",[remirror_core_constants.mA.DUPLICATE_COMMAND_NAMES]:"command method"};function throwIfNameNotUnique(props){let{name,set,code}=props,label=codeLabelMap[code];(0,remirror_core_helpers.kG)(!set.has(name),{code,message:`There is a naming conflict for the name: ${name} used in this '${label}'. Please rename or remove from the editor to avoid runtime errors.`}),set.add(name)}var IGNORE="__IGNORE__",BaseClass=class{constructor(defaultOptions2,...[options]){__publicField(this,"~O",{}),__publicField(this,"_initialOptions"),__publicField(this,"_dynamicKeys"),__publicField(this,"_options"),__publicField(this,"_mappedHandlers"),__publicField(this,"onAddCustomHandler"),this._mappedHandlers=(0,remirror_core_helpers.Ry)(),this.populateMappedHandlers(),this._options=this._initialOptions=(0,remirror_core_helpers.RH)(defaultOptions2,this.constructor.defaultOptions,null!=options?options:(0,remirror_core_helpers.Ry)(),this.createDefaultHandlerOptions()),this._dynamicKeys=this.getDynamicKeys(),this.init()}get options(){return this._options}get dynamicKeys(){return this._dynamicKeys}get initialOptions(){return this._initialOptions}init(){}getDynamicKeys(){let dynamicKeys=[],{customHandlerKeys,handlerKeys,staticKeys}=this.constructor;for(let key2 of(0,remirror_core_helpers.XP)(this._options))staticKeys.includes(key2)||handlerKeys.includes(key2)||customHandlerKeys.includes(key2)||dynamicKeys.push(key2);return dynamicKeys}ensureAllKeysAreDynamic(update){if(remirror_core_utils.NZ.isProduction)return;let invalid=[];for(let key2 of(0,remirror_core_helpers.XP)(update))this._dynamicKeys.includes(key2)||invalid.push(key2);(0,remirror_core_helpers.kG)((0,remirror_core_helpers.yD)(invalid),{code:remirror_core_constants.mA.INVALID_SET_EXTENSION_OPTIONS,message:`Invalid properties passed into the 'setOptions()' method: ${JSON.stringify(invalid)}.`})}setOptions(update){var _a;let previousOptions=this.getDynamicOptions();this.ensureAllKeysAreDynamic(update);let{changes,options,pickChanged}=getChangedOptions({previousOptions,update});this.updateDynamicOptions(options),null==(_a=this.onSetOptions)||_a.call(this,{reason:"set",changes,options,pickChanged,initialOptions:this._initialOptions})}resetOptions(){var _a;let previousOptions=this.getDynamicOptions(),{changes,options,pickChanged}=getChangedOptions({previousOptions,update:this._initialOptions});this.updateDynamicOptions(options),null==(_a=this.onSetOptions)||_a.call(this,{reason:"reset",options,changes,pickChanged,initialOptions:this._initialOptions})}getDynamicOptions(){return object_omit_default()(this._options,[...this.constructor.customHandlerKeys,...this.constructor.handlerKeys])}updateDynamicOptions(options){this._options={...this._options,...options}}populateMappedHandlers(){for(let key2 of this.constructor.handlerKeys)this._mappedHandlers[key2]=[]}createDefaultHandlerOptions(){let methods=(0,remirror_core_helpers.Ry)();for(let key2 of this.constructor.handlerKeys)methods[key2]=(...args)=>{var _a;let{handlerKeyOptions}=this.constructor,reducer=null==(_a=handlerKeyOptions[key2])?void 0:_a.reducer,returnValue=null==reducer?void 0:reducer.getDefault(...args);for(let[,handler]of this._mappedHandlers[key2]){let value=handler(...args);if(function(handlerKeyOptions,returnValue,handlerKey){let{__ALL__:generalOptions}=handlerKeyOptions,handlerOptions=handlerKeyOptions[handlerKey];return(!!generalOptions||!!handlerOptions)&&(!!handlerOptions&&handlerOptions.earlyReturnValue!==IGNORE&&((0,remirror_core_helpers.mf)(handlerOptions.earlyReturnValue)?!0===handlerOptions.earlyReturnValue(returnValue):returnValue===handlerOptions.earlyReturnValue)||!!generalOptions&&generalOptions.earlyReturnValue!==IGNORE&&((0,remirror_core_helpers.mf)(generalOptions.earlyReturnValue)?!0===generalOptions.earlyReturnValue(returnValue):returnValue===generalOptions.earlyReturnValue))}(handlerKeyOptions,returnValue=reducer?reducer.accumulator(returnValue,value,...args):value,key2))break}return returnValue};return methods}addHandler(key2,method,priority=remirror_core_constants.xV.Default){return this._mappedHandlers[key2].push([priority,method]),this.sortHandlers(key2),()=>this._mappedHandlers[key2]=this._mappedHandlers[key2].filter(([,handler])=>handler!==method)}hasHandlers(key2){var _a;return(null!=(_a=this._mappedHandlers[key2])?_a:[]).length>0}sortHandlers(key2){this._mappedHandlers[key2]=(0,remirror_core_helpers.DY)(this._mappedHandlers[key2],([a],[z])=>z-a)}addCustomHandler(key2,value){var _a,_b;return null!=(_b=null==(_a=this.onAddCustomHandler)?void 0:_a.call(this,{[key2]:value}))?_b:remirror_core_helpers.ZT}};__publicField(BaseClass,"defaultOptions",{}),__publicField(BaseClass,"staticKeys",[]),__publicField(BaseClass,"handlerKeys",[]),__publicField(BaseClass,"handlerKeyOptions",{}),__publicField(BaseClass,"customHandlerKeys",[]);var Extension=class extends BaseClass{constructor(...args){for(let extension2 of(super(defaultOptions,...args),__publicField(this,"priorityOverride"),__publicField(this,"_extensions"),__publicField(this,"extensionMap"),__publicField(this,"_store"),__publicField(this,"~E",{}),this._extensions=(0,remirror_core_helpers.uw)(this.createExtensions(),extension2=>extension2.constructor),this.extensionMap=new Map,this._extensions))this.extensionMap.set(extension2.constructor,extension2)}get priority(){var _a,_b;return null!=(_b=null!=(_a=this.priorityOverride)?_a:this.options.priority)?_b:this.constructor.defaultPriority}get constructorName(){return`${(0,index_es.Ho)(this.name)}Extension`}get store(){return(0,remirror_core_helpers.kG)(this._store,{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"An error occurred while attempting to access the 'extension.store' when the Manager has not yet set created the lifecycle methods."}),(0,remirror_core_helpers.vV)(this._store,{requireKeys:!0})}get extensions(){return this._extensions}replaceChildExtension(constructor,extension2){this.extensionMap.has(constructor)&&(this.extensionMap.set(constructor,extension2),this._extensions=this.extensions.map(currentExtension=>extension2.constructor===constructor?extension2:currentExtension))}createExtensions(){return[]}getExtension(Constructor){let extension2=this.extensionMap.get(Constructor);return(0,remirror_core_helpers.kG)(extension2,{code:remirror_core_constants.mA.INVALID_GET_EXTENSION,message:`'${Constructor.name}' does not exist within the preset: '${this.name}'`}),extension2}isOfType(Constructor){return this.constructor===Constructor}setStore(store){this._store||(this._store=store)}clone(...args){return new this.constructor(...args)}setPriority(priority){this.priorityOverride=priority}};__publicField(Extension,"defaultPriority",remirror_core_constants.xV.Default);var PlainExtension=class extends Extension{static get[remirror_core_constants.By](){return remirror_core_constants.lk.PlainExtensionConstructor}get[remirror_core_constants.By](){return remirror_core_constants.lk.PlainExtension}},MarkExtension=class extends Extension{static get[remirror_core_constants.By](){return remirror_core_constants.lk.MarkExtensionConstructor}get[remirror_core_constants.By](){return remirror_core_constants.lk.MarkExtension}get type(){return(0,remirror_core_helpers.fp)(this.store.schema.marks,this.name)}constructor(...args){super(...args)}};__publicField(MarkExtension,"disableExtraAttributes",!1);var NodeExtension=class extends Extension{static get[remirror_core_constants.By](){return remirror_core_constants.lk.NodeExtensionConstructor}get[remirror_core_constants.By](){return remirror_core_constants.lk.NodeExtension}get type(){return(0,remirror_core_helpers.fp)(this.store.schema.nodes,this.name)}constructor(...args){super(...args)}};__publicField(NodeExtension,"disableExtraAttributes",!1);var defaultOptions={priority:void 0,extraAttributes:{},disableExtraAttributes:!1,exclude:{}};function isExtension(value){return(0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,[remirror_core_constants.lk.PlainExtension,remirror_core_constants.lk.MarkExtension,remirror_core_constants.lk.NodeExtension])}function isPlainExtension(value){return(0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,remirror_core_constants.lk.PlainExtension)}function isNodeExtension(value){return(0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,remirror_core_constants.lk.NodeExtension)}function isMarkExtension(value){return(0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,remirror_core_constants.lk.MarkExtension)}function extension(options){return ReadonlyConstructor=>{let{defaultOptions:defaultOptions2,customHandlerKeys,handlerKeys,staticKeys,defaultPriority,handlerKeyOptions,...rest}=options,Constructor=(0,remirror_core_helpers.RF)(ReadonlyConstructor);for(let[key2,value]of(defaultOptions2&&(Constructor.defaultOptions=defaultOptions2),defaultPriority&&(Constructor.defaultPriority=defaultPriority),handlerKeyOptions&&(Constructor.handlerKeyOptions=handlerKeyOptions),Constructor.staticKeys=null!=staticKeys?staticKeys:[],Constructor.handlerKeys=null!=handlerKeys?handlerKeys:[],Constructor.customHandlerKeys=null!=customHandlerKeys?customHandlerKeys:[],Object.entries(rest)))Constructor[key2]||(Constructor[key2]=value);return(0,remirror_core_helpers.RF)(Constructor)}}var AttributesExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"attributeList",[]),__publicField(this,"attributeObject",(0,remirror_core_helpers.Ry)()),__publicField(this,"updateAttributes",(triggerUpdate=!0)=>{this.transformAttributes(),triggerUpdate&&this.store.commands.forceUpdate("attributes")})}get name(){return"attributes"}onCreate(){this.transformAttributes(),this.store.setExtensionStore("updateAttributes",this.updateAttributes)}transformAttributes(){var _a,_b,_c,_d;if(this.attributeObject=(0,remirror_core_helpers.Ry)(),null==(_a=this.store.managerSettings.exclude)?void 0:_a.attributes){this.store.setStoreKey("attributes",this.attributeObject);return}for(let extension2 of(this.attributeList=[],this.store.extensions)){if(null==(_b=extension2.options.exclude)?void 0:_b.attributes)continue;let createdAttributes=null==(_c=extension2.createAttributes)?void 0:_c.call(extension2),attributes={...createdAttributes,class:(0,remirror_core_helpers.cx)(...null!=(_d=extension2.classNames)?_d:[],null==createdAttributes?void 0:createdAttributes.class)};this.attributeList.unshift(attributes)}for(let attributes1 of this.attributeList)this.attributeObject={...this.attributeObject,...attributes1,class:(0,remirror_core_helpers.cx)(this.attributeObject.class,attributes1.class)};this.store.setStoreKey("attributes",this.attributeObject)}};function helper(options={}){return(target,propertyKey,_descriptor)=>{var _a;(null!=(_a=target.decoratedHelpers)?_a:target.decoratedHelpers={})[propertyKey]=options}}function command(options={}){return(target,propertyKey,_descriptor)=>{var _a;(null!=(_a=target.decoratedCommands)?_a:target.decoratedCommands={})[propertyKey]=options}}function keyBinding(options){return(target,propertyKey,_descriptor)=>{var _a;(null!=(_a=target.decoratedKeybindings)?_a:target.decoratedKeybindings={})[propertyKey]=options}}var DelayedCommand=class{constructor(promiseCreator){this.promiseCreator=promiseCreator,__publicField(this,"failureHandlers",[]),__publicField(this,"successHandlers",[]),__publicField(this,"validateHandlers",[]),__publicField(this,"generateCommand",()=>props=>{let isValid=!0,{view,tr,dispatch}=props;if(!view)return!1;for(let handler of this.validateHandlers)if(!handler({...props,dispatch(){}})){isValid=!1;break}if(!dispatch||!isValid)return isValid;let deferred=this.promiseCreator(props);return deferred.then(value=>{this.runHandlers(this.successHandlers,{value,state:view.state,tr:view.state.tr,dispatch:view.dispatch,view})}).catch(error=>{this.runHandlers(this.failureHandlers,{error,state:view.state,tr:view.state.tr,dispatch:view.dispatch,view})}),dispatch(tr),!0})}validate(handler,method="push"){return this.validateHandlers[method](handler),this}success(handler,method="push"){return this.successHandlers[method](handler),this}failure(handler,method="push"){return this.failureHandlers[method](handler),this}runHandlers(handlers,param){var _a;for(let handler of handlers)if(!handler({...param,dispatch(){}}))break;null==(_a=param.dispatch)||_a.call(param,param.tr)}};function toggleMark(props){let{type,attrs,range,selection}=props;return props2=>{var _a;let{dispatch,tr,state}=props2,markType=(0,remirror_core_helpers.HD)(type)?state.schema.marks[type]:type;if((0,remirror_core_helpers.kG)(markType,{code:remirror_core_constants.mA.SCHEMA,message:`Mark type: ${type} does not exist on the current schema.`}),range||selection){let{from,to}=(0,remirror_core_utils.b0)(null!=(_a=null!=selection?selection:range)?_a:tr.selection,tr.doc);return(0,remirror_core_utils.yw)({trState:tr,type,...range})?null==dispatch||dispatch(tr.removeMark(from,to,markType)):null==dispatch||dispatch(tr.addMark(from,to,markType.create(attrs))),!0}return(0,remirror_pm.A_)((0,prosemirror_commands_dist.w9)(markType,attrs))(props2)}}var CommandsExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"_transaction"),__publicField(this,"decorated",new Map),__publicField(this,"forceUpdateTransaction",(tr,...keys3)=>{let{forcedUpdates}=this.getCommandMeta(tr);return this.setCommandMeta(tr,{forcedUpdates:(0,remirror_core_helpers.Nb)([...forcedUpdates,...keys3])}),tr})}get name(){return"commands"}get transaction(){let state=this.store.getState();this._transaction||(this._transaction=state.tr);let isValid=this._transaction.before.eq(state.doc),hasSteps=!(0,remirror_core_helpers.yD)(this._transaction.steps);if(!isValid){let tr=state.tr;if(hasSteps)for(let step of this._transaction.steps)tr.step(step);this._transaction=tr}return this._transaction}onCreate(){this.store.setStoreKey("getForcedUpdates",this.getForcedUpdates.bind(this))}onView(view){var _a,_b,_c;let{extensions,helpers}=this.store,commands=(0,remirror_core_helpers.Ry)(),names=new Set,allDecoratedCommands=(0,remirror_core_helpers.Ry)(),chain=tr=>{var _a2;let customChain=(0,remirror_core_helpers.Ry)(),getTr=()=>null!=tr?tr:this.transaction,commandChain=[];for(let[name,command2]of Object.entries(commands))null!=(_a2=allDecoratedCommands[name])&&_a2.disableChaining||(customChain[name]=this.chainedFactory({chain:customChain,command:command2.original,getTr,getChain:()=>commandChain}));let dispatch=transaction=>{(0,remirror_core_helpers.kG)(transaction===getTr(),{message:"Chaining currently only supports `CommandFunction` methods which do not use the `state.tr` property. Instead you should use the provided `tr` property."})};return customChain.run=(options={})=>{let commands2=commandChain;for(let cmd of(commandChain=[],commands2))if(!cmd(dispatch)&&options.exitEarly)return;view.dispatch(getTr())},customChain.tr=()=>{let commands2=commandChain;for(let cmd of(commandChain=[],commands2))cmd(dispatch);return getTr()},customChain.enabled=()=>{for(let cmd of commandChain)if(!cmd())return!1;return!0},customChain};for(let extension2 of extensions){let extensionCommands=null!=(_b=null==(_a=extension2.createCommands)?void 0:_a.call(extension2))?_b:{},decoratedCommands=null!=(_c=extension2.decoratedCommands)?_c:{},active={};for(let[commandName,options]of(allDecoratedCommands={...allDecoratedCommands,decoratedCommands},Object.entries(decoratedCommands))){let shortcut=(0,remirror_core_helpers.HD)(options.shortcut)&&options.shortcut.startsWith("_|")?{shortcut:helpers.getNamedShortcut(options.shortcut,extension2.options)}:void 0;this.updateDecorated(commandName,{...options,name:extension2.name,...shortcut}),extensionCommands[commandName]=extension2[commandName].bind(extension2),options.active&&(active[commandName]=()=>{var _a2,_b2;return null!=(_b2=null==(_a2=options.active)?void 0:_a2.call(options,extension2.options,this.store))&&_b2})}(0,remirror_core_helpers.Qr)(extensionCommands)||this.addCommands({active,names,commands,extensionCommands})}let chainProperty=chain();for(let[key2,command2]of Object.entries(chainProperty))chain[key2]=command2;this.store.setStoreKey("commands",commands),this.store.setStoreKey("chain",chain),this.store.setExtensionStore("commands",commands),this.store.setExtensionStore("chain",chain)}onStateUpdate({state}){this._transaction=state.tr}createPlugin(){return{}}customDispatch(command2){return command2}insertText(text,options={}){return(0,remirror_core_helpers.HD)(text)?function(text,options={}){return({tr,dispatch,state})=>{let schema=state.schema,selection=tr.selection,{from=selection.from,to=null!=from?from:selection.to,marks={}}=options;if(!dispatch)return!0;tr.insertText(text,from,to);let end=(0,remirror_core_helpers.fp)(tr.steps,tr.steps.length-1).getMap().map(to);for(let[markName,attributes]of(0,remirror_core_helpers.qh)(marks))tr.addMark(from,end,(0,remirror_core_helpers.fp)(schema.marks,markName).create(attributes));return dispatch(tr),!0}}(text,options):this.store.createPlaceholderCommand({promise:text,placeholder:{type:"inline"},onSuccess:(value,range,props)=>this.insertText(value,{...options,...range})(props)}).generateCommand()}selectText(selection,options={}){return({tr,dispatch})=>{let textSelection=(0,remirror_core_utils.b0)(selection,tr.doc),selectionUnchanged=tr.selection.anchor===textSelection.anchor&&tr.selection.head===textSelection.head;return(!selectionUnchanged||!!options.forceUpdate)&&(null==dispatch||dispatch(tr.setSelection(textSelection)),!0)}}selectMark(type){return props=>{let{tr}=props,range=(0,remirror_core_utils.IH)(tr.selection.$from,type);return!!range&&this.store.commands.selectText.original({from:range.from,to:range.to})(props)}}delete(range){return({tr,dispatch})=>{let{from,to}=null!=range?range:tr.selection;return null==dispatch||dispatch(tr.delete(from,to)),!0}}emptyUpdate(action){return({tr,dispatch})=>(dispatch&&(null==action||action(),dispatch(tr)),!0)}forceUpdate(...keys3){return({tr,dispatch})=>(null==dispatch||dispatch(this.forceUpdateTransaction(tr,...keys3)),!0)}updateNodeAttributes(pos,attrs){return({tr,dispatch})=>(null==dispatch||dispatch(tr.setNodeMarkup(pos,void 0,attrs)),!0)}setContent(content,selection){return props=>{let{tr,dispatch}=props,state=this.store.manager.createState({content,selection});return!!state&&(null==dispatch||dispatch(tr.replaceRangeWith(0,tr.doc.nodeSize-2,state.doc)),!0)}}resetContent(){return props=>{let{tr,dispatch}=props,doc=this.store.manager.createEmptyDoc();return doc?this.setContent(doc)(props):(null==dispatch||dispatch(tr.delete(0,tr.doc.nodeSize)),!0)}}emptySelection(){return({tr,dispatch})=>!tr.selection.empty&&(null==dispatch||dispatch(tr.setSelection(prosemirror_state_dist.Bs.near(tr.selection.$anchor))),!0)}insertNewLine(){return({dispatch,tr})=>!!(0,remirror_core_utils.hT)(tr.selection)&&(null==dispatch||dispatch(tr.insertText("\n")),!0)}insertNode(node,options={}){return({dispatch,tr,state})=>{var _a,_b;let{attrs,range,selection,replaceEmptyParentBlock=!1}=options,{from,to,$from}=(0,remirror_core_utils.b0)(null!=(_a=null!=selection?selection:range)?_a:tr.selection,tr.doc);if((0,remirror_core_utils.PH)(node)||(0,remirror_core_utils.mt)(node)){let pos=$from.before($from.depth);return null==dispatch||dispatch(replaceEmptyParentBlock&&from===to&&(0,remirror_core_utils.mp)($from.parent)?tr.replaceWith(pos,pos+$from.parent.nodeSize,node):tr.replaceWith(from,to,node)),!0}let nodeType=(0,remirror_core_helpers.HD)(node)?state.schema.nodes[node]:node;(0,remirror_core_helpers.kG)(nodeType,{code:remirror_core_constants.mA.SCHEMA,message:`The requested node type ${node} does not exist in the schema.`});let marks=null==(_b=options.marks)?void 0:_b.map(mark=>{if(mark instanceof dist.vc)return mark;let markType=(0,remirror_core_helpers.HD)(mark)?state.schema.marks[mark]:mark;return(0,remirror_core_helpers.kG)(markType,{code:remirror_core_constants.mA.SCHEMA,message:`The requested mark type ${mark} does not exist in the schema.`}),markType.create()}),content=nodeType.createAndFill(attrs,(0,remirror_core_helpers.HD)(options.content)?state.schema.text(options.content):options.content,marks);return!!content&&(null==dispatch||dispatch(from!==to?tr.replaceRangeWith(from,to,content):tr.insert(from,content)),!0)}}focus(position){return props=>{let{dispatch,tr}=props,{view}=this.store;if(!1===position||view.hasFocus()&&(void 0===position||!0===position))return!1;if(void 0===position||!0===position){let{from=0,to=from}=tr.selection;position={from,to}}return dispatch&&this.delayedFocus(),this.selectText(position)(props)}}blur(position){return props=>{let{view}=this.store;return!!view.hasFocus()&&(requestAnimationFrame(()=>{view.dom.blur()}),!position||this.selectText(position)(props))}}setBlockNodeType(nodeType,attrs,selection,preserveAttrs=!0){return(0,remirror_core_utils.uJ)(nodeType,attrs,selection,preserveAttrs)}toggleWrappingNode(nodeType,attrs,selection){return(0,remirror_core_utils.bm)(nodeType,attrs,selection)}toggleBlockNodeItem(toggleProps){return(0,remirror_core_utils.zU)(toggleProps)}wrapInNode(nodeType,attrs,range){return(0,remirror_core_utils.ym)(nodeType,attrs,range)}applyMark(markType,attrs,selection){return({tr,dispatch,state})=>{let selection1=(0,remirror_core_utils.b0)(null!=selection?selection:tr.selection,tr.doc),$cursor=(0,remirror_core_utils.Lp)(selection1),markType1=(0,remirror_core_helpers.HD)(markType)?state.schema.marks[markType]:markType;if((0,remirror_core_helpers.kG)(markType1,{code:remirror_core_constants.mA.SCHEMA,message:`Mark type: ${markType} does not exist on the current schema.`}),selection1.empty&&!$cursor||!function(type,doc,ranges){for(let{$from,$to}of ranges){let markIsAllowed=0===$from.depth&&doc.type.allowsMarkType(type);if(doc.nodesBetween($from.pos,$to.pos,node=>{if(markIsAllowed)return!1;markIsAllowed=node.inlineContent&&node.type.allowsMarkType(type)}),markIsAllowed)return!0}return!1}(markType1,tr.doc,selection1.ranges))return!1;if(!dispatch)return!0;if($cursor)return tr.removeStoredMark(markType1),attrs&&tr.addStoredMark(markType1.create(attrs)),dispatch(tr),!0;let containsMark=!1;for(let{$from,$to}of selection1.ranges){if(containsMark)break;containsMark=tr.doc.rangeHasMark($from.pos,$to.pos,markType1)}for(let{$from:$from1,$to:$to1}of selection1.ranges)containsMark&&tr.removeMark($from1.pos,$to1.pos,markType1),attrs&&tr.addMark($from1.pos,$to1.pos,markType1.create(attrs));return dispatch(tr),!0}}toggleMark(props){return toggleMark(props)}removeMark(props){return(0,remirror_core_utils.P9)(props)}setMeta(name,value){return({tr})=>(tr.setMeta(name,value),!0)}selectAll(){return this.selectText("all")}copy(){return props=>!props.tr.selection.empty&&(props.dispatch&&document.execCommand("copy"),!0)}paste(){return this.store.createPlaceholderCommand({promise:()=>navigator.clipboard.readText(),placeholder:{type:"inline"},onSuccess:(value,selection,props)=>this.insertNode((0,remirror_core_utils.OC)({content:value,schema:props.state.schema}),{selection})(props)}).generateCommand()}cut(){return props=>!props.tr.selection.empty&&(props.dispatch&&document.execCommand("cut"),!0)}replaceText(props){return(0,remirror_core_utils.lp)(props)}getAllCommandOptions(){let uiCommands={};for(let[name,options]of this.decorated)(0,remirror_core_helpers.Qr)(options)||(uiCommands[name]=options);return uiCommands}getCommandOptions(name){return this.decorated.get(name)}getCommandProp(){return{tr:this.transaction,dispatch:this.store.view.dispatch,state:this.store.view.state,view:this.store.view}}updateDecorated(name,options){var _a;if(!options){this.decorated.delete(name);return}let decoratorOptions=null!=(_a=this.decorated.get(name))?_a:{name:""};this.decorated.set(name,{...decoratorOptions,...options})}handleIosFocus(){remirror_core_utils.NZ.isIos&&this.store.view.dom.focus()}delayedFocus(){this.handleIosFocus(),requestAnimationFrame(()=>{this.store.view.focus(),this.store.view.dispatch(this.transaction.scrollIntoView())})}getForcedUpdates(tr){return this.getCommandMeta(tr).forcedUpdates}getCommandMeta(tr){var _a;let meta=null!=(_a=tr.getMeta(this.pluginKey))?_a:{};return{...DEFAULT_COMMAND_META,...meta}}setCommandMeta(tr,update){let meta=this.getCommandMeta(tr);tr.setMeta(this.pluginKey,{...meta,...update})}addCommands(props){let{extensionCommands,commands,names,active}=props;for(let[name,command2]of(0,remirror_core_helpers.qh)(extensionCommands))throwIfNameNotUnique({name,set:names,code:remirror_core_constants.mA.DUPLICATE_COMMAND_NAMES}),(0,remirror_core_helpers.kG)(!forbiddenNames.has(name),{code:remirror_core_constants.mA.DUPLICATE_COMMAND_NAMES,message:"The command name you chose is forbidden."}),commands[name]=this.createUnchainedCommand(command2,active[name])}unchainedFactory(props){return(...args)=>{let dispatch;let{shouldDispatch=!0,command:command2}=props,{view}=this.store,{state}=view;return shouldDispatch&&(dispatch=view.dispatch),command2(...args)({state,dispatch,view,tr:state.tr})}}createUnchainedCommand(command2,active){let unchainedCommand=this.unchainedFactory({command:command2});return unchainedCommand.enabled=this.unchainedFactory({command:command2,shouldDispatch:!1}),unchainedCommand.isEnabled=unchainedCommand.enabled,unchainedCommand.original=command2,unchainedCommand.active=active,unchainedCommand}chainedFactory(props){return(...args)=>{let{chain:chained,command:command2,getTr,getChain}=props,lazyChain=getChain(),{view}=this.store,{state}=view;return lazyChain.push(dispatch=>command2(...args)({state,dispatch,view,tr:getTr()})),chained}}};__decorateClass([command()],CommandsExtension.prototype,"customDispatch",1),__decorateClass([command()],CommandsExtension.prototype,"insertText",1),__decorateClass([command()],CommandsExtension.prototype,"selectText",1),__decorateClass([command()],CommandsExtension.prototype,"selectMark",1),__decorateClass([command()],CommandsExtension.prototype,"delete",1),__decorateClass([command()],CommandsExtension.prototype,"emptyUpdate",1),__decorateClass([command()],CommandsExtension.prototype,"forceUpdate",1),__decorateClass([command()],CommandsExtension.prototype,"updateNodeAttributes",1),__decorateClass([command()],CommandsExtension.prototype,"setContent",1),__decorateClass([command()],CommandsExtension.prototype,"resetContent",1),__decorateClass([command()],CommandsExtension.prototype,"emptySelection",1),__decorateClass([command()],CommandsExtension.prototype,"insertNewLine",1),__decorateClass([command()],CommandsExtension.prototype,"insertNode",1),__decorateClass([command()],CommandsExtension.prototype,"focus",1),__decorateClass([command()],CommandsExtension.prototype,"blur",1),__decorateClass([command()],CommandsExtension.prototype,"setBlockNodeType",1),__decorateClass([command()],CommandsExtension.prototype,"toggleWrappingNode",1),__decorateClass([command()],CommandsExtension.prototype,"toggleBlockNodeItem",1),__decorateClass([command()],CommandsExtension.prototype,"wrapInNode",1),__decorateClass([command()],CommandsExtension.prototype,"applyMark",1),__decorateClass([command()],CommandsExtension.prototype,"toggleMark",1),__decorateClass([command()],CommandsExtension.prototype,"removeMark",1),__decorateClass([command()],CommandsExtension.prototype,"setMeta",1),__decorateClass([command({description:({t})=>t(remirror_messages.Vb.SELECT_ALL_DESCRIPTION),label:({t})=>t(remirror_messages.Vb.SELECT_ALL_LABEL),shortcut:remirror_core_constants.vO.SelectAll})],CommandsExtension.prototype,"selectAll",1),__decorateClass([command({description:({t})=>t(remirror_messages.Vb.COPY_DESCRIPTION),label:({t})=>t(remirror_messages.Vb.COPY_LABEL),shortcut:remirror_core_constants.vO.Copy,icon:"fileCopyLine"})],CommandsExtension.prototype,"copy",1),__decorateClass([command({description:({t})=>t(remirror_messages.Vb.PASTE_DESCRIPTION),label:({t})=>t(remirror_messages.Vb.PASTE_LABEL),shortcut:remirror_core_constants.vO.Paste,icon:"clipboardLine"})],CommandsExtension.prototype,"paste",1),__decorateClass([command({description:({t})=>t(remirror_messages.Vb.CUT_DESCRIPTION),label:({t})=>t(remirror_messages.Vb.CUT_LABEL),shortcut:remirror_core_constants.vO.Cut,icon:"scissorsFill"})],CommandsExtension.prototype,"cut",1),__decorateClass([command()],CommandsExtension.prototype,"replaceText",1),__decorateClass([helper()],CommandsExtension.prototype,"getAllCommandOptions",1),__decorateClass([helper()],CommandsExtension.prototype,"getCommandOptions",1),__decorateClass([helper()],CommandsExtension.prototype,"getCommandProp",1),CommandsExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Highest,defaultOptions:{trackerClassName:"remirror-tracker-position",trackerNodeName:"span"},staticKeys:["trackerClassName","trackerNodeName"]})],CommandsExtension);var DEFAULT_COMMAND_META={forcedUpdates:[]},forbiddenNames=new Set(["run","chain","original","raw","enabled","tr"]),DecorationsExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"placeholders",prosemirror_view_dist.EH.empty),__publicField(this,"placeholderWidgets",new Map),__publicField(this,"createPlaceholderCommand",props=>{let id=(0,remirror_core_helpers.EL)(),{promise,placeholder,onFailure,onSuccess}=props;return new DelayedCommand(promise).validate(props2=>this.addPlaceholder(id,placeholder)(props2)).success(props2=>{var _a;let{state,tr,dispatch,view,value}=props2,range=this.store.helpers.findPlaceholder(id);if(!range){let error=Error("The placeholder has been removed");return null!=(_a=null==onFailure?void 0:onFailure({error,state,tr,dispatch,view}))&&_a}return this.removePlaceholder(id)({state,tr,view,dispatch(){}}),onSuccess(value,range,{state,tr,dispatch,view})}).failure(props2=>{var _a;return this.removePlaceholder(id)({...props2,dispatch(){}}),null!=(_a=null==onFailure?void 0:onFailure(props2))&&_a})})}get name(){return"decorations"}onCreate(){this.store.setExtensionStore("createPlaceholderCommand",this.createPlaceholderCommand)}createPlugin(){return{state:{init(){},apply:tr=>{var _a,_b,_c,_d,_e,_f;let{added,clearTrackers,removed,updated}=this.getMeta(tr);if(clearTrackers){for(let[,widget]of(this.placeholders=prosemirror_view_dist.EH.empty,this.placeholderWidgets))null==(_b=(_a=widget.spec).onDestroy)||_b.call(_a,this.store.view,widget.spec.element);this.placeholderWidgets.clear();return}for(let[,widget1]of(this.placeholders=this.placeholders.map(tr.mapping,tr.doc,{onRemove:spec=>{var _a2,_b2;let widget=this.placeholderWidgets.get(spec.id);widget&&(null==(_b2=(_a2=widget.spec).onDestroy)||_b2.call(_a2,this.store.view,widget.spec.element))}}),this.placeholderWidgets))null==(_d=(_c=widget1.spec).onUpdate)||_d.call(_c,this.store.view,widget1.from,widget1.spec.element,widget1.spec.data);for(let placeholder of added){if("inline"===placeholder.type){this.addInlinePlaceholder(placeholder,tr);continue}if("node"===placeholder.type){this.addNodePlaceholder(placeholder,tr);continue}if("widget"===placeholder.type){this.addWidgetPlaceholder(placeholder,tr);continue}}for(let{id,data}of updated){let widget2=this.placeholderWidgets.get(id);if(!widget2)continue;let updatedWidget=prosemirror_view_dist.p.widget(widget2.from,widget2.spec.element,{...widget2.spec,data});this.placeholders=this.placeholders.remove([widget2]).add(tr.doc,[updatedWidget]),this.placeholderWidgets.set(id,updatedWidget)}for(let id1 of removed){let found=this.placeholders.find(void 0,void 0,spec=>spec.id===id1&&spec.__type===__type),widget3=this.placeholderWidgets.get(id1);widget3&&(null==(_f=(_e=widget3.spec).onDestroy)||_f.call(_e,this.store.view,widget3.spec.element)),this.placeholders=this.placeholders.remove(found),this.placeholderWidgets.delete(id1)}}},props:{decorations:state=>{let decorationSet=this.options.decorations(state);for(let extension2 of(decorationSet=decorationSet.add(state.doc,this.placeholders.find()),this.store.extensions)){if(!extension2.createDecorations)continue;let decorations=extension2.createDecorations(state).find();decorationSet=decorationSet.add(state.doc,decorations)}return decorationSet},handleDOMEvents:{blur:view=>(this.options.persistentSelectionClass&&view.dispatch(view.state.tr.setMeta(persistentSelectionFocusKey,!1)),!1),focus:view=>(this.options.persistentSelectionClass&&view.dispatch(view.state.tr.setMeta(persistentSelectionFocusKey,!0)),!1)}}}}updateDecorations(){return({tr,dispatch})=>(null==dispatch||dispatch(tr),!0)}addPlaceholder(id,placeholder,deleteSelection){return({dispatch,tr})=>!!this.addPlaceholderTransaction(id,placeholder,tr,!dispatch)&&(null==dispatch||dispatch(deleteSelection?tr.deleteSelection():tr),!0)}updatePlaceholder(id,data){return({dispatch,tr})=>!!this.updatePlaceholderTransaction({id,data,tr,checkOnly:!dispatch})&&(null==dispatch||dispatch(tr),!0)}removePlaceholder(id){return({dispatch,tr})=>!!this.removePlaceholderTransaction({id,tr,checkOnly:!dispatch})&&(null==dispatch||dispatch(tr),!0)}clearPlaceholders(){return({tr,dispatch})=>!!this.clearPlaceholdersTransaction({tr,checkOnly:!dispatch})&&(null==dispatch||dispatch(tr),!0)}findPlaceholder(id){return this.findAllPlaceholders().get(id)}findAllPlaceholders(){let trackers=new Map,found=this.placeholders.find(void 0,void 0,spec=>spec.__type===__type);for(let decoration of found)trackers.set(decoration.spec.id,{from:decoration.from,to:decoration.to});return trackers}createDecorations(state){var _a,_b,_c;let{persistentSelectionClass}=this.options;return!persistentSelectionClass||(null==(_a=this.store.view)?void 0:_a.hasFocus())||(null==(_c=(_b=this.store.helpers).isInteracting)?void 0:_c.call(_b))?prosemirror_view_dist.EH.empty:function(state,decorationSet,attrs){let{selection,doc}=state;if(selection.empty)return decorationSet;let{from,to}=selection,decoration=(0,remirror_core_utils.EG)(selection)?prosemirror_view_dist.p.node(from,to,attrs):prosemirror_view_dist.p.inline(from,to,attrs);return decorationSet.add(doc,[decoration])}(state,prosemirror_view_dist.EH.empty,{class:(0,remirror_core_helpers.HD)(persistentSelectionClass)?persistentSelectionClass:"selection"})}onApplyState(){}addWidgetPlaceholder(placeholder,tr){var _a;let{pos,createElement,onDestroy,onUpdate,className,nodeName,id,type}=placeholder,element=null!=(_a=null==createElement?void 0:createElement(this.store.view,pos))?_a:document.createElement(nodeName);element.classList.add(className);let decoration=prosemirror_view_dist.p.widget(pos,element,{id,__type,type,element,onDestroy,onUpdate});this.placeholderWidgets.set(id,decoration),this.placeholders=this.placeholders.add(tr.doc,[decoration])}addInlinePlaceholder(placeholder,tr){let decoration;let{from=tr.selection.from,to=tr.selection.to,className,nodeName,id,type}=placeholder;if(from===to){let element=document.createElement(nodeName);element.classList.add(className),decoration=prosemirror_view_dist.p.widget(from,element,{id,type,__type,widget:element})}else decoration=prosemirror_view_dist.p.inline(from,to,{nodeName,class:className},{id,__type});this.placeholders=this.placeholders.add(tr.doc,[decoration])}addNodePlaceholder(placeholder,tr){let{pos,className,nodeName,id}=placeholder,$pos=(0,remirror_core_helpers.hj)(pos)?tr.doc.resolve(pos):tr.selection.$from,found=(0,remirror_core_helpers.hj)(pos)?$pos.nodeAfter?{pos,end:$pos.nodeAfter.nodeSize}:void 0:(0,remirror_core_utils.hK)($pos);if(!found)return;let decoration=prosemirror_view_dist.p.node(found.pos,found.end,{nodeName,class:className},{id,__type});this.placeholders=this.placeholders.add(tr.doc,[decoration])}withRequiredBase(id,placeholder){let{placeholderNodeName,placeholderClassName}=this.options,{nodeName=placeholderNodeName,className,...rest}=placeholder,classes=(className?[placeholderClassName,className]:[placeholderClassName]).join(" ");return{nodeName,className:classes,...rest,id}}getMeta(tr){var _a;let meta=null!=(_a=tr.getMeta(this.pluginKey))?_a:{};return{...DEFAULT_PLACEHOLDER_META,...meta}}setMeta(tr,update){let meta=this.getMeta(tr);tr.setMeta(this.pluginKey,{...meta,...update})}addPlaceholderTransaction(id,placeholder,tr,checkOnly=!1){let existingPosition=this.findPlaceholder(id);if(existingPosition)return!1;if(checkOnly)return!0;let{added}=this.getMeta(tr);return this.setMeta(tr,{added:[...added,this.withRequiredBase(id,placeholder)]}),!0}updatePlaceholderTransaction(props){let{id,tr,checkOnly=!1,data}=props,existingPosition=this.findPlaceholder(id);if(!existingPosition)return!1;if(checkOnly)return!0;let{updated}=this.getMeta(tr);return this.setMeta(tr,{updated:(0,remirror_core_helpers.Nb)([...updated,{id,data}])}),!0}removePlaceholderTransaction(props){let{id,tr,checkOnly=!1}=props,existingPosition=this.findPlaceholder(id);if(!existingPosition)return!1;if(checkOnly)return!0;let{removed}=this.getMeta(tr);return this.setMeta(tr,{removed:(0,remirror_core_helpers.Nb)([...removed,id])}),!0}clearPlaceholdersTransaction(props){let{tr,checkOnly=!1}=props,positionTrackerState=this.getPluginState();return positionTrackerState!==prosemirror_view_dist.EH.empty&&(!!checkOnly||(this.setMeta(tr,{clearTrackers:!0}),!0))}};__decorateClass([command()],DecorationsExtension.prototype,"updateDecorations",1),__decorateClass([command()],DecorationsExtension.prototype,"addPlaceholder",1),__decorateClass([command()],DecorationsExtension.prototype,"updatePlaceholder",1),__decorateClass([command()],DecorationsExtension.prototype,"removePlaceholder",1),__decorateClass([command()],DecorationsExtension.prototype,"clearPlaceholders",1),__decorateClass([helper()],DecorationsExtension.prototype,"findPlaceholder",1),__decorateClass([helper()],DecorationsExtension.prototype,"findAllPlaceholders",1),DecorationsExtension=__decorateClass([extension({defaultOptions:{persistentSelectionClass:void 0,placeholderClassName:"placeholder",placeholderNodeName:"span"},staticKeys:["placeholderClassName","placeholderNodeName"],handlerKeys:["decorations"],handlerKeyOptions:{decorations:{reducer:{accumulator:(accumulated,latestValue,state)=>accumulated.add(state.doc,latestValue.find()),getDefault:()=>prosemirror_view_dist.EH.empty}}},defaultPriority:remirror_core_constants.xV.Low})],DecorationsExtension);var DEFAULT_PLACEHOLDER_META={added:[],updated:[],clearTrackers:!1,removed:[]},__type="placeholderDecoration",persistentSelectionFocusKey="persistentSelectionFocus",DocChangedExtension=class extends PlainExtension{get name(){return"docChanged"}onStateUpdate(props){let{firstUpdate,transactions,tr}=props;!firstUpdate&&(null!=transactions?transactions:[tr]).some(tr2=>null==tr2?void 0:tr2.docChanged)&&this.options.docChanged(props)}};DocChangedExtension=__decorateClass([extension({handlerKeys:["docChanged"],handlerKeyOptions:{docChanged:{earlyReturnValue:!1}},defaultPriority:remirror_core_constants.xV.Lowest})],DocChangedExtension);var HelpersExtension=class extends PlainExtension{get name(){return"helpers"}onCreate(){var _a,_b,_c;this.store.setStringHandler("text",this.textToProsemirrorNode.bind(this)),this.store.setStringHandler("html",remirror_core_utils.OC);let helpers=(0,remirror_core_helpers.Ry)(),active=(0,remirror_core_helpers.Ry)(),attrs=(0,remirror_core_helpers.Ry)(),names=new Set;for(let extension2 of this.store.extensions){isNodeExtension(extension2)&&(active[extension2.name]=attrs2=>(0,remirror_core_utils.Ig)({state:this.store.getState(),type:extension2.type,attrs:attrs2}),attrs[extension2.name]=attrs2=>{var _a2;return null==(_a2=(0,remirror_core_utils.EM)({state:this.store.getState(),type:extension2.type,attrs:attrs2}))?void 0:_a2.node.attrs}),isMarkExtension(extension2)&&(active[extension2.name]=attrs2=>(0,remirror_core_utils.yw)({trState:this.store.getState(),type:extension2.type,attrs:attrs2}),attrs[extension2.name]=attrs2=>{let markRange=(0,remirror_core_utils.IH)(this.store.getState().selection.$from,extension2.type);return markRange&&attrs2?(0,remirror_core_utils.V1)(markRange.mark,attrs2)?markRange.mark.attrs:void 0:null==markRange?void 0:markRange.mark.attrs});let extensionHelpers=null!=(_b=null==(_a=extension2.createHelpers)?void 0:_a.call(extension2))?_b:{};for(let helperName of Object.keys(null!=(_c=extension2.decoratedHelpers)?_c:{}))extensionHelpers[helperName]=extension2[helperName].bind(extension2);if(!(0,remirror_core_helpers.Qr)(extensionHelpers))for(let[name,helper2]of(0,remirror_core_helpers.qh)(extensionHelpers))throwIfNameNotUnique({name,set:names,code:remirror_core_constants.mA.DUPLICATE_HELPER_NAMES}),helpers[name]=helper2}this.store.setStoreKey("attrs",attrs),this.store.setStoreKey("active",active),this.store.setStoreKey("helpers",helpers),this.store.setExtensionStore("attrs",attrs),this.store.setExtensionStore("active",active),this.store.setExtensionStore("helpers",helpers)}isSelectionEmpty(state=this.store.getState()){return(0,remirror_core_utils.Ab)(state)}isViewEditable(state=this.store.getState()){var _a,_b,_c;return null!=(_c=null==(_b=(_a=this.store.view.props).editable)?void 0:_b.call(_a,state))&&_c}getStateJSON(state=this.store.getState()){return state.toJSON()}getJSON(state=this.store.getState()){return state.doc.toJSON()}getRemirrorJSON(state=this.store.getState()){return this.getJSON(state)}insertHtml(html,options){return props=>{let{state}=props,fragment=(0,remirror_core_utils.OC)({content:html,schema:state.schema,fragment:!0});return this.store.commands.insertNode.original(fragment,options)(props)}}getText({lineBreakDivider="\n\n",state=this.store.getState()}={}){return state.doc.textBetween(0,state.doc.content.size,lineBreakDivider,remirror_core_constants.Vp)}getTextBetween(from,to,doc=this.store.getState().doc){return doc.textBetween(from,to,"\n\n",remirror_core_constants.Vp)}getHTML(state=this.store.getState()){return(0,remirror_core_utils.Em)(state.doc,this.store.document)}textToProsemirrorNode(options){let content=`<pre>${options.content}</pre>`;return this.store.stringHandlers.html({...options,content})}};__decorateClass([helper()],HelpersExtension.prototype,"isSelectionEmpty",1),__decorateClass([helper()],HelpersExtension.prototype,"isViewEditable",1),__decorateClass([helper()],HelpersExtension.prototype,"getStateJSON",1),__decorateClass([helper()],HelpersExtension.prototype,"getJSON",1),__decorateClass([helper()],HelpersExtension.prototype,"getRemirrorJSON",1),__decorateClass([command()],HelpersExtension.prototype,"insertHtml",1),__decorateClass([helper()],HelpersExtension.prototype,"getText",1),__decorateClass([helper()],HelpersExtension.prototype,"getTextBetween",1),__decorateClass([helper()],HelpersExtension.prototype,"getHTML",1),HelpersExtension=__decorateClass([extension({})],HelpersExtension);var InputRulesExtension=class extends PlainExtension{get name(){return"inputRules"}onCreate(){this.store.setExtensionStore("rebuildInputRules",this.rebuildInputRules.bind(this))}createExternalPlugins(){return[this.generateInputRulesPlugin()]}generateInputRulesPlugin(){var _a,_b;let rules=[],invalidMarks=this.store.markTags[remirror_core_constants.eX.ExcludeInputRules];for(let extension2 of this.store.extensions)if((null==(_a=this.store.managerSettings.exclude)||!_a.inputRules)&&extension2.createInputRules&&(null==(_b=extension2.options.exclude)||!_b.inputRules))for(let rule of extension2.createInputRules())rule.shouldSkip=this.options.shouldSkipInputRule,rule.invalidMarks=invalidMarks,rules.push(rule);return(0,prosemirror_inputrules_dist.Hw)({rules})}rebuildInputRules(){this.store.updateExtensionPlugins(this)}};InputRulesExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Default,handlerKeys:["shouldSkipInputRule"],handlerKeyOptions:{shouldSkipInputRule:{earlyReturnValue:!0}}})],InputRulesExtension);var KeymapExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"extraKeyBindings",[]),__publicField(this,"backwardMarkExitTracker",new Map),__publicField(this,"keydownHandler",null),__publicField(this,"onAddCustomHandler",({keymap})=>{var _a,_b;if(keymap)return this.extraKeyBindings=[...this.extraKeyBindings,keymap],null==(_b=(_a=this.store).rebuildKeymap)||_b.call(_a),()=>{var _a2,_b2;this.extraKeyBindings=this.extraKeyBindings.filter(binding=>binding!==keymap),null==(_b2=(_a2=this.store).rebuildKeymap)||_b2.call(_a2)}}),__publicField(this,"rebuildKeymap",()=>{this.setupKeydownHandler()})}get name(){return"keymap"}get shortcutMap(){let{shortcuts}=this.options;return(0,remirror_core_helpers.HD)(shortcuts)?keyboardShortcuts[shortcuts]:shortcuts}onCreate(){this.store.setExtensionStore("rebuildKeymap",this.rebuildKeymap)}createExternalPlugins(){var _a;return(null==(_a=this.store.managerSettings.exclude)?void 0:_a.keymap)?[]:(this.setupKeydownHandler(),[new prosemirror_state_dist.Sy({props:{handleKeyDown:(view,event)=>{var _a2;return null==(_a2=this.keydownHandler)?void 0:_a2.call(this,view,event)}}})])}setupKeydownHandler(){let bindings=this.generateKeymapBindings();this.keydownHandler=(0,prosemirror_keymap_dist.$)(bindings)}generateKeymapBindings(){var _a,_b,_c;let extensionKeymaps=[],shortcutMap=this.shortcutMap,commandsExtension=this.store.getExtension(CommandsExtension),extractNamesFactory=extension2=>shortcut=>extractShortcutNames({shortcut,map:shortcutMap,store:this.store,options:extension2.options});for(let extension2 of this.store.extensions){let decoratedKeybindings=null!=(_a=extension2.decoratedKeybindings)?_a:{};if(null==(_b=extension2.options.exclude)||!_b.keymap)for(let[name,options]of(extension2.createKeymap&&extensionKeymaps.push(function(prioritizedBindings,shortcutMap){let previousBindings,priority;let updatedBindings={};for(let[shortcutName,commandFunction]of((0,remirror_core_helpers.kJ)(prioritizedBindings)?[priority,previousBindings]=prioritizedBindings:previousBindings=prioritizedBindings,(0,remirror_core_helpers.qh)(previousBindings)))updatedBindings[normalizeShortcutName(shortcutName,shortcutMap)]=commandFunction;return(0,remirror_core_helpers.o8)(priority)?updatedBindings:[priority,updatedBindings]}(extension2.createKeymap(extractNamesFactory(extension2)),shortcutMap)),(0,remirror_core_helpers.qh)(decoratedKeybindings))){if(options.isActive&&!options.isActive(extension2.options,this.store))continue;let keyBinding2=extension2[name].bind(extension2),shortcutNames=extractShortcutNames({shortcut:options.shortcut,map:shortcutMap,options:extension2.options,store:this.store}),priority=(0,remirror_core_helpers.mf)(options.priority)?options.priority(extension2.options,this.store):null!=(_c=options.priority)?_c:remirror_core_constants.xV.Low,bindingObject=(0,remirror_core_helpers.Ry)();for(let shortcut of shortcutNames)bindingObject[shortcut]=keyBinding2;extensionKeymaps.push([priority,bindingObject]),options.command&&commandsExtension.updateDecorated(options.command,{shortcut:shortcutNames})}}let sortedKeymaps=this.sortKeymaps([...this.extraKeyBindings,...extensionKeymaps]),mappedCommands=(0,remirror_core_utils.bk)(sortedKeymaps);return mappedCommands}arrowRightShortcut(props){let excludedMarks=this.store.markTags[remirror_core_constants.eX.PreventExits],excludedNodes=this.store.nodeTags[remirror_core_constants.eX.PreventExits];return this.exitMarkForwards(excludedMarks,excludedNodes)(props)}arrowLeftShortcut(props){let excludedMarks=this.store.markTags[remirror_core_constants.eX.PreventExits],excludedNodes=this.store.nodeTags[remirror_core_constants.eX.PreventExits];return(0,remirror_core_utils.Q2)(this.exitNodeBackwards(excludedNodes),this.exitMarkBackwards(excludedMarks,excludedNodes))(props)}backspace(props){let excludedMarks=this.store.markTags[remirror_core_constants.eX.PreventExits],excludedNodes=this.store.nodeTags[remirror_core_constants.eX.PreventExits];return(0,remirror_core_utils.Q2)(this.exitNodeBackwards(excludedNodes,!0),this.exitMarkBackwards(excludedMarks,excludedNodes,!0))(props)}createKeymap(){let{selectParentNodeOnEscape,undoInputRuleOnBackspace,excludeBaseKeymap}=this.options,baseKeyBindings=(0,remirror_core_helpers.Ry)();if(!excludeBaseKeymap)for(let[key2,value]of(0,remirror_core_helpers.qh)(prosemirror_commands_dist.YR))baseKeyBindings[key2]=(0,remirror_pm.A_)(value);return undoInputRuleOnBackspace&&prosemirror_commands_dist.YR.Backspace&&(baseKeyBindings.Backspace=(0,remirror_pm.A_)((0,prosemirror_commands_dist.QF)(prosemirror_inputrules_dist.dU,prosemirror_commands_dist.YR.Backspace))),selectParentNodeOnEscape&&(baseKeyBindings.Escape=(0,remirror_pm.A_)(prosemirror_commands_dist.N0)),[remirror_core_constants.xV.Low,baseKeyBindings]}getNamedShortcut(shortcut,options={}){return shortcut.startsWith("_|")?extractShortcutNames({shortcut,map:this.shortcutMap,store:this.store,options}):[shortcut]}onSetOptions(props){var _a,_b;let{changes}=props;(changes.excludeBaseKeymap.changed||changes.selectParentNodeOnEscape.changed||changes.undoInputRuleOnBackspace.changed)&&(null==(_b=(_a=this.store).rebuildKeymap)||_b.call(_a))}sortKeymaps(bindings){return(0,remirror_core_helpers.DY)(bindings.map(binding=>(0,remirror_core_helpers.kJ)(binding)?binding:[remirror_core_constants.xV.Default,binding]),(a,z)=>z[0]-a[0]).map(binding=>binding[1])}exitMarkForwards(excludedMarks,excludedNodes){return props=>{let{tr,dispatch}=props;if(!(0,remirror_core_utils.OA)(tr.selection))return!1;let isInsideExcludedNode=(0,remirror_core_utils.Tr)({selection:tr.selection,types:excludedNodes});if(isInsideExcludedNode)return!1;let $pos=tr.selection.$from,marksToRemove=$pos.marks().filter(mark=>!excludedMarks.includes(mark.type.name));if((0,remirror_core_helpers.yD)(marksToRemove))return!1;if(!dispatch)return!0;for(let mark of marksToRemove)tr.removeStoredMark(mark);return dispatch(tr.insertText(" ",tr.selection.from)),!0}}exitNodeBackwards(excludedNodes,startOfDoc=!1){return props=>{let{tr}=props,checker=startOfDoc?remirror_core_utils.GK:remirror_core_utils.sg;if(!checker(tr.selection))return!1;let node=tr.selection.$anchor.node();return!(!(0,remirror_core_utils.mp)(node)||(0,remirror_core_utils.xN)(node)||excludedNodes.includes(node.type.name))&&this.store.commands.toggleBlockNodeItem.original({type:node.type})(props)}}exitMarkBackwards(excludedMarks,excludedNodes,startOfDoc=!1){return props=>{var _a;let{tr,dispatch}=props,checker=startOfDoc?remirror_core_utils.GK:remirror_core_utils.sg;if(!checker(tr.selection)||this.backwardMarkExitTracker.has(tr.selection.anchor))return this.backwardMarkExitTracker.clear(),!1;let isInsideExcludedNode=(0,remirror_core_utils.Tr)({selection:tr.selection,types:excludedNodes});if(isInsideExcludedNode)return!1;let marksToRemove=[...null!=(_a=tr.storedMarks)?_a:[],...tr.selection.$from.marks()].filter(mark=>!excludedMarks.includes(mark.type.name));if((0,remirror_core_helpers.yD)(marksToRemove))return!1;if(!dispatch)return!0;for(let mark of marksToRemove)tr.removeStoredMark(mark);return this.backwardMarkExitTracker.set(tr.selection.anchor,!0),dispatch(tr),!0}}};function extractShortcutNames({shortcut,map,options,store}){return(0,remirror_core_helpers.HD)(shortcut)?[normalizeShortcutName(shortcut,map)]:(0,remirror_core_helpers.kJ)(shortcut)?shortcut.map(value=>normalizeShortcutName(value,map)):(shortcut=shortcut(options,store),extractShortcutNames({shortcut,map,options,store}))}function normalizeShortcutName(value,shortcutMap){return(0,remirror_core_helpers.q9)((0,remirror_core_helpers.VO)(remirror_core_constants.vO),value)?shortcutMap[value]:value}__decorateClass([keyBinding({shortcut:"ArrowRight",isActive:options=>options.exitMarksOnArrowPress})],KeymapExtension.prototype,"arrowRightShortcut",1),__decorateClass([keyBinding({shortcut:"ArrowLeft",isActive:options=>options.exitMarksOnArrowPress})],KeymapExtension.prototype,"arrowLeftShortcut",1),__decorateClass([keyBinding({shortcut:"Backspace",isActive:options=>options.exitMarksOnArrowPress})],KeymapExtension.prototype,"backspace",1),__decorateClass([helper()],KeymapExtension.prototype,"getNamedShortcut",1),KeymapExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Low,defaultOptions:{shortcuts:"default",undoInputRuleOnBackspace:!0,selectParentNodeOnEscape:!1,excludeBaseKeymap:!1,exitMarksOnArrowPress:!0},customHandlerKeys:["keymap"]})],KeymapExtension);var DEFAULT_SHORTCUTS={[remirror_core_constants.vO.Copy]:"Mod-c",[remirror_core_constants.vO.Cut]:"Mod-x",[remirror_core_constants.vO.Paste]:"Mod-v",[remirror_core_constants.vO.PastePlain]:"Mod-Shift-v",[remirror_core_constants.vO.SelectAll]:"Mod-a",[remirror_core_constants.vO.Undo]:"Mod-z",[remirror_core_constants.vO.Redo]:remirror_core_utils.NZ.isMac?"Shift-Mod-z":"Mod-y",[remirror_core_constants.vO.Bold]:"Mod-b",[remirror_core_constants.vO.Italic]:"Mod-i",[remirror_core_constants.vO.Underline]:"Mod-u",[remirror_core_constants.vO.Strike]:"Mod-d",[remirror_core_constants.vO.Code]:"Mod-`",[remirror_core_constants.vO.Paragraph]:"Mod-Shift-0",[remirror_core_constants.vO.H1]:"Mod-Shift-1",[remirror_core_constants.vO.H2]:"Mod-Shift-2",[remirror_core_constants.vO.H3]:"Mod-Shift-3",[remirror_core_constants.vO.H4]:"Mod-Shift-4",[remirror_core_constants.vO.H5]:"Mod-Shift-5",[remirror_core_constants.vO.H6]:"Mod-Shift-6",[remirror_core_constants.vO.TaskList]:"Mod-Shift-7",[remirror_core_constants.vO.BulletList]:"Mod-Shift-8",[remirror_core_constants.vO.OrderedList]:"Mod-Shift-9",[remirror_core_constants.vO.Quote]:"Mod->",[remirror_core_constants.vO.Divider]:"Mod-Shift-|",[remirror_core_constants.vO.Codeblock]:"Mod-Shift-~",[remirror_core_constants.vO.ClearFormatting]:"Mod-Shift-C",[remirror_core_constants.vO.Superscript]:"Mod-.",[remirror_core_constants.vO.Subscript]:"Mod-,",[remirror_core_constants.vO.LeftAlignment]:"Mod-Shift-L",[remirror_core_constants.vO.CenterAlignment]:"Mod-Shift-E",[remirror_core_constants.vO.RightAlignment]:"Mod-Shift-R",[remirror_core_constants.vO.JustifyAlignment]:"Mod-Shift-J",[remirror_core_constants.vO.InsertLink]:"Mod-k",[remirror_core_constants.vO.Find]:"Mod-f",[remirror_core_constants.vO.FindBackwards]:"Mod-Shift-f",[remirror_core_constants.vO.FindReplace]:"Mod-Shift-H",[remirror_core_constants.vO.AddFootnote]:"Mod-Alt-f",[remirror_core_constants.vO.AddComment]:"Mod-Alt-m",[remirror_core_constants.vO.ContextMenu]:"Mod-Shift-\\",[remirror_core_constants.vO.IncreaseFontSize]:"Mod-Shift-.",[remirror_core_constants.vO.DecreaseFontSize]:"Mod-Shift-,",[remirror_core_constants.vO.IncreaseIndent]:"Tab",[remirror_core_constants.vO.DecreaseIndent]:"Shift-Tab",[remirror_core_constants.vO.Shortcuts]:"Mod-/",[remirror_core_constants.vO.Format]:remirror_core_utils.NZ.isMac?"Alt-Shift-f":"Shift-Ctrl-f"},GOOGLE_DOC_SHORTCUTS={...DEFAULT_SHORTCUTS,[remirror_core_constants.vO.Strike]:"Mod-Shift-S",[remirror_core_constants.vO.Code]:"Mod-Shift-M",[remirror_core_constants.vO.Paragraph]:"Mod-Alt-0",[remirror_core_constants.vO.H1]:"Mod-Alt-1",[remirror_core_constants.vO.H2]:"Mod-Alt-2",[remirror_core_constants.vO.H3]:"Mod-Alt-3",[remirror_core_constants.vO.H4]:"Mod-Alt-4",[remirror_core_constants.vO.H5]:"Mod-Alt-5",[remirror_core_constants.vO.H6]:"Mod-Alt-6",[remirror_core_constants.vO.OrderedList]:"Mod-Alt-7",[remirror_core_constants.vO.BulletList]:"Mod-Alt-8",[remirror_core_constants.vO.Quote]:"Mod-Alt-9",[remirror_core_constants.vO.ClearFormatting]:"Mod-\\",[remirror_core_constants.vO.IncreaseIndent]:"Mod-[",[remirror_core_constants.vO.DecreaseIndent]:"Mod-]"},keyboardShortcuts={default:DEFAULT_SHORTCUTS,googleDoc:GOOGLE_DOC_SHORTCUTS},NodeViewsExtension=class extends PlainExtension{get name(){return"nodeViews"}createPlugin(){var _a;let nodeViewList=[],nodeViews=(0,remirror_core_helpers.Ry)();for(let extension2 of this.store.extensions){if(!extension2.createNodeViews)continue;let nodeView=extension2.createNodeViews();nodeViewList.unshift((0,remirror_core_helpers.mf)(nodeView)?{[extension2.name]:nodeView}:nodeView)}for(let nodeView1 of(nodeViewList.unshift(null!=(_a=this.store.managerSettings.nodeViews)?_a:{}),nodeViewList))Object.assign(nodeViews,nodeView1);return{props:{nodeViews}}}},PasteRulesExtension=class extends PlainExtension{get name(){return"pasteRules"}createExternalPlugins(){return[this.generatePasteRulesPlugin()]}generatePasteRulesPlugin(){var _a,_b;let extensionPasteRules=[];for(let extension2 of this.store.extensions){if((null==(_a=this.store.managerSettings.exclude)?void 0:_a.pasteRules)||!extension2.createPasteRules||(null==(_b=extension2.options.exclude)?void 0:_b.pasteRules))continue;let value=extension2.createPasteRules(),rules=(0,remirror_core_helpers.kJ)(value)?value:[value];extensionPasteRules.push(...rules)}return function(pasteRules2){let view;let sortedPasteRules=(0,remirror_core_helpers.DY)(pasteRules2,(a,z)=>{var _a,_b;return(null!=(_a=z.priority)?_a:remirror_core_constants.xV.Low)-(null!=(_b=a.priority)?_b:remirror_core_constants.xV.Low)}),regexPasteRules2=[],filePasteRules=[];for(let rule of sortedPasteRules){var rule1;(rule1=rule,(0,remirror_core_helpers.q9)(regexPasteRules,rule1.type))?regexPasteRules2.push(rule):filePasteRules.push(rule)}return new prosemirror_state_dist.Sy({key:pastePluginKey,view:editorView=>(view=editorView,{}),props:{transformPasted(slice){var _a,_b,_c,_d;let $pos=view.state.selection.$from,nodeName=$pos.node().type.name,markNames=new Set($pos.marks().map(mark=>mark.type.name));for(let rule of regexPasteRules2){if((null==(_a=rule.ignoredNodes)?void 0:_a.includes(nodeName))||(null==(_b=rule.ignoredMarks)?void 0:_b.some(ignored=>markNames.has(ignored))))continue;let textContent=null!=(_d=null==(_c=slice.content.firstChild)?void 0:_c.textContent)?_d:"",canBeReplaced=!view.state.selection.empty&&1===slice.content.childCount&&textContent,match=(0,remirror_core_helpers.JD)(textContent,rule.regexp)[0];if(canBeReplaced&&match&&"mark"===rule.type&&rule.replaceSelection){let{from,to}=view.state.selection,textSlice=view.state.doc.slice(from,to),textContent2=textSlice.content.textBetween(0,textSlice.content.size);if("boolean"!=typeof rule.replaceSelection?rule.replaceSelection(textContent2):rule.replaceSelection){let newTextNodes=[],{getAttributes,markType}=rule,attributes=(0,remirror_core_helpers.mf)(getAttributes)?getAttributes(match,!0):getAttributes,mark=markType.create(attributes);return textSlice.content.forEach(textNode=>{if(textNode.isText){let marks=mark.addToSet(textNode.marks);newTextNodes.push(textNode.mark(marks))}}),dist.p2.maxOpen(dist.HY.fromArray(newTextNodes))}}let{nodes:transformedNodes,transformed}=function(fragment,rule,schema){let nodes=[];switch(rule.type){case"mark":return createPasteRuleHandler(markRuleTransformer,schema)({fragment,nodes,rule});case"node":return createPasteRuleHandler(nodeRuleTransformer,schema)({fragment,nodes,rule});default:return createPasteRuleHandler(textRuleTransformer,schema)({fragment,nodes,rule})}}(slice.content,rule,view.state.schema);transformed&&(slice="node"===rule.type&&rule.nodeType.isBlock?new dist.p2(dist.HY.fromArray(transformedNodes),0,0):new dist.p2(dist.HY.fromArray(transformedNodes),slice.openStart,slice.openEnd))}return function(slice){let max=dist.p2.maxOpen(slice.content);return max.openStart<slice.openStart||max.openEnd<slice.openEnd?max:slice}(slice)},handleDOMEvents:{paste(view2,clipboardEvent){var _a,_b;if(!(null==(_b=(_a=view2.props).editable)?void 0:_b.call(_a,view2.state)))return!1;let{clipboardData}=clipboardEvent;if(!clipboardData)return!1;let allFiles=[...clipboardData.items].map(data=>data.getAsFile()).filter(file=>!!file);if(0===allFiles.length)return!1;let{selection}=view2.state;for(let{fileHandler,regexp}of filePasteRules){let files=regexp?allFiles.filter(file=>regexp.test(file.type)):allFiles;if(0!==files.length&&fileHandler({event:clipboardEvent,files,selection,view:view2,type:"paste"}))return clipboardEvent.preventDefault(),!0}return!1},drop(view2,dragEvent){var _a,_b,_c,_d;if(!(null==(_b=(_a=view2.props).editable)?void 0:_b.call(_a,view2.state)))return!1;let{dataTransfer,clientX,clientY}=dragEvent;if(!dataTransfer)return!1;let allFiles=function(event){var _a,_b;let{dataTransfer}=event;return dataTransfer?(null==(_a=dataTransfer.files)?void 0:_a.length)>0?[...dataTransfer.files]:(null==(_b=dataTransfer.items)?void 0:_b.length)?[...dataTransfer.items].map(item=>item.getAsFile()).filter(item=>!!item):[]:[]}(dragEvent);if(0===allFiles.length)return!1;let pos=null!=(_d=null==(_c=view2.posAtCoords({left:clientX,top:clientY}))?void 0:_c.pos)?_d:view2.state.selection.anchor;for(let{fileHandler,regexp}of filePasteRules){let files=regexp?allFiles.filter(file=>regexp.test(file.type)):allFiles;if(0!==files.length&&fileHandler({event:dragEvent,files,pos,view:view2,type:"drop"}))return dragEvent.preventDefault(),!0}return!1}}}})}(extensionPasteRules)}},PluginsExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"plugins",[]),__publicField(this,"managerPlugins",[]),__publicField(this,"applyStateHandlers",[]),__publicField(this,"initStateHandlers",[]),__publicField(this,"appendTransactionHandlers",[]),__publicField(this,"pluginKeys",(0,remirror_core_helpers.Ry)()),__publicField(this,"stateGetters",new Map),__publicField(this,"getPluginStateCreator",key2=>state=>key2.getState(null!=state?state:this.store.getState())),__publicField(this,"getStateByName",identifier=>{let stateGetter=this.stateGetters.get(identifier);return(0,remirror_core_helpers.kG)(stateGetter,{message:"No plugin exists for the requested extension name."}),stateGetter()})}get name(){return"plugins"}onCreate(){let{setStoreKey,setExtensionStore,managerSettings,extensions}=this.store;this.updateExtensionStore();let{plugins=[]}=managerSettings;for(let extension2 of(this.updatePlugins(plugins,this.managerPlugins),extensions))extension2.onApplyState&&this.applyStateHandlers.push(extension2.onApplyState.bind(extension2)),extension2.onInitState&&this.initStateHandlers.push(extension2.onInitState.bind(extension2)),extension2.onAppendTransaction&&this.appendTransactionHandlers.push(extension2.onAppendTransaction.bind(extension2)),this.extractExtensionPlugins(extension2);this.managerPlugins=plugins,this.store.setStoreKey("plugins",this.plugins),setStoreKey("pluginKeys",this.pluginKeys),setStoreKey("getPluginState",this.getStateByName),setExtensionStore("getPluginState",this.getStateByName)}createPlugin(){return{appendTransaction:(transactions,previousState,state)=>{let tr=state.tr,props={previousState,tr,transactions,state};for(let handler of this.appendTransactionHandlers)handler(props);return this.options.appendTransaction(props),tr.docChanged||tr.steps.length>0||tr.selectionSet||tr.storedMarksSet?tr:void 0},state:{init:(_,state)=>{for(let handler of this.initStateHandlers)handler(state)},apply:(tr,_,previousState,state)=>{let props={previousState,state,tr};for(let handler of this.applyStateHandlers)handler(props);this.options.applyState(props)}}}}extractExtensionPlugins(extension2){var _a,_b;let isNotPluginCreator=!extension2.createPlugin&&!extension2.createExternalPlugins;if(!isNotPluginCreator&&(null==(_a=this.store.managerSettings.exclude)||!_a.plugins)&&(null==(_b=extension2.options.exclude)||!_b.plugins)){if(extension2.createPlugin){let key2=new prosemirror_state_dist.H$(extension2.name);this.pluginKeys[extension2.name]=key2;let getter=this.getPluginStateCreator(key2);extension2.pluginKey=key2,extension2.getPluginState=getter,this.stateGetters.set(extension2.name,getter),this.stateGetters.set(extension2.constructor,getter);let pluginSpec={...extension2.createPlugin(),key:key2},plugin=new prosemirror_state_dist.Sy(pluginSpec);this.updatePlugins([plugin],extension2.plugin?[extension2.plugin]:void 0),extension2.plugin=plugin}if(extension2.createExternalPlugins){let externalPlugins=extension2.createExternalPlugins();this.updatePlugins(externalPlugins,extension2.externalPlugins),extension2.externalPlugins=externalPlugins}}}updatePlugins(plugins,previous){if(!previous||(0,remirror_core_helpers.yD)(previous)){this.plugins=[...this.plugins,...plugins];return}if(plugins.length!==previous.length){this.plugins=[...this.plugins.filter(plugin=>!previous.includes(plugin)),...plugins];return}let pluginMap=new Map;for(let[index,plugin]of plugins.entries())pluginMap.set((0,remirror_core_helpers.fp)(previous,index),plugin);this.plugins=this.plugins.map(plugin=>previous.includes(plugin)?pluginMap.get(plugin):plugin)}updateExtensionStore(){let{setExtensionStore}=this.store;setExtensionStore("updatePlugins",this.updatePlugins.bind(this)),setExtensionStore("dispatchPluginUpdate",this.dispatchPluginUpdate.bind(this)),setExtensionStore("updateExtensionPlugins",this.updateExtensionPlugins.bind(this))}updateExtensionPlugins(value){let extension2=isExtension(value)?value:(0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,[remirror_core_constants.lk.PlainExtensionConstructor,remirror_core_constants.lk.MarkExtensionConstructor,remirror_core_constants.lk.NodeExtensionConstructor])?this.store.manager.getExtension(value):this.store.extensions.find(extension3=>extension3.name===value);(0,remirror_core_helpers.kG)(extension2,{code:remirror_core_constants.mA.INVALID_MANAGER_EXTENSION,message:`The extension ${value} does not exist within the editor.`}),this.extractExtensionPlugins(extension2),this.store.setStoreKey("plugins",this.plugins),this.dispatchPluginUpdate()}dispatchPluginUpdate(){(0,remirror_core_helpers.kG)(this.store.phase>=remirror_core_constants.RC.EditorView,{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"`dispatchPluginUpdate` should only be called after the view has been added to the manager."});let{view,updateState}=this.store,newState=view.state.reconfigure({plugins:this.plugins});updateState(newState)}};PluginsExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Highest,handlerKeys:["applyState","appendTransaction"]})],PluginsExtension);var SchemaExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"dynamicAttributes",{marks:(0,remirror_core_helpers.Ry)(),nodes:(0,remirror_core_helpers.Ry)()})}get name(){return"schema"}onCreate(){var _a;let{managerSettings,tags,markNames,nodeNames,extensions}=this.store,{defaultBlockNode,disableExtraAttributes,nodeOverride,markOverride}=managerSettings;if(managerSettings.schema){let{nodes:nodes2,marks:marks2}=function(schema){let nodes=(0,remirror_core_helpers.Ry)(),marks=(0,remirror_core_helpers.Ry)();for(let[name,type]of Object.entries(schema.nodes))nodes[name]=type.spec;for(let[name1,type1]of Object.entries(schema.marks))marks[name1]=type1.spec;return{nodes,marks}}(managerSettings.schema);this.addSchema(managerSettings.schema,nodes2,marks2);return}let nodes=defaultBlockNode&&tags[remirror_core_constants.eX.Block].includes(defaultBlockNode)?{doc:(0,remirror_core_helpers.Ry)(),[defaultBlockNode]:(0,remirror_core_helpers.Ry)()}:(0,remirror_core_helpers.Ry)(),marks=(0,remirror_core_helpers.Ry)(),namedExtraAttributes=function(props){var _a,_b;let{settings,gatheredSchemaAttributes,nodeNames,markNames,tags}=props,extraAttributes=(0,remirror_core_helpers.Ry)();if(settings.disableExtraAttributes)return extraAttributes;let extraSchemaAttributes=[...gatheredSchemaAttributes,...null!=(_a=settings.extraAttributes)?_a:[]];for(let attributeGroup of null!=extraSchemaAttributes?extraSchemaAttributes:[]){let identifiers=function(props){var _a;let{identifiers,nodeNames,markNames,tags}=props;if("nodes"===identifiers)return nodeNames;if("marks"===identifiers)return markNames;if("all"===identifiers)return[...nodeNames,...markNames];if((0,remirror_core_helpers.kJ)(identifiers))return identifiers;(0,remirror_core_helpers.kG)((0,remirror_core_helpers.PO)(identifiers)&&(0,remirror_core_helpers.kJ)(identifiers.tags),{code:remirror_core_constants.mA.EXTENSION_EXTRA_ATTRIBUTES,message:"Invalid value passed as an identifier when creating `extraAttributes`."});let{tags:extensionTags=[],names:extensionNames=[],behavior="any",excludeNames,excludeTags,type}=identifiers,names=new Set,acceptableNames="mark"===type?markNames:"node"===type?nodeNames:[...markNames,...nodeNames],isNameValid=name=>acceptableNames.includes(name)&&!(null==excludeNames?void 0:excludeNames.includes(name));for(let name of extensionNames)isNameValid(name)&&names.add(name);let taggedNamesMap=new Map;for(let tag of extensionTags)if(null==excludeTags||!excludeTags.includes(tag))for(let name1 of tags[tag]){if(!isNameValid(name1))continue;if("any"===behavior){names.add(name1);continue}let tagSet=null!=(_a=taggedNamesMap.get(name1))?_a:new Set;tagSet.add(tag),taggedNamesMap.set(name1,tagSet)}for(let[name2,tagSet1]of taggedNamesMap)tagSet1.size===extensionTags.length&&names.add(name2);return[...names]}({identifiers:attributeGroup.identifiers,nodeNames,markNames,tags});for(let identifier of identifiers){let currentValue=null!=(_b=extraAttributes[identifier])?_b:{};extraAttributes[identifier]={...currentValue,...attributeGroup.attributes}}}return extraAttributes}({settings:managerSettings,gatheredSchemaAttributes:this.gatherExtraAttributes(extensions),nodeNames,markNames,tags});for(let extension2 of extensions){namedExtraAttributes[extension2.name]={...namedExtraAttributes[extension2.name],...extension2.options.extraAttributes};let ignoreExtraAttributes=!0===disableExtraAttributes||!0===extension2.options.disableExtraAttributes||!0===extension2.constructor.disableExtraAttributes;if(isNodeExtension(extension2)){let{spec,dynamic}=createSpec({createExtensionSpec:(extra,override)=>extension2.createNodeSpec(extra,override),extraAttributes:(0,remirror_core_helpers.fp)(namedExtraAttributes,extension2.name),override:{...nodeOverride,...extension2.options.nodeOverride},ignoreExtraAttributes,name:extension2.constructorName,tags:extension2.tags});extension2.spec=spec,nodes[extension2.name]=spec,Object.keys(dynamic).length>0&&(this.dynamicAttributes.nodes[extension2.name]=dynamic)}if(isMarkExtension(extension2)){let{spec:spec1,dynamic:dynamic1}=createSpec({createExtensionSpec:(extra,override)=>extension2.createMarkSpec(extra,override),extraAttributes:(0,remirror_core_helpers.fp)(namedExtraAttributes,extension2.name),override:{...markOverride,...extension2.options.markOverride},ignoreExtraAttributes,name:extension2.constructorName,tags:null!=(_a=extension2.tags)?_a:[]});extension2.spec=spec1,marks[extension2.name]=spec1,Object.keys(dynamic1).length>0&&(this.dynamicAttributes.marks[extension2.name]=dynamic1)}}let schema=new dist.V_({nodes,marks,topNode:"doc"});this.addSchema(schema,nodes,marks)}createPlugin(){return{appendTransaction:(transactions,_,nextState)=>{let{tr}=nextState,documentHasChanged=transactions.some(tr2=>tr2.docChanged);return documentHasChanged&&(0!==Object.keys(this.dynamicAttributes.nodes).length||0!==Object.keys(this.dynamicAttributes.marks).length)?(tr.doc.descendants((child,pos)=>(this.checkAndUpdateDynamicNodes(child,pos,tr),this.checkAndUpdateDynamicMarks(child,pos,tr),!0)),tr.steps.length>0?tr:null):null}}}addSchema(schema,nodes,marks){for(let type of(this.store.setStoreKey("nodes",nodes),this.store.setStoreKey("marks",marks),this.store.setStoreKey("schema",schema),this.store.setExtensionStore("schema",schema),this.store.setStoreKey("defaultBlockNode",(0,remirror_core_utils.JN)(schema).name),Object.values(schema.nodes)))if("doc"!==type.name&&(type.isBlock||type.isTextblock))break}checkAndUpdateDynamicNodes(node,pos,tr){for(let[name,dynamic]of(0,remirror_core_helpers.qh)(this.dynamicAttributes.nodes))if(node.type.name===name)for(let[attributeName,attributeCreator]of(0,remirror_core_helpers.qh)(dynamic)){if(!(0,remirror_core_helpers.le)(node.attrs[attributeName]))continue;let attrs={...node.attrs,[attributeName]:attributeCreator(node)};tr.setNodeMarkup(pos,void 0,attrs),(0,prosemirror_suggest.gn)(tr)}}checkAndUpdateDynamicMarks(node,pos,tr){for(let[name,dynamic]of(0,remirror_core_helpers.qh)(this.dynamicAttributes.marks)){let type=(0,remirror_core_helpers.fp)(this.store.schema.marks,name),mark=node.marks.find(mark2=>mark2.type.name===name);if(mark)for(let[attributeName,attributeCreator]of(0,remirror_core_helpers.qh)(dynamic)){if(!(0,remirror_core_helpers.le)(mark.attrs[attributeName]))continue;let range=(0,remirror_core_utils.IH)(tr.doc.resolve(pos),type);if(!range)continue;let{from,to}=range,newMark=type.create({...mark.attrs,[attributeName]:attributeCreator(mark)});tr.removeMark(from,to,type).addMark(from,to,newMark),(0,prosemirror_suggest.gn)(tr)}}}gatherExtraAttributes(extensions){let extraSchemaAttributes=[];for(let extension2 of extensions)extension2.createSchemaAttributes&&extraSchemaAttributes.push(...extension2.createSchemaAttributes());return extraSchemaAttributes}};function createSpec(props){var _a,_b,onCalled,addDynamicCreator;let{createExtensionSpec,extraAttributes,ignoreExtraAttributes,name,tags,override}=props,dynamic=(0,remirror_core_helpers.Ry)(),defaultsCalled=!1,defaults=(onCalled=function(){defaultsCalled=!0},addDynamicCreator=function(attributeName,creator){dynamic[attributeName]=creator},()=>{onCalled();let attributes=(0,remirror_core_helpers.Ry)();if(ignoreExtraAttributes)return attributes;for(let[name,config]of(0,remirror_core_helpers.qh)(extraAttributes)){let attributesObject=getExtraAttributesObject(config),defaultValue=attributesObject.default;(0,remirror_core_helpers.mf)(defaultValue)&&(addDynamicCreator(name,defaultValue),defaultValue=null),attributes[name]=void 0===defaultValue?{}:{default:defaultValue}}return attributes}),parse=domNode=>{var _a,_b,_c;let attributes=(0,remirror_core_helpers.Ry)();if(ignoreExtraAttributes)return attributes;for(let[name,config]of(0,remirror_core_helpers.qh)(extraAttributes)){let{parseDOM,...other}=getExtraAttributesObject(config);if((0,remirror_core_utils.jd)(domNode)){if((0,remirror_core_helpers.le)(parseDOM)){attributes[name]=null!=(_a=domNode.getAttribute(name))?_a:other.default;continue}if((0,remirror_core_helpers.mf)(parseDOM)){attributes[name]=null!=(_b=parseDOM(domNode))?_b:other.default;continue}attributes[name]=null!=(_c=domNode.getAttribute(parseDOM))?_c:other.default}}return attributes},dom=item=>{let domAttributes=(0,remirror_core_helpers.Ry)();if(ignoreExtraAttributes)return domAttributes;function updateDomAttributes(value,name){if(value){if((0,remirror_core_helpers.HD)(value)){domAttributes[name]=value;return}if((0,remirror_core_helpers.kJ)(value)){let[attr,val]=value;domAttributes[attr]=null!=val?val:item.attrs[name];return}for(let[attr1,val1]of(0,remirror_core_helpers.qh)(value))domAttributes[attr1]=val1}}for(let[name,config]of(0,remirror_core_helpers.qh)(extraAttributes)){let{toDOM,parseDOM}=getExtraAttributesObject(config);if((0,remirror_core_helpers.le)(toDOM)){let key2=(0,remirror_core_helpers.HD)(parseDOM)?parseDOM:name;domAttributes[key2]=item.attrs[name];continue}if((0,remirror_core_helpers.mf)(toDOM)){updateDomAttributes(toDOM(item.attrs,(0,remirror_core_utils.PH)(item)?{node:item}:(0,remirror_core_utils.K_)(item)?{mark:item}:{}),name);continue}updateDomAttributes(toDOM,name)}return domAttributes},spec=createExtensionSpec({defaults,parse,dom},override);return(0,remirror_core_helpers.kG)(ignoreExtraAttributes||defaultsCalled,{code:remirror_core_constants.mA.EXTENSION_SPEC,message:`When creating a node specification you must call the 'defaults', and parse, and 'dom' methods. To avoid this error you can set the static property 'disableExtraAttributes' of '${name}' to 'true'.`}),spec.group=[...null!=(_b=null==(_a=spec.group)?void 0:_a.split(" "))?_b:[],...tags].join(" ")||void 0,{spec,dynamic}}function getExtraAttributesObject(value){return(0,remirror_core_helpers.HD)(value)||(0,remirror_core_helpers.mf)(value)?{default:value}:((0,remirror_core_helpers.kG)(value,{message:`${(0,remirror_core_helpers.BB)(value)} is not supported`,code:remirror_core_constants.mA.EXTENSION_EXTRA_ATTRIBUTES}),value)}SchemaExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Highest})],SchemaExtension);var SuggestExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"onAddCustomHandler",({suggester})=>{var _a;if(suggester&&(null==(_a=this.store.managerSettings.exclude)||!_a.suggesters))return(0,prosemirror_suggest.Ek)(this.store.getState(),suggester)})}get name(){return"suggest"}onCreate(){this.store.setExtensionStore("addSuggester",suggester=>(0,prosemirror_suggest.Ek)(this.store.getState(),suggester)),this.store.setExtensionStore("removeSuggester",suggester=>(0,prosemirror_suggest.C$)(this.store.getState(),suggester))}createExternalPlugins(){var _a,_b;let suggesters=[];for(let extension2 of this.store.extensions){if(null==(_a=this.store.managerSettings.exclude)?void 0:_a.suggesters)break;if(!extension2.createSuggesters||(null==(_b=extension2.options.exclude)?void 0:_b.suggesters))continue;let suggester=extension2.createSuggesters(),suggesterList=(0,remirror_core_helpers.kJ)(suggester)?suggester:[suggester];suggesters.push(...suggesterList)}return[(0,prosemirror_suggest.D7)(...suggesters)]}getSuggestState(state){return(0,prosemirror_suggest.hu)(null!=state?state:this.store.getState())}getSuggestMethods(){let{addIgnored,clearIgnored,removeIgnored,ignoreNextExit,setMarkRemoved,findMatchAtPosition,findNextTextSelection,setLastChangeFromAppend}=this.getSuggestState();return{addIgnored,clearIgnored,removeIgnored,ignoreNextExit,setMarkRemoved,findMatchAtPosition,findNextTextSelection,setLastChangeFromAppend}}isSuggesterActive(name){var _a;return(0,remirror_core_helpers.q9)((0,remirror_core_helpers.kJ)(name)?name:[name],null==(_a=this.getSuggestState().match)?void 0:_a.suggester.name)}};__decorateClass([helper()],SuggestExtension.prototype,"getSuggestState",1),__decorateClass([helper()],SuggestExtension.prototype,"getSuggestMethods",1),__decorateClass([helper()],SuggestExtension.prototype,"isSuggesterActive",1),SuggestExtension=__decorateClass([extension({customHandlerKeys:["suggester"]})],SuggestExtension);var TagsExtension=class extends PlainExtension{constructor(){super(...arguments),__publicField(this,"allTags",(0,remirror_core_helpers.Ry)()),__publicField(this,"plainTags",(0,remirror_core_helpers.Ry)()),__publicField(this,"markTags",(0,remirror_core_helpers.Ry)()),__publicField(this,"nodeTags",(0,remirror_core_helpers.Ry)())}get name(){return"tags"}onCreate(){for(let extension2 of(this.resetTags(),this.store.extensions))this.updateTagForExtension(extension2);this.store.setStoreKey("tags",this.allTags),this.store.setExtensionStore("tags",this.allTags),this.store.setStoreKey("plainTags",this.plainTags),this.store.setExtensionStore("plainTags",this.plainTags),this.store.setStoreKey("markTags",this.markTags),this.store.setExtensionStore("markTags",this.markTags),this.store.setStoreKey("nodeTags",this.nodeTags),this.store.setExtensionStore("nodeTags",this.nodeTags)}resetTags(){let allTags=(0,remirror_core_helpers.Ry)(),plainTags=(0,remirror_core_helpers.Ry)(),markTags=(0,remirror_core_helpers.Ry)(),nodeTags=(0,remirror_core_helpers.Ry)();for(let tagName of(0,remirror_core_helpers.VO)(remirror_core_constants.eX))allTags[tagName]=[],plainTags[tagName]=[],markTags[tagName]=[],nodeTags[tagName]=[];this.allTags=allTags,this.plainTags=plainTags,this.markTags=markTags,this.nodeTags=nodeTags}updateTagForExtension(extension2){var _a,_b,_c,_d,_e,_f,value;let allTags=new Set([...null!=(_a=extension2.tags)?_a:[],...null!=(_c=null==(_b=extension2.createTags)?void 0:_b.call(extension2))?_c:[],...null!=(_d=extension2.options.extraTags)?_d:[],...null!=(_f=null==(_e=this.store.managerSettings.extraTags)?void 0:_e[extension2.name])?_f:[]]);for(let tag of allTags)(0,remirror_core_helpers.kG)((value=tag,(0,remirror_core_helpers.q9)((0,remirror_core_helpers.VO)(remirror_core_constants.eX),value)),{code:remirror_core_constants.mA.EXTENSION,message:`The tag provided by the extension: ${extension2.constructorName} is not supported by the editor. To add custom tags you can use the 'mutateTag' method.`}),this.allTags[tag].push(extension2.name),isPlainExtension(extension2)&&this.plainTags[tag].push(extension2.name),isMarkExtension(extension2)&&this.markTags[tag].push(extension2.name),isNodeExtension(extension2)&&this.nodeTags[tag].push(extension2.name);extension2.tags=[...allTags]}};TagsExtension=__decorateClass([extension({defaultPriority:remirror_core_constants.xV.Highest})],TagsExtension);var key=new prosemirror_state_dist.H$("remirrorFilePlaceholderPlugin"),UploadExtension=class extends PlainExtension{get name(){return"upload"}createExternalPlugins(){return[function(){let plugin=new prosemirror_state_dist.Sy({key,state:{init:()=>({set:prosemirror_view_dist.EH.empty,payloads:new Map}),apply(tr,{set,payloads}){set=set.map(tr.mapping,tr.doc);let action=tr.getMeta(plugin);if(action){if(0===action.type){let widget=document.createElement("placeholder"),deco=prosemirror_view_dist.p.widget(action.pos,widget,{id:action.id});set=set.add(tr.doc,[deco]),payloads.set(action.id,action.payload)}else 1===action.type&&(set=set.remove(set.find(void 0,void 0,spec=>spec.id===action.id)),payloads.delete(action.id))}return{set,payloads}}},props:{decorations(state){var _a,_b;return null!=(_b=null==(_a=plugin.getState(state))?void 0:_a.set)?_b:null}}});return plugin}()]}},MetaExtension=class extends PlainExtension{get name(){return"meta"}onCreate(){if(this.store.setStoreKey("getCommandMeta",this.getCommandMeta.bind(this)),this.options.capture)for(let extension2 of this.store.extensions)this.captureCommands(extension2),this.captureKeybindings(extension2)}createPlugin(){return{}}captureCommands(extension2){var _a;let decoratedCommands=null!=(_a=extension2.decoratedCommands)?_a:{},createCommands=extension2.createCommands;for(let name of Object.keys(decoratedCommands)){let command2=extension2[name];extension2[name]=(...args)=>props=>{var _a2;let value=command2(...args)(props);return props.dispatch&&value&&this.setCommandMeta(props.tr,{type:"command",chain:props.dispatch!==(null==(_a2=props.view)?void 0:_a2.dispatch),name,extension:extension2.name,decorated:!0}),value}}createCommands&&(extension2.createCommands=()=>{let commandsObject=createCommands();for(let[name,command2]of Object.entries(commandsObject))commandsObject[name]=(...args)=>props=>{var _a2;let value=command2(...args)(props);return props.dispatch&&value&&this.setCommandMeta(props.tr,{type:"command",chain:props.dispatch!==(null==(_a2=props.view)?void 0:_a2.dispatch),name,extension:extension2.name,decorated:!1}),value};return commandsObject})}captureKeybindings(_){}getCommandMeta(tr){var _a;return null!=(_a=tr.getMeta(this.pluginKey))?_a:[]}setCommandMeta(tr,update){let meta=this.getCommandMeta(tr);tr.setMeta(this.pluginKey,[...meta,update])}};MetaExtension=__decorateClass([extension({defaultOptions:{capture:remirror_core_utils.NZ.isDevelopment},staticKeys:["capture"],defaultPriority:remirror_core_constants.xV.Highest})],MetaExtension);var Framework=class{constructor(options){__privateAdd(this,_uid,(0,remirror_core_helpers.EL)()),__privateAdd(this,_getProps,void 0),__privateAdd(this,_previousState,void 0),__publicField(this,"previousStateOverride"),__privateAdd(this,_firstRender,!0),__privateAdd(this,_events,(0,nanoevents.i)()),__privateAdd(this,_addHandler,void 0),__privateAdd(this,_initialEditorState,void 0),__publicField(this,"getState",()=>{var _a;return null!=(_a=this.view.state)?_a:this.initialEditorState}),__publicField(this,"getPreviousState",()=>this.previousState),__publicField(this,"dispatchTransaction",tr=>{var _a,_b,_c;(0,remirror_core_helpers.kG)(!this.manager.destroyed,{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"A transaction was dispatched to a manager that has already been destroyed. Please check your set up, or open an issue."}),tr=null!=(_c=null==(_b=(_a=this.props).onDispatchTransaction)?void 0:_b.call(_a,tr,this.getState()))?_c:tr;let previousState=this.getState(),{state,transactions}=previousState.applyTransaction(tr);__privateSet(this,_previousState,previousState),this.updateState({state,tr,transactions});let forcedUpdates=this.manager.store.getForcedUpdates(tr);(0,remirror_core_helpers.yD)(forcedUpdates)||this.updateViewProps(...forcedUpdates)}),__publicField(this,"onChange",(props=(0,remirror_core_helpers.Ry)())=>{var _a,_b;let onChangeProps=this.eventListenerProps(props);__privateGet(this,_firstRender)&&__privateSet(this,_firstRender,!1),null==(_b=(_a=this.props).onChange)||_b.call(_a,onChangeProps)}),__publicField(this,"onBlur",event=>{var _a,_b;let props=this.eventListenerProps();null==(_b=(_a=this.props).onBlur)||_b.call(_a,props,event),__privateGet(this,_events).emit("blur",props,event)}),__publicField(this,"onFocus",event=>{var _a,_b;let props=this.eventListenerProps();null==(_b=(_a=this.props).onFocus)||_b.call(_a,props,event),__privateGet(this,_events).emit("focus",props,event)}),__publicField(this,"setContent",(content,{triggerChange=!1}={})=>{let{doc}=this.manager.createState({content}),previousState=this.getState(),{state}=this.getState().applyTransaction(previousState.tr.replaceRangeWith(0,previousState.doc.nodeSize-2,doc));if(triggerChange)return this.updateState({state,triggerChange});this.view.updateState(state)}),__publicField(this,"clearContent",({triggerChange=!1}={})=>{this.setContent(this.manager.createEmptyDoc(),{triggerChange})}),__publicField(this,"createStateFromContent",(content,selection)=>this.manager.createState({content,selection})),__publicField(this,"focus",position=>{this.manager.store.commands.focus(position)}),__publicField(this,"blur",position=>{this.manager.store.commands.blur(position)});let{getProps,initialEditorState,element}=options;if(__privateSet(this,_getProps,getProps),__privateSet(this,_initialEditorState,initialEditorState),this.manager.attachFramework(this,this.updateListener.bind(this)),this.manager.view)return;let view=this.createView(initialEditorState,element);this.manager.addView(view)}get addHandler(){var _a;return null!=(_a=__privateGet(this,_addHandler))?_a:__privateSet(this,_addHandler,__privateGet(this,_events).on.bind(__privateGet(this,_events)))}get updatableViewProps(){return{attributes:()=>this.getAttributes(),editable:()=>{var _a;return null==(_a=this.props.editable)||_a}}}get firstRender(){return __privateGet(this,_firstRender)}get props(){return __privateGet(this,_getProps).call(this)}get previousState(){var _a,_b;return null!=(_b=null!=(_a=this.previousStateOverride)?_a:__privateGet(this,_previousState))?_b:this.initialEditorState}get manager(){return this.props.manager}get view(){return this.manager.view}get uid(){return __privateGet(this,_uid)}get initialEditorState(){return __privateGet(this,_initialEditorState)}updateListener(props){let{state,tr}=props;return __privateGet(this,_events).emit("updated",this.eventListenerProps({state,tr}))}update(options){let{getProps}=options;return __privateSet(this,_getProps,getProps),this}updateViewProps(...keys3){let props=object_pick_default()(this.updatableViewProps,keys3);this.view.setProps({...this.view.props,...props})}getAttributes(ssr){var _a;let{attributes,autoFocus,classNames=[],label,editable}=this.props,managerAttributes=null==(_a=this.manager.store)?void 0:_a.attributes,propAttributes=(0,remirror_core_helpers.mf)(attributes)?attributes(this.eventListenerProps()):attributes,focus={};(autoFocus||(0,remirror_core_helpers.hj)(autoFocus))&&(focus=ssr?{autoFocus:!0}:{autofocus:"true"});let uniqueClasses=(0,remirror_core_helpers.Nb)((0,remirror_core_helpers.cx)(ssr&&"Prosemirror","remirror-editor",null==managerAttributes?void 0:managerAttributes.class,...classNames).split(" ")).join(" "),defaultAttributes={role:"textbox",...focus,"aria-multiline":"true",...null==editable||editable?{}:{"aria-readonly":"true"},"aria-label":null!=label?label:"",...managerAttributes,class:uniqueClasses};return(0,remirror_core_helpers.Yc)({...defaultAttributes,...propAttributes})}addFocusListeners(){this.view.dom.addEventListener("blur",this.onBlur),this.view.dom.addEventListener("focus",this.onFocus)}removeFocusListeners(){this.view.dom.removeEventListener("blur",this.onBlur),this.view.dom.removeEventListener("focus",this.onFocus)}destroy(){__privateGet(this,_events).emit("destroy"),this.view&&this.removeFocusListeners()}eventListenerProps(props=(0,remirror_core_helpers.Ry)()){let{state,tr,transactions}=props;return{tr,transactions,internalUpdate:!tr,view:this.view,firstRender:__privateGet(this,_firstRender),state:null!=state?state:this.getState(),createStateFromContent:this.createStateFromContent,previousState:this.previousState,helpers:this.manager.store.helpers}}get baseOutput(){return{manager:this.manager,...this.manager.store,addHandler:this.addHandler,focus:this.focus,blur:this.blur,uid:__privateGet(this,_uid),view:this.view,getState:this.getState,getPreviousState:this.getPreviousState,getExtension:this.manager.getExtension.bind(this.manager),hasExtension:this.manager.hasExtension.bind(this.manager),clearContent:this.clearContent,setContent:this.setContent}}};_uid=new WeakMap,_getProps=new WeakMap,_previousState=new WeakMap,_firstRender=new WeakMap,_events=new WeakMap,_addHandler=new WeakMap,_initialEditorState=new WeakMap;var _RemirrorManager=class{constructor(initialExtension,settings={}){__privateAdd(this,_extensionStore,void 0),__privateAdd(this,_stringHandlers,(0,remirror_core_helpers.Ry)()),__privateAdd(this,_store,(0,remirror_core_helpers.Ry)()),__privateAdd(this,_extensions,void 0),__privateAdd(this,_extensionMap,void 0),__privateAdd(this,_phase,remirror_core_constants.RC.None),__privateAdd(this,_settings,void 0),__privateAdd(this,_firstStateUpdate,!0),__privateAdd(this,_handlers,{create:[],view:[],update:[],destroy:[]}),__privateAdd(this,_disposers,[]),__privateAdd(this,_events2,(0,nanoevents.i)()),__privateAdd(this,_framework,void 0),__privateAdd(this,_disposeFramework,void 0),__publicField(this,"getState",()=>{var _a;return __privateGet(this,_phase)>=remirror_core_constants.RC.EditorView?this.view.state:((0,remirror_core_helpers.kG)(__privateGet(this,_framework),{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"`getState` can only be called after the `Framework` or the `EditorView` has been added to the manager`. Check your plugins to make sure that the decorations callback uses the state argument."}),null==(_a=__privateGet(this,_framework))?void 0:_a.initialEditorState)}),__publicField(this,"updateState",state=>{let previousState=this.getState();this.view.updateState(state),this.onStateUpdate({previousState,state})});let{extensions,extensionMap}=function(initialExtensions,settings){let extensions=[],extensionMap=new WeakMap,duplicateMap=new WeakMap,gatheredExtensions=[],gatherRawExtensionConfig={duplicateMap,parentExtensions:[],gatheredExtensions,settings};for(let extension2 of initialExtensions)!function gatherRawExtensions(config,props){var _a;let{gatheredExtensions,duplicateMap,parentExtensions,settings}=config,{extension:extension2,parentExtension}=props,{names=[]}=props;(0,remirror_core_helpers.kG)(isExtension(extension2),{code:remirror_core_constants.mA.INVALID_MANAGER_EXTENSION,message:`An invalid extension: ${extension2} was provided to the [[\`RemirrorManager\`]].`});let childExtensions=extension2.extensions;if(extension2.setPriority(null==(_a=settings.priority)?void 0:_a[extension2.name]),gatheredExtensions.push(extension2),function(props){let{duplicateMap,extension:extension2,parentExtension}=props,key2=extension2.constructor,duplicate=duplicateMap.get(key2),parentToAdd=parentExtension?[parentExtension]:[];duplicateMap.set(key2,duplicate?[...duplicate,...parentToAdd]:parentToAdd)}({duplicateMap,extension:extension2,parentExtension}),0!==childExtensions.length){if(names.includes(extension2.name)){(0,tiny_warning_esm.Z)(!1,`Circular dependency encountered when loading extensions: ${names.join(" > ")} > ${extension2.name}`);return}for(let child of(names=[...names,extension2.name],parentExtensions.push(extension2),childExtensions))gatherRawExtensions(config,{names,extension:child,parentExtension:extension2})}}(gatherRawExtensionConfig,{extension:extension2});gatheredExtensions=(0,remirror_core_helpers.DY)(gatheredExtensions,(a,z)=>z.priority-a.priority);let found=new WeakSet,names=new Set;for(let extension21 of gatheredExtensions){let key2=extension21.constructor,name=extension21.name,duplicates=duplicateMap.get(key2);(0,remirror_core_helpers.kG)(duplicates,{message:`No entries were found for the ExtensionConstructor ${extension21.name}`,code:remirror_core_constants.mA.INTERNAL}),found.has(key2)||names.has(name)||(found.add(key2),names.add(name),extensions.push(extension21),extensionMap.set(key2,extension21),duplicates.forEach(parent=>null==parent?void 0:parent.replaceChildExtension(key2,extension21)))}let missing=[];for(let extension22 of extensions)!function(props){var _a;let{extension:extension2,found,missing}=props;if(extension2.requiredExtensions)for(let Constructor of null!=(_a=extension2.requiredExtensions)?_a:[])found.has(Constructor)||missing.push({Constructor,extension:extension2})}({extension:extension22,found,missing});return(0,remirror_core_helpers.kG)((0,remirror_core_helpers.yD)(missing),{code:remirror_core_constants.mA.MISSING_REQUIRED_EXTENSION,message:missing.map(({Constructor,extension:extension2})=>`The extension '${extension2.name}' requires '${Constructor.name} in order to run correctly.`).join("\n")}),{extensions,extensionMap}}(initialExtension,settings);for(let handler of(__privateSet(this,_settings,settings),__privateSet(this,_extensions,(0,remirror_core_helpers.vV)(extensions)),__privateSet(this,_extensionMap,extensionMap),__privateSet(this,_extensionStore,this.createExtensionStore()),__privateSet(this,_phase,remirror_core_constants.RC.Create),this.setupLifecycleHandlers(),__privateGet(this,_handlers).create)){let disposer=handler();disposer&&__privateGet(this,_disposers).push(disposer)}}static create(extensions,settings={}){return new _RemirrorManager([...(0,remirror_core_helpers.r2)(extensions),...function(options={}){let defaultOptions2={exitMarksOnArrowPress:KeymapExtension.defaultOptions.exitMarksOnArrowPress,excludeBaseKeymap:KeymapExtension.defaultOptions.excludeBaseKeymap,selectParentNodeOnEscape:KeymapExtension.defaultOptions.selectParentNodeOnEscape,undoInputRuleOnBackspace:KeymapExtension.defaultOptions.undoInputRuleOnBackspace,persistentSelectionClass:DecorationsExtension.defaultOptions.persistentSelectionClass};options={...defaultOptions2,...options};let keymapOptions=object_pick_default()(options,["excludeBaseKeymap","selectParentNodeOnEscape","undoInputRuleOnBackspace"]),decorationsOptions=object_pick_default()(options,["persistentSelectionClass"]);return[new TagsExtension,new SchemaExtension,new AttributesExtension,new PluginsExtension,new InputRulesExtension,new PasteRulesExtension,new NodeViewsExtension,new SuggestExtension,new CommandsExtension,new HelpersExtension,new KeymapExtension(keymapOptions),new DocChangedExtension,new UploadExtension,new DecorationsExtension(decorationsOptions)]}(settings.builtin)],settings)}get[remirror_core_constants.By](){return remirror_core_constants.lk.Manager}get destroyed(){return __privateGet(this,_phase)===remirror_core_constants.RC.Destroy}get mounted(){return __privateGet(this,_phase)>=remirror_core_constants.RC.EditorView&&__privateGet(this,_phase)<remirror_core_constants.RC.Destroy}get output(){var _a;return null==(_a=__privateGet(this,_framework))?void 0:_a.frameworkOutput}get frameworkAttached(){return!!__privateGet(this,_framework)}get extensions(){return __privateGet(this,_extensions)}get stringHandlers(){return __privateGet(this,_stringHandlers)}get store(){return(0,remirror_core_helpers.vV)(__privateGet(this,_store))}get extensionStore(){return(0,remirror_core_helpers.vV)(__privateGet(this,_extensionStore))}get tr(){return this.getExtension(CommandsExtension).transaction}get nodes(){return __privateGet(this,_store).nodes}get marks(){return __privateGet(this,_store).marks}get schema(){return __privateGet(this,_store).schema}get extensionTags(){return __privateGet(this,_store).tags}get view(){return __privateGet(this,_store).view}get settings(){return __privateGet(this,_settings)}get document(){var _a;return null!=(_a=__privateGet(this,_settings).document)?_a:(0,remirror_core_utils.Me)()}setupLifecycleHandlers(){let store=__privateGet(this,_extensionStore),handlers=__privateGet(this,_handlers),nodeNames=[],markNames=[],plainNames=[];for(let extension2 of(store.nodeNames=nodeNames,store.markNames=markNames,store.plainNames=plainNames,__privateGet(this,_extensions)))!function(props){var _a,_b,_c,_d;let{extension:extension2,nodeNames,markNames,plainNames,store,handlers}=props;extension2.setStore(store);let createHandler=null==(_a=extension2.onCreate)?void 0:_a.bind(extension2),viewHandler=null==(_b=extension2.onView)?void 0:_b.bind(extension2),stateUpdateHandler=null==(_c=extension2.onStateUpdate)?void 0:_c.bind(extension2),destroyHandler=null==(_d=extension2.onDestroy)?void 0:_d.bind(extension2);createHandler&&handlers.create.push(createHandler),viewHandler&&handlers.view.push(viewHandler),stateUpdateHandler&&handlers.update.push(stateUpdateHandler),destroyHandler&&handlers.destroy.push(destroyHandler),isMarkExtension(extension2)&&markNames.push(extension2.name),isNodeExtension(extension2)&&"doc"!==extension2.name&&nodeNames.push(extension2.name),isPlainExtension(extension2)&&plainNames.push(extension2.name)}({extension:extension2,nodeNames,markNames,plainNames,handlers,store})}setStringHandler(name,handler){__privateGet(this,_stringHandlers)[name]=handler}setStoreKey(key2,value){__privateGet(this,_store)[key2]=value}getStoreKey(key2){let value=__privateGet(this,_store)[key2];return(0,remirror_core_helpers.kG)(!(0,remirror_core_helpers.le)(value),{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"`getStoreKey` should not be called before the values are available."}),value}setExtensionStore(key2,value){(0,remirror_core_helpers.kG)(__privateGet(this,_phase)<=remirror_core_constants.RC.EditorView,{code:remirror_core_constants.mA.MANAGER_PHASE_ERROR,message:"`setExtensionStore` should only be called during the `onCreate` lifecycle hook. Make sure to only call it within the returned methods."}),__privateGet(this,_extensionStore)[key2]=value}createExtensionStore(){let currentState,previousState;let store=(0,remirror_core_helpers.Ry)();return Object.defineProperties(store,{extensions:{get:()=>__privateGet(this,_extensions),enumerable:!0},phase:{get:()=>__privateGet(this,_phase),enumerable:!0},view:{get:()=>this.view,enumerable:!0},managerSettings:{get:()=>(0,remirror_core_helpers.vV)(__privateGet(this,_settings)),enumerable:!0},getState:{value:this.getState,enumerable:!0},updateState:{value:this.updateState,enumerable:!0},isMounted:{value:()=>this.mounted,enumerable:!0},getExtension:{value:this.getExtension.bind(this),enumerable:!0},manager:{get:()=>this,enumerable:!0},document:{get:()=>this.document,enumerable:!0},stringHandlers:{get:()=>__privateGet(this,_stringHandlers),enumerable:!0},currentState:{get:()=>null!=currentState?currentState:currentState=this.getState(),set(state){currentState=state},enumerable:!0},previousState:{get:()=>previousState,set(state){previousState=state},enumerable:!0}}),store.getStoreKey=this.getStoreKey.bind(this),store.setStoreKey=this.setStoreKey.bind(this),store.setExtensionStore=this.setExtensionStore.bind(this),store.setStringHandler=this.setStringHandler.bind(this),store}addView(view){if(__privateGet(this,_phase)>=remirror_core_constants.RC.EditorView)return this;for(let handler of(__privateSet(this,_firstStateUpdate,!0),__privateSet(this,_phase,remirror_core_constants.RC.EditorView),__privateGet(this,_store).view=view,__privateGet(this,_handlers).view)){let disposer=handler(view);disposer&&__privateGet(this,_disposers).push(disposer)}return this}attachFramework(framework,updateHandler){var _a;__privateGet(this,_framework)!==framework&&(__privateGet(this,_framework)&&(__privateGet(this,_framework).destroy(),null==(_a=__privateGet(this,_disposeFramework))||_a.call(this)),__privateSet(this,_framework,framework),__privateSet(this,_disposeFramework,this.addHandler("stateUpdate",updateHandler)))}createEmptyDoc(){var _a;let doc=null==(_a=this.schema.nodes.doc)?void 0:_a.createAndFill();return(0,remirror_core_helpers.kG)(doc,{code:remirror_core_constants.mA.INVALID_CONTENT,message:"An empty node could not be created due to an invalid schema."}),doc}createState(props={}){let{onError,defaultSelection="end"}=this.settings,{content=this.createEmptyDoc(),selection=defaultSelection,stringHandler=this.settings.stringHandler}=props,{schema,plugins}=this.store,doc=(0,remirror_core_utils.EP)({stringHandler:(0,remirror_core_helpers.HD)(stringHandler)?this.stringHandlers[stringHandler]:stringHandler,document:this.document,content,onError,schema,selection});return prosemirror_state_dist.yy.create({schema,doc,plugins,selection:(0,remirror_core_utils.b0)(selection,doc)})}addHandler(event,cb){return __privateGet(this,_events2).on(event,cb)}onStateUpdate(props){let firstUpdate=__privateGet(this,_firstStateUpdate);__privateGet(this,_extensionStore).currentState=props.state,__privateGet(this,_extensionStore).previousState=props.previousState,firstUpdate&&(__privateSet(this,_phase,remirror_core_constants.RC.Runtime),__privateSet(this,_firstStateUpdate,!1));let propsWithUpdate={...props,firstUpdate};for(let handler of __privateGet(this,_handlers).update)handler(propsWithUpdate);__privateGet(this,_events2).emit("stateUpdate",propsWithUpdate)}getExtension(Constructor){let extension2=__privateGet(this,_extensionMap).get(Constructor);return(0,remirror_core_helpers.kG)(extension2,{code:remirror_core_constants.mA.INVALID_MANAGER_EXTENSION,message:`'${Constructor.name}' doesn't exist within this manager. Make sure it is properly added before attempting to use it.`}),extension2}hasExtension(Constructor){let extension2=__privateGet(this,_extensionMap).get(Constructor);return!!extension2}clone(){let extensions=__privateGet(this,_extensions).map(e=>e.clone(e.options)),manager=_RemirrorManager.create(()=>extensions,__privateGet(this,_settings));return __privateGet(this,_events2).emit("clone",manager),manager}recreate(extensions=[],settings={}){let currentExtensions=__privateGet(this,_extensions).map(e=>e.clone(e.initialOptions)),manager=_RemirrorManager.create(()=>[...currentExtensions,...extensions],settings);return __privateGet(this,_events2).emit("recreate",manager),manager}destroy(){var _a,_b,_c,_d,_e,_f,_g;for(let plugin of(__privateSet(this,_phase,remirror_core_constants.RC.Destroy),null!=(_b=null==(_a=this.view)?void 0:_a.state.plugins)?_b:[]))null==(_d=null==(_c=plugin.getState(this.view.state))?void 0:_c.destroy)||_d.call(_c);for(let dispose of(null==(_e=__privateGet(this,_framework))||_e.destroy(),null==(_f=__privateGet(this,_disposeFramework))||_f.call(this),__privateGet(this,_disposers)))dispose();for(let onDestroy of __privateGet(this,_handlers).destroy)onDestroy();null==(_g=this.view)||_g.destroy(),__privateGet(this,_events2).emit("destroy")}includes(mustIncludeList){let names=[],extensionsAndPresets=[];for(let item of __privateGet(this,_extensions))names.push(item.name,item.constructorName),extensionsAndPresets.push(item.constructor);return mustIncludeList.every(item=>(0,remirror_core_helpers.HD)(item)?(0,remirror_core_helpers.q9)(names,item):(0,remirror_core_helpers.q9)(extensionsAndPresets,item))}},RemirrorManager=_RemirrorManager;function isRemirrorManager(value,mustIncludeList){return!!((0,remirror_core_utils.gf)(value)&&(0,remirror_core_utils.pI)(value,remirror_core_constants.lk.Manager))&&(!mustIncludeList||value.includes(mustIncludeList))}_extensionStore=new WeakMap,_stringHandlers=new WeakMap,_store=new WeakMap,_extensions=new WeakMap,_extensionMap=new WeakMap,_phase=new WeakMap,_settings=new WeakMap,_firstStateUpdate=new WeakMap,_handlers=new WeakMap,_disposers=new WeakMap,_events2=new WeakMap,_framework=new WeakMap,_disposeFramework=new WeakMap},8987:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return BlockquoteExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85775),_remirror_messages__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35708),_remirror_pm_inputrules__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85734),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},BlockquoteExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_0__.NodeExtension{get name(){return"blockquote"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.Block,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.FormattingNode]}createNodeSpec(extra,override){var _a;return{content:"block+",defining:!0,draggable:!1,...override,attrs:extra.defaults(),parseDOM:[{tag:"blockquote",getAttrs:extra.parse,priority:100},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["blockquote",extra.dom(node),0]}}toggleBlockquote(){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.bm)(this.type)}shortcut(props){return this.toggleBlockquote()(props)}createInputRules(){return[(0,_remirror_pm_inputrules__WEBPACK_IMPORTED_MODULE_3__.S0)(/^\s*>\s$/,this.type)]}createPasteRules(){return{type:"node",nodeType:this.type,regexp:/^\s*>\s$/,startOfTextBlock:!0}}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.command)({icon:"doubleQuotesL",description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_4__.TU.DESCRIPTION),label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_4__.TU.LABEL)})],BlockquoteExtension.prototype,"toggleBlockquote",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.keyBinding)({shortcut:"Ctrl->",command:"toggleBlockquote"})],BlockquoteExtension.prototype,"shortcut",1)},78390:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return BoldExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62120),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},BoldExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{get name(){return"bold"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FormattingMark,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FontStyle]}createMarkSpec(extra,override){var _a;return{...override,attrs:extra.defaults(),parseDOM:[{tag:"strong",getAttrs:extra.parse},{tag:"b",getAttrs:node=>!!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(node)&&"normal"!==node.style.fontWeight&&extra.parse(node)},{style:"font-weight",getAttrs:node=>!!((0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.HD)(node)&&/^(bold(er)?|[5-9]\d{2,})$/.test(node))&&null},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>{let{weight}=this.options;return weight?["strong",{"font-weight":weight.toString()},0]:["strong",extra.dom(node),0]}}}createInputRules(){return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Cf)({regexp:/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,type:this.type,ignoreWhitespace:!0})]}toggleBold(selection){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type,selection})}setBold(selection){return({tr,dispatch})=>{let{from,to}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.b0)(null!=selection?selection:tr.selection,tr.doc);return null==dispatch||dispatch(tr.addMark(from,to,this.type.create())),!0}}removeBold(selection){return({tr,dispatch})=>{let{from,to}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.b0)(null!=selection?selection:tr.selection,tr.doc);return!!tr.doc.rangeHasMark(from,to,this.type)&&(null==dispatch||dispatch(tr.removeMark(from,to,this.type)),!0)}}shortcut(props){return this.toggleBold()(props)}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"bold",label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.ov.LABEL),description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.ov.DESCRIPTION)})],BoldExtension.prototype,"toggleBold",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)()],BoldExtension.prototype,"setBold",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)()],BoldExtension.prototype,"removeBold",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.Bold,command:"toggleBold"})],BoldExtension.prototype,"shortcut",1),BoldExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({defaultOptions:{weight:void 0},staticKeys:["weight"]})],BoldExtension)},52486:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return CodeBlockExtension}});var _extension,_type,_deleted,refractor_core_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92037),refractor_core_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(refractor_core_js__WEBPACK_IMPORTED_MODULE_0__),_remirror_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62120),_remirror_pm_keymap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86271),_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39451),_remirror_theme__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12114),_remirror_pm_view__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3401),_remirror_messages__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),LANGUAGE_ATTRIBUTE="data-code-block-language";function createDecorations(props){let{blocks,skipLast,plainTextClassName}=props,decorations=[];for(let block of blocks){let positionedRefractorNodes=function(nodeWithPos,plainTextClassName){var _a,_b;let{node,pos}=nodeWithPos,language=getLanguage({language:null==(_a=node.attrs.language)?void 0:_a.replace("language-",""),fallback:"markup"}),refractorNodes=refractor_core_js__WEBPACK_IMPORTED_MODULE_0___default().highlight(null!=(_b=node.textContent)?_b:"",language),parsedRefractorNodes=function parseRefractorNodes(refractorNodes,plainTextClassName,className=[]){return refractorNodes.map(node=>{let classes=[...className];return("element"===node.type&&node.properties.className?classes.push(...node.properties.className):"text"===node.type&&0===classes.length&&plainTextClassName&&classes.push(plainTextClassName),"element"===node.type)?parseRefractorNodes(node.children,plainTextClassName,classes):{text:node.value,classes}})}(refractorNodes,plainTextClassName),startPos=pos+1;return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.VF)(parsedRefractorNodes).map(function(refractorNode){let from=startPos,to=from+refractorNode.text.length;return startPos=to,{...refractorNode,from,to}})}(block,plainTextClassName),lastBlockLength=skipLast?positionedRefractorNodes.length-1:positionedRefractorNodes.length;for(let index of(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.w6)(lastBlockLength)){let positionedRefractorNode=positionedRefractorNodes[index],classes=null==positionedRefractorNode?void 0:positionedRefractorNode.classes;if(!positionedRefractorNode||!(null==classes?void 0:classes.length))continue;let decoration=_remirror_pm_view__WEBPACK_IMPORTED_MODULE_2__.p.inline(positionedRefractorNode.from,positionedRefractorNode.to,{class:classes.join(" ")});decorations.push(decoration)}}return decorations}function getLanguage(props){let{language,fallback}=props;if(!language)return fallback;let supportedLanguages=refractor_core_js__WEBPACK_IMPORTED_MODULE_0___default().listLanguages();for(let name of supportedLanguages)if(name.toLowerCase()===language.toLowerCase())return name;return fallback}var{DESCRIPTION,LABEL}=_remirror_messages__WEBPACK_IMPORTED_MODULE_5__.J,CodeBlockState=class{constructor(type,extension2){__privateAdd(this,_extension,void 0),__privateAdd(this,_type,void 0),__privateAdd(this,_deleted,!1),__publicField(this,"decorationSet"),__privateSet(this,_type,type),__privateSet(this,_extension,extension2)}init(state){let blocks=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.as)({node:state.doc,type:__privateGet(this,_type)});return this.refreshDecorationSet(state.doc,blocks),this}refreshDecorationSet(doc,blocks){var _a;let decorations=createDecorations({blocks,skipLast:__privateGet(this,_deleted),defaultLanguage:__privateGet(this,_extension).options.defaultLanguage,plainTextClassName:null!=(_a=__privateGet(this,_extension).options.plainTextClassName)?_a:void 0});this.decorationSet=_remirror_pm_view__WEBPACK_IMPORTED_MODULE_2__.EH.create(doc,decorations)}apply(tr,_){if(!tr.docChanged)return this;this.decorationSet=this.decorationSet.map(tr.mapping,tr.doc);let changedNodes=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.qh)(tr,{descend:!0,predicate:node=>node.type===__privateGet(this,_type),StepTypes:[]});return this.updateDecorationSet(tr,changedNodes),this}updateDecorationSet(tr,blocks){var _a;if(0===blocks.length)return;let decorationSet=this.decorationSet;for(let{node,pos}of blocks)decorationSet=this.decorationSet.remove(this.decorationSet.find(pos,pos+node.nodeSize));this.decorationSet=decorationSet.add(tr.doc,createDecorations({blocks,skipLast:__privateGet(this,_deleted),defaultLanguage:__privateGet(this,_extension).options.defaultLanguage,plainTextClassName:null!=(_a=__privateGet(this,_extension).options.plainTextClassName)?_a:void 0}))}setDeleted(deleted){__privateSet(this,_deleted,deleted)}};_extension=new WeakMap,_type=new WeakMap,_deleted=new WeakMap;var CodeBlockExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_6__.NodeExtension{get name(){return"codeBlock"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_7__.eX.Block,_remirror_core__WEBPACK_IMPORTED_MODULE_7__.eX.Code]}init(){this.registerLanguages()}createNodeSpec(extra,override){var _a;let githubHighlightRegExp=/highlight-(?:text|source)-([\da-z]+)/;return{content:"text*",marks:"",defining:!0,isolating:!0,draggable:!1,...override,code:!0,attrs:{...extra.defaults(),language:{default:this.options.defaultLanguage},wrap:{default:this.options.defaultWrap}},parseDOM:[{tag:"div.highlight",preserveWhitespace:"full",getAttrs(node){var _a2,_b;if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(node))return!1;let codeElement=node.querySelector("pre.code");if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(codeElement))return!1;let wrap="pre-wrap"===(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(codeElement,"white-space"),language=null==(_b=null==(_a2=node.className.match(githubHighlightRegExp))?void 0:_a2[1])?void 0:_b.replace("language-","");return{...extra.parse(node),language,wrap}}},{tag:"pre",preserveWhitespace:"full",getAttrs:node=>{if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(node))return!1;let codeElement=node.querySelector("code");if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(codeElement))return!1;let wrap="pre-wrap"===(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(codeElement,"white-space"),language=this.options.getLanguageFromDom(codeElement,node);return{...extra.parse(node),language,wrap}}},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>(function(node,extra){let{language,wrap}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Kh)(node.attrs,extra),{style:_,...extraAttrs}=extra.dom(node),style=extraAttrs.style;wrap&&(style=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.X3)({whiteSpace:"pre-wrap",wordBreak:"break-all"},style));let attributes={spellcheck:"false",...extraAttrs,class:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.cx)(extraAttrs.class,`language-${language}`)};return["pre",attributes,["code",{[LANGUAGE_ATTRIBUTE]:language,style},0]]})(node,extra)}}createAttributes(){return{class:_remirror_theme__WEBPACK_IMPORTED_MODULE_8__.uV[this.options.syntaxTheme.toUpperCase()]}}createInputRules(){let getAttributes=match=>{let language=getLanguage({language:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.FI)(match,1),fallback:this.options.defaultLanguage});return{language}};return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.x2)({regexp:/^```([\dA-Za-z]*) $/,type:this.type,beforeDispatch({tr,start}){let $pos=tr.doc.resolve(start);tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__.Bs.near($pos))},getAttributes})]}onSetOptions(props){let{changes}=props;changes.supportedLanguages.changed&&this.registerLanguages(),changes.syntaxTheme.changed&&this.store.updateAttributes()}createPlugin(){let pluginState=new CodeBlockState(this.type,this),handler=()=>(pluginState.setDeleted(!0),!1);return{state:{init:(_,state)=>pluginState.init(state),apply:(tr,_,__,state)=>pluginState.apply(tr,state)},props:{handleKeyDown:(0,_remirror_pm_keymap__WEBPACK_IMPORTED_MODULE_9__.$)({Backspace:handler,"Mod-Backspace":handler,Delete:handler,"Mod-Delete":handler,"Ctrl-h":handler,"Alt-Backspace":handler,"Ctrl-d":handler,"Ctrl-Alt-Backspace":handler,"Alt-Delete":handler,"Alt-d":handler}),decorations:()=>(pluginState.setDeleted(!1),pluginState.decorationSet)}}}toggleCodeBlock(attributes={}){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.zU)({type:this.type,toggleType:this.options.toggleName,attrs:{language:this.options.defaultLanguage,...attributes}})}createCodeBlock(attributes){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.uJ)(this.type,attributes)}updateCodeBlock(attributes){var type;return(type=this.type,attributes=>({state:{tr,selection},dispatch})=>{if(!(attributes&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.Kn)(attributes)&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(attributes.language)&&attributes.language.length>0))throw Error("Invalid attrs passed to the updateAttributes method");let parent=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Tr)({types:type,selection});return!(!parent||(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.Xy)(attributes,parent.node.attrs))&&(tr.setNodeMarkup(parent.pos,type,{...parent.node.attrs,...attributes}),dispatch&&dispatch(tr),!0)})(attributes)}formatCodeBlock(props){var props1;return(props1={type:this.type,formatter:this.options.formatter,defaultLanguage:this.options.defaultLanguage},({pos}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.Ry)())=>({tr,dispatch})=>{let formatEnd;let{type,formatter,defaultLanguage:fallback}=props1,{from,to}=pos?{from:pos,to:pos}:tr.selection,codeBlock=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Tr)({types:type,selection:tr.selection});if(!codeBlock)return!1;let{node:{attrs,textContent},start}=codeBlock,offsetStart=from-start,offsetEnd=to-start,language=getLanguage({language:attrs.language,fallback}),formatStart=formatter({source:textContent,language,cursorOffset:offsetStart});if(offsetStart!==offsetEnd&&(formatEnd=formatter({source:textContent,language,cursorOffset:offsetEnd})),!formatStart)return!1;let{cursorOffset,formatted}=formatStart;if(formatted===textContent)return!1;let end=start+textContent.length;tr.insertText(formatted,start,end);let anchor=start+cursorOffset,head=formatEnd?start+formatEnd.cursorOffset:void 0;return tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__.Bs.between(tr.doc.resolve(anchor),tr.doc.resolve(null!=head?head:anchor))),dispatch&&dispatch(tr),!0})(props)}tabKey({state,dispatch}){let{selection,tr,schema}=state,{node}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.JB)(selection);if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.$9)({node,types:this.type}))return!1;if(selection.empty)tr.insertText("	");else{let{from,to}=selection;tr.replaceWith(from,to,schema.text("	"))}return dispatch&&dispatch(tr),!0}backspaceKey({dispatch,tr,state}){if(!tr.selection.empty)return!1;let parent=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Tr)({types:this.type,selection:tr.selection});if((null==parent?void 0:parent.start)!==tr.selection.from)return!1;let{pos,node,start}=parent,toggleNode=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.fp)(state.schema.nodes,this.options.toggleName);return""===node.textContent.trim()?tr.doc.lastChild===node&&tr.doc.firstChild===node?(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.IY)({pos,tr,content:toggleNode.create()}):(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.aS)({pos,tr}):start>2?tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__.Bs.near(tr.doc.resolve(start-2))):(tr.insert(0,toggleNode.create()),tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__.Bs.near(tr.doc.resolve(1)))),dispatch&&dispatch(tr),!0}enterKey({dispatch,tr}){if(!((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.hT)(tr.selection)&&tr.selection.empty))return!1;let{nodeBefore,parent}=tr.selection.$anchor;if(!nodeBefore||!nodeBefore.isText||!parent.type.isTextblock)return!1;let regex=/^```([A-Za-z]*)?$/,{text,nodeSize}=nodeBefore,{textContent}=parent;if(!text)return!1;let matchesNodeBefore=text.match(regex),matchesParent=textContent.match(regex);if(!matchesNodeBefore||!matchesParent)return!1;let[,lang]=matchesNodeBefore,language=getLanguage({language:lang,fallback:this.options.defaultLanguage}),pos=tr.selection.$from.before();return tr.replaceWith(pos,pos+nodeSize+1,this.type.create({language})),tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_4__.Bs.near(tr.doc.resolve(pos+1))),dispatch&&dispatch(tr),!0}formatShortcut({tr}){let commands=this.store.commands;if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Ig)({type:this.type,state:tr}))return!1;let enabled=commands.formatCodeBlock.isEnabled();return enabled&&commands.formatCodeBlock(),enabled}registerLanguages(){for(let language of this.options.supportedLanguages)refractor_core_js__WEBPACK_IMPORTED_MODULE_0___default().register(language)}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.command)({icon:"bracesLine",description:({t})=>t(DESCRIPTION),label:({t})=>t(LABEL)})],CodeBlockExtension.prototype,"toggleCodeBlock",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.command)()],CodeBlockExtension.prototype,"createCodeBlock",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.command)()],CodeBlockExtension.prototype,"updateCodeBlock",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.command)()],CodeBlockExtension.prototype,"formatCodeBlock",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.keyBinding)({shortcut:"Tab"})],CodeBlockExtension.prototype,"tabKey",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.keyBinding)({shortcut:"Backspace"})],CodeBlockExtension.prototype,"backspaceKey",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.keyBinding)({shortcut:"Enter"})],CodeBlockExtension.prototype,"enterKey",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_7__.vO.Format})],CodeBlockExtension.prototype,"formatShortcut",1),CodeBlockExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.extension)({defaultOptions:{supportedLanguages:[],toggleName:"paragraph",formatter:({source})=>({cursorOffset:0,formatted:source}),syntaxTheme:"a11y_dark",defaultLanguage:"markup",defaultWrap:!1,plainTextClassName:"",getLanguageFromDom:function(codeElement){var _a,_b;return null==(_b=null!=(_a=codeElement.getAttribute(LANGUAGE_ATTRIBUTE))?_a:codeElement.classList[0])?void 0:_b.replace("language-","")}},staticKeys:["getLanguageFromDom"]})],CodeBlockExtension)},76519:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return CodeExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},{DESCRIPTION,LABEL}=_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.jz,CodeExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{get name(){return"code"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.Code,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.ExcludeInputRules]}createMarkSpec(extra,override){var _a;return{excludes:"_",...override,attrs:extra.defaults(),parseDOM:[{tag:"code",getAttrs:extra.parse},...null!=(_a=override.parseDOM)?_a:[]],toDOM:mark=>["code",{spellcheck:"false",...extra.dom(mark)},0]}}createKeymap(){return{"Mod-`":(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type})}}keyboardShortcut(props){return this.toggleCode()(props)}toggleCode(){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type})}createInputRules(){return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Cf)({regexp:RegExp(`(?:\`)([^\`${_remirror_core__WEBPACK_IMPORTED_MODULE_2__.Z9}]+)(?:\`)$`),type:this.type,ignoreWhitespace:!0})]}createPasteRules(){return[{type:"mark",regexp:/`([^`]+)`/g,markType:this.type}]}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.Code,command:"toggleCode"})],CodeExtension.prototype,"keyboardShortcut",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"codeLine",description:({t})=>t(DESCRIPTION),label:({t})=>t(LABEL)})],CodeExtension.prototype,"toggleCode",1),CodeExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({})],CodeExtension)},89515:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return DropCursorExtension}});var remirror_core=__webpack_require__(80117),dist=__webpack_require__(39451),prosemirror_transform_dist=__webpack_require__(21692);class DropCursorView{constructor(editorView,options){this.editorView=editorView,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=options.width||1,this.color=options.color||"black",this.class=options.class,this.handlers=["dragover","dragend","drop","dragleave"].map(name=>{let handler=e=>{this[name](e)};return editorView.dom.addEventListener(name,handler),{name,handler}})}destroy(){this.handlers.forEach(({name,handler})=>this.editorView.dom.removeEventListener(name,handler))}update(editorView,prevState){null!=this.cursorPos&&prevState.doc!=editorView.state.doc&&(this.cursorPos>editorView.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(pos){pos!=this.cursorPos&&(this.cursorPos=pos,null==pos?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let parentLeft,parentTop,$pos=this.editorView.state.doc.resolve(this.cursorPos),isBlock=!$pos.parent.inlineContent,rect;if(isBlock){let before=$pos.nodeBefore,after=$pos.nodeAfter;if(before||after){let node=this.editorView.nodeDOM(this.cursorPos-(before?before.nodeSize:0));if(node){let nodeRect=node.getBoundingClientRect(),top=before?nodeRect.bottom:nodeRect.top;before&&after&&(top=(top+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),rect={left:nodeRect.left,right:nodeRect.right,top:top-this.width/2,bottom:top+this.width/2}}}}if(!rect){let coords=this.editorView.coordsAtPos(this.cursorPos);rect={left:coords.left-this.width/2,right:coords.left+this.width/2,top:coords.top,bottom:coords.bottom}}let parent=this.editorView.dom.offsetParent;if(this.element||(this.element=parent.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",isBlock),this.element.classList.toggle("prosemirror-dropcursor-inline",!isBlock),parent&&(parent!=document.body||"static"!=getComputedStyle(parent).position)){let rect1=parent.getBoundingClientRect();parentLeft=rect1.left-parent.scrollLeft,parentTop=rect1.top-parent.scrollTop}else parentLeft=-pageXOffset,parentTop=-pageYOffset;this.element.style.left=rect.left-parentLeft+"px",this.element.style.top=rect.top-parentTop+"px",this.element.style.width=rect.right-rect.left+"px",this.element.style.height=rect.bottom-rect.top+"px"}scheduleRemoval(timeout){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),timeout)}dragover(event){if(!this.editorView.editable)return;let pos=this.editorView.posAtCoords({left:event.clientX,top:event.clientY}),node=pos&&pos.inside>=0&&this.editorView.state.doc.nodeAt(pos.inside),disableDropCursor=node&&node.type.spec.disableDropCursor,disabled="function"==typeof disableDropCursor?disableDropCursor(this.editorView,pos,event):disableDropCursor;if(pos&&!disabled){let target=pos.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let point=(0,prosemirror_transform_dist.nj)(this.editorView.state.doc,target,this.editorView.dragging.slice);null!=point&&(target=point)}this.setCursor(target),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(event){event.target!=this.editorView.dom&&this.editorView.dom.contains(event.relatedTarget)||this.setCursor(null)}}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,DropCursorExtension=class extends remirror_core.PlainExtension{get name(){return"dropCursor"}createExternalPlugins(){let{color,width}=this.options;return[function(options={}){return new dist.Sy({view:editorView=>new DropCursorView(editorView,options)})}({color,width})]}};DropCursorExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result})([(0,remirror_core.extension)({defaultOptions:{color:"black",width:1}})],DropCursorExtension)},83740:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return IframeExtension}});var querystringify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97375),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62120),prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67507),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),ResizableIframeView=class extends prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_1__.f{constructor(node,view,getPos,iframeOptions){let{width,height}=node.attrs;super({node,view,getPos,aspectRatio:prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_1__.$.Flexible,options:iframeOptions,initialSize:width&&height?{width,height}:void 0}),__publicField(this,"options"),this.options=iframeOptions}createElement({node,options}){let{src,type,allowFullScreen,frameBorder}=node.attrs,iframe=document.createElement("iframe");return iframe.setAttribute("src",src),iframe.dataset.embedType=type,iframe.setAttribute("allowfullscreen",allowFullScreen?"true":"false"),iframe.setAttribute("frameBorder",null==frameBorder?void 0:frameBorder.toString()),(null==options?void 0:options.class)&&(iframe.classList.add(options.class),iframe.classList.add(`${options.class}-${type}`)),iframe.style.width="100%",iframe.style.height="100%",iframe}},IframeExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_2__.NodeExtension{get name(){return"iframe"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_3__.eX.Block]}createNodeViews(){let iframeOptions={...this.options};return this.options.enableResizing?(node,view,getPos)=>new ResizableIframeView(node,view,getPos,iframeOptions):{}}createNodeSpec(extra,override){var _a;let{defaultSource}=this.options;return{selectable:!1,...override,attrs:{...extra.defaults(),src:defaultSource?{default:defaultSource}:{},allowFullScreen:{default:!0},frameBorder:{default:0},type:{default:"custom"},width:{default:null},height:{default:null}},parseDOM:[{tag:"iframe",getAttrs(dom){var _a2,_b;let frameBorder=dom.getAttribute("frameborder"),width=dom.getAttribute("width"),height=dom.getAttribute("height");return{...extra.parse(dom),type:null!=(_a2=dom.getAttribute("data-embed-type"))?_a2:void 0,height:height&&Number.parseInt(height,10)||void 0,width:width&&Number.parseInt(width,10)||void 0,allowFullScreen:"false"!==dom.getAttribute("allowfullscreen"),frameBorder:frameBorder?Number.parseInt(frameBorder,10):0,src:null!=(_b=dom.getAttribute("src"))?_b:""}}},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>{let{frameBorder,allowFullScreen,src,type,...rest}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.Kh)(node.attrs,extra),{class:className}=this.options;return["iframe",{...extra.dom(node),...rest,class:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_5__.cx)(className,`${className}-${type}`),src,"data-embed-type":type,allowfullscreen:allowFullScreen?"true":"false",frameBorder:null==frameBorder?void 0:frameBorder.toString()}]}}}addIframe(attributes){return({tr,dispatch})=>(null==dispatch||dispatch(tr.replaceSelectionWith(this.type.create(attributes))),!0)}addYouTubeVideo(props){return this.addIframe({src:createYouTubeUrl(props),frameBorder:0,type:"youtube",allowFullScreen:"true"})}updateIframeSource(src){return({tr,dispatch})=>{let iframeNode=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.a1)({selection:tr.selection,types:this.type});return!!iframeNode&&(null==dispatch||dispatch(tr.setNodeMarkup(iframeNode.pos,void 0,{...iframeNode.node.attrs,src})),!0)}}updateYouTubeVideo(props){return this.updateIframeSource(createYouTubeUrl(props))}};function createYouTubeUrl(props){var _a,_b,_c;let{video,enhancedPrivacy=!0,showControls=!0,startAt=0}=props,id=null!=(_c=null==(_b=null==(_a=function(url){let parser=document.createElement("a");parser.href=url;let searchObject=(0,querystringify__WEBPACK_IMPORTED_MODULE_0__.Q)(parser.search);return{protocol:parser.protocol,host:parser.host,hostname:parser.hostname,port:parser.port,pathname:parser.pathname,search:parser.search,searchObject,hash:parser.hash}}(video))?void 0:_a.searchObject)?void 0:_b.v)?_c:video,searchObject=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_5__.Ry)();return showControls||(searchObject.controls="0"),startAt&&(searchObject["amp;start"]=startAt),`${enhancedPrivacy?"https://www.youtube-nocookie.com":"https://www.youtube.com"}/embed/${id}?${(0,querystringify__WEBPACK_IMPORTED_MODULE_0__.P)(searchObject)}`}__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],IframeExtension.prototype,"addIframe",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],IframeExtension.prototype,"addYouTubeVideo",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],IframeExtension.prototype,"updateIframeSource",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],IframeExtension.prototype,"updateYouTubeVideo",1),IframeExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.extension)({defaultOptions:{defaultSource:"",class:"remirror-iframe",enableResizing:!1},staticKeys:["defaultSource","class"]})],IframeExtension)},86924:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return EventsExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62120),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9436),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),EventsExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_0__.PlainExtension{constructor(){super(...arguments),__publicField(this,"mousedown",!1),__publicField(this,"mouseover",!1),__publicField(this,"createMouseEventHandler",fn=>(view,mouseEvent)=>{var _a;let eventPosition=function(view,event){var _a;let target=event.target;if(target){let pos=function(view,node,offset,bias){let pos=view.docView.posFromDOM(node,0,void 0);return null===pos||pos<0?null:pos}(view,target,0);if(null!==pos){let $pos=view.state.doc.resolve(pos),border=$pos.node().isLeaf?0:1,inside=$pos.start()-border;return{pos,inside}}}return null!=(_a=view.posAtCoords({left:event.clientX,top:event.clientY}))?_a:void 0}(view,mouseEvent);if(!eventPosition)return!1;let nodes=[],marks=[],{inside,pos}=eventPosition;if(-1===inside)return!1;let $pos=view.state.doc.resolve(pos),currentNodeDepth=$pos.depth+1;for(let index of(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.w6)(currentNodeDepth,1))nodes.push({node:index>$pos.depth&&$pos.nodeAfter?$pos.nodeAfter:$pos.node(index),pos:$pos.before(index)});for(let{type}of null!=(_a=$pos.marksAcross($pos))?_a:[]){let range2=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.IH)($pos,type);range2&&marks.push(range2)}return fn(mouseEvent,{view,nodes,marks,getMark(markType){let type=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(markType)?view.state.schema.marks[markType]:markType;return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.kG)(type,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mA.EXTENSION,message:`The mark ${markType} being checked does not exist within the editor schema.`}),marks.find(range2=>range2.mark.type===type)},getNode(nodeType){var _a2;let type=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(nodeType)?view.state.schema.nodes[nodeType]:nodeType;(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.kG)(type,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mA.EXTENSION,message:"The node being checked does not exist"});let nodeWithPos=nodes.find(({node})=>node.type===type);if(nodeWithPos)return{...nodeWithPos,isRoot:!!(null==(_a2=nodes[0])?void 0:_a2.node.eq(nodeWithPos.node))}}})})}get name(){return"events"}onView(){var _a,_b;if(null==(_a=this.store.managerSettings.exclude)||!_a.clickHandler)for(let extension2 of this.store.extensions){if(!extension2.createEventHandlers||(null==(_b=extension2.options.exclude)?void 0:_b.clickHandler))continue;let eventHandlers=extension2.createEventHandlers();for(let[key,handler]of(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.qh)(eventHandlers))this.addHandler(key,handler)}}createPlugin(){let eventMap=new WeakMap,runClickHandlerOn=(clickMark,click,view,pos,node,nodePos,event,direct)=>{let state=this.store.currentState,{schema,doc}=state,$pos=doc.resolve(pos),handled=eventMap.has(event),baseState=function(props){let{handled,view,$pos,state}=props,clickState={getMark:_remirror_core__WEBPACK_IMPORTED_MODULE_1__.ZT,markRanges:[],view,state};if(handled)return clickState;for(let{type}of $pos.marks()){let range2=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.IH)($pos,type);range2&&clickState.markRanges.push(range2)}return clickState.getMark=markType=>{let type=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(markType)?state.schema.marks[markType]:markType;return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.kG)(type,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mA.EXTENSION,message:`The mark ${markType} being checked does not exist within the editor schema.`}),clickState.markRanges.find(range2=>range2.mark.type===type)},clickState}({$pos,handled,view,state}),returnValue=!1;handled||(returnValue=clickMark(event,baseState)||returnValue);let clickState={...baseState,pos,direct,nodeWithPosition:{node,pos:nodePos},getNode(nodeType){let type=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(nodeType)?schema.nodes[nodeType]:nodeType;return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.kG)(type,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mA.EXTENSION,message:"The node being checked does not exist"}),type===node.type?{node,pos:nodePos}:void 0}};return eventMap.set(event,!0),click(event,clickState)||returnValue};return{props:{handleKeyPress:(_,event)=>this.options.keypress(event)||!1,handleKeyDown:(_,event)=>this.options.keydown(event)||!1,handleTextInput:(_,from,to,text)=>this.options.textInput({from,to,text})||!1,handleClickOn:(view,pos,node,nodePos,event,direct)=>runClickHandlerOn(this.options.clickMark,this.options.click,view,pos,node,nodePos,event,direct),handleDoubleClickOn:(view,pos,node,nodePos,event,direct)=>runClickHandlerOn(this.options.doubleClickMark,this.options.doubleClick,view,pos,node,nodePos,event,direct),handleTripleClickOn:(view,pos,node,nodePos,event,direct)=>runClickHandlerOn(this.options.tripleClickMark,this.options.tripleClick,view,pos,node,nodePos,event,direct),handleDOMEvents:{focus:(_,event)=>this.options.focus(event)||!1,blur:(_,event)=>this.options.blur(event)||!1,mousedown:(_,event)=>(this.startMouseover(),this.options.mousedown(event)||!1),mouseup:(_,event)=>(this.endMouseover(),this.options.mouseup(event)||!1),mouseleave:(_,event)=>(this.mouseover=!1,this.options.mouseleave(event)||!1),mouseenter:(_,event)=>(this.mouseover=!0,this.options.mouseenter(event)||!1),keyup:(_,event)=>this.options.keyup(event)||!1,mouseout:this.createMouseEventHandler((event,props)=>{let state={...props,hovering:!1};return this.options.hover(event,state)||!1}),mouseover:this.createMouseEventHandler((event,props)=>{let state={...props,hovering:!0};return this.options.hover(event,state)||!1}),contextmenu:this.createMouseEventHandler((event,props)=>this.options.contextmenu(event,props)||!1),scroll:(_,event)=>this.options.scroll(event)||!1,copy:(_,event)=>this.options.copy(event)||!1,paste:(_,event)=>this.options.paste(event)||!1}}}}isInteracting(){return this.mousedown&&this.mouseover}startMouseover(){this.mouseover=!0,this.mousedown||(this.mousedown=!0,this.store.document.documentElement.addEventListener("mouseup",()=>{this.endMouseover()},{once:!0}))}endMouseover(){this.mousedown&&(this.mousedown=!1,this.store.commands.emptyUpdate())}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.helper)()],EventsExtension.prototype,"isInteracting",1),EventsExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.extension)({handlerKeys:["blur","focus","mousedown","mouseup","mouseenter","mouseleave","textInput","keypress","keyup","keydown","click","clickMark","doubleClick","doubleClickMark","tripleClick","tripleClickMark","contextmenu","hover","scroll","copy","paste"],handlerKeyOptions:{blur:{earlyReturnValue:!0},focus:{earlyReturnValue:!0},mousedown:{earlyReturnValue:!0},mouseleave:{earlyReturnValue:!0},mouseup:{earlyReturnValue:!0},click:{earlyReturnValue:!0},doubleClick:{earlyReturnValue:!0},tripleClick:{earlyReturnValue:!0},hover:{earlyReturnValue:!0},contextmenu:{earlyReturnValue:!0},scroll:{earlyReturnValue:!0},copy:{earlyReturnValue:!0},paste:{earlyReturnValue:!0}},defaultPriority:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.xV.High})],EventsExtension)},58924:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return HardBreakExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67969),_remirror_pm_commands__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10746),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},HardBreakExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_0__.NodeExtension{get name(){return"hardBreak"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.InlineNode]}createNodeSpec(extra,override){var _a;return{inline:!0,selectable:!1,atom:!0,leafText:()=>"\n",...override,attrs:extra.defaults(),parseDOM:[{tag:"br",getAttrs:extra.parse},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["br",extra.dom(node)]}}createKeymap(){let command2=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.QF)((0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.A_)(_remirror_pm_commands__WEBPACK_IMPORTED_MODULE_3__.uo),()=>(this.store.commands.insertHardBreak(),!0));return{"Mod-Enter":command2,"Shift-Enter":command2}}insertHardBreak(){return props=>{let{tr,dispatch}=props;return null==dispatch||dispatch(tr.replaceSelectionWith(this.type.create()).scrollIntoView()),!0}}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.command)()],HardBreakExtension.prototype,"insertHardBreak",1),HardBreakExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.extension)({defaultPriority:_remirror_core__WEBPACK_IMPORTED_MODULE_1__.xV.Low})],HardBreakExtension)},24553:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return HeadingExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62120),_remirror_pm_inputrules__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85734),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},{LABEL}=_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.bk,shortcuts=[_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H1,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H2,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H3,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H4,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H5,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H6],HeadingExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_2__.NodeExtension{get name(){return"heading"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.Block,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.TextBlock,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.FormattingNode]}createNodeSpec(extra,override){var _a;return{content:"inline*",defining:!0,draggable:!1,...override,attrs:{...extra.defaults(),level:{default:this.options.defaultLevel}},parseDOM:[...this.options.levels.map(level=>({tag:`h${level}`,getAttrs:element=>({...extra.parse(element),level})})),...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>this.options.levels.includes(node.attrs.level)?[`h${node.attrs.level}`,extra.dom(node),0]:[`h${this.options.defaultLevel}`,extra.dom(node),0]}}toggleHeading(attrs={}){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.zU)({type:this.type,toggleType:"paragraph",attrs})}createKeymap(fn){var _a;let commandsExtension=this.store.getExtension(_remirror_core__WEBPACK_IMPORTED_MODULE_2__.CommandsExtension),keys=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.Ry)(),attrShortcuts=[];for(let level of this.options.levels){let shortcut=null!=(_a=shortcuts[level-1])?_a:_remirror_core__WEBPACK_IMPORTED_MODULE_1__.vO.H1;keys[shortcut]=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.uJ)(this.type,{level}),attrShortcuts.push({attrs:{level},shortcut:fn(shortcut)[0]})}return commandsExtension.updateDecorated("toggleHeading",{shortcut:attrShortcuts}),keys}createInputRules(){return this.options.levels.map(level=>(0,_remirror_pm_inputrules__WEBPACK_IMPORTED_MODULE_5__.zK)(RegExp(`^(#{1,${level}})\\s$`),this.type,()=>({level})))}createPasteRules(){return this.options.levels.map(level=>({type:"node",nodeType:this.type,regexp:RegExp(`^#{${level}}\\s([\\s\\w]+)$`),getAttributes:()=>({level}),startOfTextBlock:!0}))}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)({icon({attrs}){var _a;return`h${null!=(_a=null==attrs?void 0:attrs.level)?_a:"1"}`},label:({t,attrs})=>t(LABEL,{level:null==attrs?void 0:attrs.level})})],HeadingExtension.prototype,"toggleHeading",1),HeadingExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.extension)({defaultOptions:{levels:[1,2,3,4,5,6],defaultLevel:1},staticKeys:["defaultLevel","levels"]})],HeadingExtension)},50557:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{V:function(){return HorizontalRuleExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62120),_remirror_pm_state__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39451),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},HorizontalRuleExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.NodeExtension{get name(){return"horizontalRule"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.Block]}createNodeSpec(extra,override){var _a;return{...override,attrs:extra.defaults(),parseDOM:[{tag:"hr",getAttrs:extra.parse},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["hr",extra.dom(node)]}}insertHorizontalRule(){return props=>{let{tr,dispatch}=props,$pos=tr.selection.$anchor,initialParent=$pos.parent;if("doc"===initialParent.type.name||initialParent.isAtom||initialParent.isLeaf)return!1;if(!dispatch)return!0;let shouldDuplicateEmptyNode=tr.selection.empty&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mp)(initialParent);return shouldDuplicateEmptyNode&&tr.insert($pos.pos+1,initialParent),tr.replaceSelectionWith(this.type.create()),this.updateFromNodeSelection(tr),dispatch(tr.scrollIntoView()),!0}}createInputRules(){return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.x2)({regexp:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type,beforeDispatch:({tr})=>{this.updateFromNodeSelection(tr)}})]}updateFromNodeSelection(tr){if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.EG)(tr.selection)||tr.selection.node.type.name!==this.name)return;let pos=tr.selection.$from.pos+1,{insertionNode}=this.options;if(!insertionNode)return;let type=this.store.schema.nodes[insertionNode];(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.kG)(type,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.mA.EXTENSION,message:`'${insertionNode}' node provided as the insertionNode to the '${this.constructorName}' does not exist.`});let node=type.create();tr.insert(pos,node),tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_5__.Bs.near(tr.doc.resolve(pos+1)))}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"separator",label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.ir.LABEL),description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.ir.DESCRIPTION)})],HorizontalRuleExtension.prototype,"insertHorizontalRule",1),HorizontalRuleExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({defaultOptions:{insertionNode:"paragraph"}})],HorizontalRuleExtension)},81696:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Gc:function(){return ImageExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62120),_remirror_pm_transform__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21692),_remirror_theme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12114),prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67507),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},ResizableImageView=class extends prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_0__.f{constructor(node,view,getPos){super({node,view,getPos,aspectRatio:prosemirror_resizable_view__WEBPACK_IMPORTED_MODULE_0__.$.Fixed})}createElement({node}){let inner=document.createElement("img");return inner.setAttribute("src",node.attrs.src),(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.yL)(inner,{width:"100%",minWidth:"50px",objectFit:"contain"}),inner}},ImageExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_2__.NodeExtension{get name(){return"image"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_3__.eX.InlineNode,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.eX.Media]}createNodeSpec(extra,override){var _a;let{preferPastedTextContent}=this.options;return{inline:!0,draggable:!0,selectable:!1,...override,attrs:{...extra.defaults(),alt:{default:""},crop:{default:null},height:{default:null},width:{default:null},rotate:{default:null},src:{default:null},title:{default:""},fileName:{default:null},resizable:{default:!1}},parseDOM:[{tag:"img[src]",getAttrs(element){var _a2;if((0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.jd)(element)){let attrs=function({element,parse}){var _a,_b,_c,_d;let{width,height}=function(element){let{width,height}=element.style;return width=width||element.getAttribute("width")||"",height=height||element.getAttribute("height")||"",{width,height}}(element);return{...parse(element),alt:null!=(_a=element.getAttribute("alt"))?_a:"",height:Number.parseInt(height||"0",10)||null,src:null!=(_b=element.getAttribute("src"))?_b:null,title:null!=(_c=element.getAttribute("title"))?_c:"",width:Number.parseInt(width||"0",10)||null,fileName:null!=(_d=element.getAttribute("data-file-name"))?_d:null}}({element,parse:extra.parse});return!(preferPastedTextContent&&(null==(_a2=attrs.src)?void 0:_a2.startsWith("file:///")))&&attrs}return{}}},...null!=(_a=override.parseDOM)?_a:[]],toDOM(node){let attrs=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.Kh)(node.attrs,extra);return["img",{...extra.dom(node),...attrs}]}}}insertImage(attributes,selection){return({tr,dispatch})=>{let{from,to}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.b0)(null!=selection?selection:tr.selection,tr.doc),node=this.type.create(attributes);return null==dispatch||dispatch(tr.replaceRangeWith(from,to,node)),!0}}uploadImage(value,onElement){let{updatePlaceholder,destroyPlaceholder,createPlaceholder:createPlaceholder2}=this.options;return props=>{let{tr}=props,pos=tr.selection.from;return this.store.createPlaceholderCommand({promise:value,placeholder:{type:"widget",get pos(){return pos},createElement(view,pos2){let element=createPlaceholder2(view,pos2);return null==onElement||onElement(element),element},onUpdate(view,pos2,element,data){updatePlaceholder(view,pos2,element,data)},onDestroy(view,element){destroyPlaceholder(view,element)}},onSuccess:(value2,range,commandProps)=>this.insertImage(value2,range)(commandProps)}).validate(({tr:tr2,dispatch})=>{let insertPos=(0,_remirror_pm_transform__WEBPACK_IMPORTED_MODULE_4__.Yo)(tr2.doc,pos,this.type);return null!=insertPos&&(pos=insertPos,tr2.selection.empty||null==dispatch||dispatch(tr2.deleteSelection()),!0)},"unshift").generateCommand()(props)}}fileUploadFileHandler(files,event,pos){var _a;let{preferPastedTextContent,uploadHandler:uploadHandler2}=this.options;if(preferPastedTextContent&&void 0!==event.clipboardData&&(null==(_a=event.clipboardData)?void 0:_a.getData("text/plain")))return!1;let{commands,chain}=this.store,filesWithProgress=files.map((file,index)=>({file,progress(progress){commands.updatePlaceholder(uploads[index],progress)}})),uploads=uploadHandler2(filesWithProgress);for(let upload of((0,_remirror_core__WEBPACK_IMPORTED_MODULE_5__.hj)(pos)&&chain.selectText(pos),uploads))chain.uploadImage(upload);return chain.run(),!0}createPasteRules(){return[{type:"file",regexp:/image/i,fileHandler:props=>{let pos="drop"===props.type?props.pos:void 0;return this.fileUploadFileHandler(props.files,props.event,pos)}}]}createNodeViews(){return this.options.enableResizing?(node,view,getPos)=>new ResizableImageView(node,view,getPos):{}}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],ImageExtension.prototype,"insertImage",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.command)()],ImageExtension.prototype,"uploadImage",1),ImageExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.extension)({defaultOptions:{createPlaceholder:function(_,__){let element=document.createElement("div");return element.classList.add(_remirror_theme__WEBPACK_IMPORTED_MODULE_6__.Jl.IMAGE_LOADER),element},updatePlaceholder(){},destroyPlaceholder(){},uploadHandler:function(files){(0,_remirror_core__WEBPACK_IMPORTED_MODULE_5__.kG)(files.length>0,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mA.EXTENSION,message:"The upload handler was applied for the image extension without any valid files"});let completed=0,promises=[];for(let{file,progress}of files)promises.push(()=>new Promise(resolve=>{let reader=new FileReader;reader.addEventListener("load",readerEvent=>{var _a;progress((completed+=1)/files.length),resolve({src:null==(_a=readerEvent.target)?void 0:_a.result,fileName:file.name})},{once:!0}),reader.readAsDataURL(file)}));return promises},enableResizing:!1,preferPastedTextContent:!0}})],ImageExtension)},62546:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return ItalicExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},ItalicExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{get name(){return"italic"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FontStyle,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FormattingMark]}createMarkSpec(extra,override){var _a;return{...override,attrs:extra.defaults(),parseDOM:[{tag:"i",getAttrs:extra.parse},{tag:"em",getAttrs:extra.parse},{style:"font-style=italic"},...null!=(_a=override.parseDOM)?_a:[]],toDOM:mark=>["em",extra.dom(mark),0]}}createKeymap(){return{"Mod-i":(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type})}}createInputRules(){return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Cf)({regexp:/(?:^|[^*])\*([^*]+)\*$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch,start})=>fullMatch.startsWith("*")?{}:{fullMatch:fullMatch.slice(1),start:start+1}}),(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Cf)({regexp:/(?:^|\W)_([^_]+)_$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch,start})=>fullMatch.startsWith("_")?{}:{fullMatch:fullMatch.slice(1),start:start+1}})]}createPasteRules(){return[{type:"mark",markType:this.type,regexp:/(?:^|\W)_([^_]+)_/g},{type:"mark",markType:this.type,regexp:/\*([^*]+)\*/g}]}toggleItalic(selection){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type,selection})}shortcut(props){return this.toggleItalic()(props)}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"italic",label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.wr.LABEL),description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.wr.DESCRIPTION)})],ItalicExtension.prototype,"toggleItalic",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.Italic,command:"toggleItalic"})],ItalicExtension.prototype,"shortcut",1),ItalicExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({})],ItalicExtension)},46606:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y5:function(){return LinkExtension}});var extract_domain__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43264),extract_domain__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(extract_domain__WEBPACK_IMPORTED_MODULE_0__),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62120),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85775),_remirror_pm_history__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8032),_remirror_pm_state__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39451),_remirror_pm_transform__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21692),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),UPDATE_LINK="updateLink",LinkExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{constructor(){super(...arguments),__publicField(this,"_autoLinkRegexNonGlobal")}get name(){return"link"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.Link,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.ExcludeInputRules]}createMarkSpec(extra,override){var _a;let AUTO_ATTRIBUTE="data-link-auto",getTargetObject=target=>{let{defaultTarget,supportedTargets}=this.options,targets=defaultTarget?[...supportedTargets,defaultTarget]:supportedTargets;return target&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.q9)(targets,target)?{target}:void 0};return{inclusive:!1,excludes:"_",...override,attrs:{...extra.defaults(),href:{},target:{default:this.options.defaultTarget},auto:{default:!1}},parseDOM:[{tag:"a[href]",getAttrs:node=>{if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.jd)(node))return!1;let href=node.getAttribute("href"),text=node.textContent,auto=this.options.autoLink&&(node.hasAttribute(AUTO_ATTRIBUTE)||href===text||(null==href?void 0:href.replace(`${this.options.defaultProtocol}//`,""))===text);return{...extra.parse(node),href,auto,...getTargetObject(node.getAttribute("target"))}}},...null!=(_a=override.parseDOM)?_a:[]],toDOM(node){let{auto:_,target:__,...rest}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.Kh)(node.attrs,extra),auto=node.attrs.auto?{[AUTO_ATTRIBUTE]:""}:{},attrs={...extra.dom(node),...rest,rel:"noopener noreferrer nofollow",...auto,...getTargetObject(node.attrs.target)};return["a",attrs,0]}}}onCreate(){let{autoLinkRegex}=this.options;this._autoLinkRegexNonGlobal=RegExp(`^${autoLinkRegex.source}$`,autoLinkRegex.flags.replace("g",""))}shortcut({tr}){let selectedText="",{from,to,empty,$from}=tr.selection,expandedSelection=!1,mark=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.IH)($from,this.type);if(empty){let selectedWord=null!=mark?mark:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.JM)(tr);if(!selectedWord)return!1;({text:selectedText,from,to}=selectedWord),expandedSelection=!0}return from!==to&&(expandedSelection||(selectedText=tr.doc.textBetween(from,to)),this.options.onActivateLink(selectedText),this.options.onShortcut({activeLink:mark?{attrs:mark.mark.attrs,from:mark.from,to:mark.to}:void 0,selectedText,from,to}),!0)}updateLink(attrs,range){return props=>{let{tr}=props,selectionIsValid=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.hT)(tr.selection)&&!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.Ab)(tr.selection)||(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.d7)(tr.selection)||(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.yw)({trState:tr,type:this.type});return(!!selectionIsValid||!!range)&&(tr.setMeta(this.name,{command:UPDATE_LINK,attrs,range}),(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.dy)({type:this.type,attrs,range})(props))}}selectLink(){return this.store.commands.selectMark.original(this.type)}removeLink(range){return props=>{let{tr}=props;return!!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.yw)({trState:tr,type:this.type,...range})&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.P9)({type:this.type,expand:!0,range})(props)}}createPasteRules(){return[{type:"mark",regexp:this.options.autoLinkRegex,markType:this.type,getAttributes:(url,isReplacement)=>({href:this.buildHref((0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.FI)(url)),auto:!isReplacement}),transformMatch:match=>{let url=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.FI)(match);return!!(url&&this.isValidUrl(url))&&url}}]}createEventHandlers(){return{clickMark:(event,clickState)=>{let markRange=clickState.getMark(this.type);if(!markRange)return;let attrs=markRange.mark.attrs,data={...attrs,...markRange};if(this.options.onClick(event,data))return!0;let handled=!1;if(this.options.openLinkOnClick){handled=!0;let href=attrs.href;window.open(href,"_blank")}return this.options.selectTextOnClick&&(handled=!0,this.store.commands.selectText(markRange)),handled}}}createPlugin(){return{props:{handleClick:(view,pos)=>{if(!this.options.selectTextOnClick&&!this.options.openLinkOnClick)return!1;let{doc,tr}=view.state,range=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.IH)(doc.resolve(pos),this.type);if(!range)return!1;if(this.options.openLinkOnClick){let href=range.mark.attrs.href;window.open(href,"_blank")}if(this.options.selectTextOnClick){let $start=doc.resolve(range.from),$end=doc.resolve(range.to),transaction=tr.setSelection(_remirror_pm_state__WEBPACK_IMPORTED_MODULE_5__.Bs.between($start,$end));view.dispatch(transaction)}return!0}},appendTransaction:(transactions,prevState,state)=>{let transactionsWithLinkMeta=transactions.filter(tr2=>!!tr2.getMeta(this.name));if(transactionsWithLinkMeta.forEach(tr2=>{let trMeta=tr2.getMeta(this.name);if(trMeta.command===UPDATE_LINK){let{range,attrs}=trMeta,{selection,doc:doc2}=state,{from,to}=null!=range?range:selection;this.options.onUpdateLink(doc2.textBetween(from,to),{range,selection,doc:doc2,attrs})}}),!this.options.autoLink)return;let isUndo=(0,_remirror_pm_history__WEBPACK_IMPORTED_MODULE_6__.of)(prevState)-(0,_remirror_pm_history__WEBPACK_IMPORTED_MODULE_6__.of)(state)==1;if(isUndo)return;let docChanged=transactions.some(tr2=>tr2.docChanged);if(!docChanged)return;let composedTransaction=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.PZ)(transactions,prevState),changes=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.QC)(composedTransaction,[_remirror_pm_transform__WEBPACK_IMPORTED_MODULE_7__.FC,_remirror_pm_transform__WEBPACK_IMPORTED_MODULE_7__.Pu]),{mapping}=composedTransaction,{tr,doc}=state,{updateLink,removeLink}=this.store.chain(tr);if(changes.forEach(({prevFrom,prevTo,from,to})=>{let onUpdateCallbacks=[],isNodeSeparated=to-from==2,prevMarks=this.getLinkMarksInRange(prevState.doc,prevFrom,prevTo,!0).filter(item=>item.mark.type===this.type).map(({from:from2,to:to2,text})=>({mappedFrom:mapping.map(from2),mappedTo:mapping.map(to2),text,from:from2,to:to2}));prevMarks.forEach(({mappedFrom:newFrom,mappedTo:newTo,from:prevMarkFrom,to:prevMarkTo},i)=>this.getLinkMarksInRange(doc,newFrom,newTo,!0).filter(item=>item.mark.type===this.type).forEach(newMark=>{let prevLinkText=prevState.doc.textBetween(prevMarkFrom,prevMarkTo,void 0," "),newLinkText=doc.textBetween(newMark.from,newMark.to+1,void 0," ").trim(),wasLink=this.isValidUrl(prevLinkText),isLink=this.isValidUrl(newLinkText);!isLink&&(wasLink&&(removeLink({from:newMark.from,to:newMark.to}).tr(),prevMarks.splice(i,1)),isNodeSeparated||from!==to||this.findAutoLinks(newLinkText).map(link=>this.addLinkProperties({...link,from:newFrom+link.start,to:newFrom+link.end})).forEach(({attrs,range,text})=>{updateLink(attrs,range).tr(),onUpdateCallbacks.push({attrs,range,text})}))})),this.findTextBlocksInRange(doc,{from,to}).forEach(({text,positionStart})=>{this.findAutoLinks(text).map(link=>this.addLinkProperties({...link,from:positionStart+link.start+1,to:positionStart+link.end+1})).filter(({range})=>{let fromIsInRange=from>=range.from&&from<=range.to,toIsInRange=to>=range.from&&to<=range.to;return fromIsInRange||toIsInRange||isNodeSeparated}).filter(({range})=>0===this.getLinkMarksInRange(tr.doc,range.from,range.to,!1).length).filter(({range:{from:from2},text:text2})=>!prevMarks.some(({text:prevMarkText,mappedFrom})=>mappedFrom===from2&&prevMarkText===text2)).forEach(({attrs,text:text2,range})=>{updateLink(attrs,range).tr(),onUpdateCallbacks.push({attrs,range,text:text2})})}),window.requestAnimationFrame(()=>{onUpdateCallbacks.forEach(({attrs,range,text})=>{let{doc:doc2,selection}=tr;this.options.onUpdateLink(text,{attrs,doc:doc2,range,selection})})})}),0!==tr.steps.length)return tr}}}buildHref(url){return this.options.extractHref({url,defaultProtocol:this.options.defaultProtocol})}getLinkMarksInRange(doc,from,to,isAutoLink){let linkMarks=[];if(from===to){let $pos=doc.resolve(Math.max(from-1,0)),range=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.IH)($pos,this.type);(null==range?void 0:range.mark.attrs.auto)===isAutoLink&&linkMarks.push(range)}else doc.nodesBetween(from,to,(node,pos)=>{var _a;let marks=null!=(_a=node.marks)?_a:[],linkMark=marks.find(({type,attrs})=>type===this.type&&attrs.auto===isAutoLink);linkMark&&linkMarks.push({from:pos,to:pos+node.nodeSize,mark:linkMark,text:node.textContent})});return linkMarks}findTextBlocksInRange(node,range){let nodesWithPos=[];return node.nodesBetween(range.from,range.to,(node2,pos)=>{node2.isTextblock&&node2.type.allowsMarkType(this.type)&&nodesWithPos.push({node:node2,pos})}),nodesWithPos.map(textBlock=>({text:node.textBetween(textBlock.pos,textBlock.pos+textBlock.node.nodeSize,void 0," "),positionStart:textBlock.pos}))}addLinkProperties({from,to,href,...link}){return{...link,range:{from,to},attrs:{href,auto:!0}}}findAutoLinks(str){if(this.options.findAutoLinks)return this.options.findAutoLinks(str,this.options.defaultProtocol);let toAutoLink=[];for(let match of(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.JD)(str,this.options.autoLinkRegex)){let text=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.FI)(match);if(!text)continue;let href=this.buildHref(text);this.isValidTLD(href)&&toAutoLink.push({text,href,start:match.index,end:match.index+text.length})}return toAutoLink}isValidUrl(text){var _a;return this.options.isValidUrl?this.options.isValidUrl(text,this.options.defaultProtocol):this.isValidTLD(this.buildHref(text))&&!!(null==(_a=this._autoLinkRegexNonGlobal)?void 0:_a.test(text))}isValidTLD(str){let{autoLinkAllowedTLDs}=this.options;if(0===autoLinkAllowedTLDs.length)return!0;let domain=extract_domain__WEBPACK_IMPORTED_MODULE_0___default()(str);if(""===domain)return!0;let tld=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Z$)(domain.split("."));return autoLinkAllowedTLDs.includes(tld)}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.InsertLink})],LinkExtension.prototype,"shortcut",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)()],LinkExtension.prototype,"updateLink",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)()],LinkExtension.prototype,"selectLink",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)()],LinkExtension.prototype,"removeLink",1),LinkExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({defaultOptions:{autoLink:!1,defaultProtocol:"",selectTextOnClick:!1,openLinkOnClick:!1,autoLinkRegex:/(?:(?:(?:https?|ftp):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)*(?:(?:\d(?!\.)|[a-z\u00A1-\uFFFF])(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)+[a-z\u00A1-\uFFFF]{2,}(?::\d{2,5})?(?:[#/?]\S*)?/gi,autoLinkAllowedTLDs:["com","de","net","org","uk","cn","ga","nl","cf","ml","tk","ru","br","gq","xyz","fr","eu","info","co","au","ca","it","in","ch","pl","es","online","us","top","be","jp","biz","se","at","dk","cz","za","me","ir","icu","shop","kr","site","mx","hu","io","cc","club","no","cyou"],findAutoLinks:void 0,isValidUrl:void 0,defaultTarget:null,supportedTargets:[],extractHref:function({url,defaultProtocol}){let startsWithProtocol=/^((?:https?|ftp)?:)\/\//.test(url),isEmail=!startsWithProtocol&&url.includes("@");return isEmail?`mailto:${url}`:startsWithProtocol?url:`${defaultProtocol}//${url}`}},staticKeys:["autoLinkRegex"],handlerKeyOptions:{onClick:{earlyReturnValue:!0}},handlerKeys:["onActivateLink","onShortcut","onUpdateLink","onClick"],defaultPriority:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.xV.Medium})],LinkExtension)},79183:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{UQ:function(){return BulletListExtension},_3:function(){return OrderedListExtension},JQ:function(){return TaskListExtension}});var remirror_core=__webpack_require__(80117),remirror_core_constants=__webpack_require__(9436),remirror_core_helpers=__webpack_require__(62120),remirror_messages=__webpack_require__(35708),dist=__webpack_require__(85734),prosemirror_state_dist=__webpack_require__(39451),remirror_theme=__webpack_require__(12114),remirror_pm=__webpack_require__(67969),remirror_core_utils=__webpack_require__(85775),prosemirror_commands_dist=__webpack_require__(10746),prosemirror_model_dist=__webpack_require__(57981),prosemirror_transform_dist=__webpack_require__(21692),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};function isList(type){var _a;return!!(null==(_a=type.spec.group)?void 0:_a.includes(remirror_core_constants.eX.ListContainerNode))}function isListNode(node){return isList(node.type)}function isListItemNode(node){var _a;return!!(null==(_a=node.type.spec.group)?void 0:_a.includes(remirror_core_constants.eX.ListItemNode))}function toggleList(listType,itemType){return props=>{let{dispatch,tr}=props,state=(0,remirror_pm.Ux)(tr,props.state),{$from,$to}=tr.selection,range=$from.blockRange($to);if(!range)return!1;let parentList=(0,remirror_core_utils.Kk)({predicate:node=>isList(node.type),selection:tr.selection});if(parentList&&range.depth-parentList.depth<=1&&0===range.startIndex){if(parentList.node.type===listType)return liftListItemOutOfList(itemType)(props);if(isList(parentList.node.type))return listType.validContent(parentList.node.content)?(null==dispatch||dispatch(tr.setNodeMarkup(parentList.pos,listType)),!0):!!function(tr,foundList,listType,itemType){let oldList=foundList.node,$start=tr.doc.resolve(foundList.start),listParent=$start.node(-1),indexBefore=$start.index(-1);if(!listParent||!listParent.canReplace(indexBefore,indexBefore+1,prosemirror_model_dist.HY.from(listType.create())))return!1;let newItems=[];for(let index=0;index<oldList.childCount;index++){let oldItem=oldList.child(index);if(!itemType.validContent(oldItem.content))return!1;let newItem=itemType.createChecked(null,oldItem.content);newItems.push(newItem)}let newList=listType.createChecked(null,newItems),start=foundList.pos,end=start+oldList.nodeSize,from=tr.selection.from;return tr.replaceRangeWith(start,end,newList),tr.setSelection(tr.selection.constructor.near(tr.doc.resolve(from))),!0}(tr,parentList,listType,itemType)&&(null==dispatch||dispatch(tr.scrollIntoView()),!0)}return(function(listType,attrs=null){return function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to),doJoin=!1,outerRange=range;if(!range)return!1;if(range.depth>=2&&$from.node(range.depth-1).type.compatibleContent(listType)&&0==range.startIndex){if(0==$from.index(range.depth-1))return!1;let $insert=state.doc.resolve(range.start-2);outerRange=new prosemirror_model_dist.Ts($insert,$insert,range.depth),range.endIndex<range.parent.childCount&&(range=new prosemirror_model_dist.Ts($from,state.doc.resolve($to.end(range.depth)),range.depth)),doJoin=!0}let wrap=(0,prosemirror_transform_dist.nd)(outerRange,listType,attrs,range);return!!wrap&&(dispatch&&dispatch((function(tr,range,wrappers,joinBefore,listType){let content=prosemirror_model_dist.HY.empty;for(let i=wrappers.length-1;i>=0;i--)content=prosemirror_model_dist.HY.from(wrappers[i].type.create(wrappers[i].attrs,content));tr.step(new prosemirror_transform_dist.FC(range.start-(joinBefore?2:0),range.end,range.start,range.end,new prosemirror_model_dist.p2(content,0,0),wrappers.length,!0));let found=0;for(let i1=0;i1<wrappers.length;i1++)wrappers[i1].type==listType&&(found=i1+1);let splitDepth=wrappers.length-found,splitPos=range.start+wrappers.length-(joinBefore?2:0),parent=range.parent;for(let i2=range.startIndex,e=range.endIndex,first=!0;i2<e;i2++,first=!1)!first&&(0,prosemirror_transform_dist.Ax)(tr.doc,splitPos,splitDepth)&&(tr.split(splitPos,splitDepth),splitPos+=2*splitDepth),splitPos+=parent.child(i2).nodeSize;return tr})(state.tr,range,wrap,doJoin,listType).scrollIntoView()),!0)}})(listType)(state,dispatch)}}function remirror_extension_list_splitListItem(listItemTypeOrName,ignoreAttrs=["checked"]){return function({tr,dispatch,state}){var _a,_b;let listItemType=(0,remirror_core_utils.jo)(listItemTypeOrName,state.schema),{$from,$to}=tr.selection;if((0,remirror_core_utils.EG)(tr.selection)&&tr.selection.node.isBlock||$from.depth<2||!$from.sameParent($to))return!1;let grandParent=$from.node(-1);if(grandParent.type!==listItemType)return!1;if(0===$from.parent.content.size&&$from.node(-1).childCount===$from.indexAfter(-1)){if(2===$from.depth||$from.node(-3).type!==listItemType||$from.index(-2)!==$from.node(-2).childCount-1)return!1;if(dispatch){let keepItem=$from.index(-1)>0,wrap=prosemirror_model_dist.HY.empty;for(let depth=$from.depth-(keepItem?1:2);depth>=$from.depth-3;depth--)wrap=prosemirror_model_dist.HY.from($from.node(depth).copy(wrap));let content=(null==(_a=listItemType.contentMatch.defaultType)?void 0:_a.createAndFill())||void 0;wrap=wrap.append(prosemirror_model_dist.HY.from(listItemType.createAndFill(null,content)||void 0));let depthAfter=$from.indexAfter(-1)<$from.node(-2).childCount?1:$from.indexAfter(-2)<$from.node(-3).childCount?2:3;tr.replace($from.before(keepItem?void 0:-1),$from.after(-depthAfter),new prosemirror_model_dist.p2(wrap,keepItem?3:2,2)),tr.setSelection(tr.selection.constructor.near(tr.doc.resolve($from.pos+(keepItem?3:2)))),dispatch(tr.scrollIntoView())}return!0}if(grandParent.attrs.closed&&$from.sameParent($to)&&$to.pos===$to.end()){if(dispatch){let newListItemStartPos=$from.after(-1),content1=(null==(_b=listItemType.contentMatch.defaultType)?void 0:_b.createAndFill())||void 0,newListItem=listItemType.createAndFill(null,content1);newListItem&&(tr.insert(newListItemStartPos,newListItem),tr.setSelection(prosemirror_state_dist.Bs.near(tr.doc.resolve(newListItemStartPos+1)))),tr.delete($from.pos,$to.pos),dispatch(tr.scrollIntoView())}return!0}let listItemAttributes=Object.fromEntries(Object.entries(grandParent.attrs).filter(([attr])=>!ignoreAttrs.includes(attr))),contentType=$to.pos===$from.end()?grandParent.contentMatchAt(0).defaultType:null,contentAttributes={...$from.node().attrs};return tr.delete($from.pos,$to.pos),!!(0,prosemirror_transform_dist.Ax)(tr.doc,$from.pos,2)&&(dispatch&&dispatch(tr.split($from.pos,2,contentType?[{type:listItemType,attrs:listItemAttributes},{type:contentType,attrs:contentAttributes}]:[{type:listItemType,attrs:listItemAttributes}]).scrollIntoView()),!0)}}function wrapSelectedItems({listType,itemType,tr}){let range=calculateItemRange(tr.selection);if(!range)return!1;let atStart=0===range.startIndex,{from,to}=tr.selection;return!!function({listType,itemType,tr,range}){var _a;let oldList=range.parent,slice=tr.doc.slice(range.start,range.end);if(oldList.type===listType&&(null==(_a=slice.content.firstChild)?void 0:_a.type)===itemType)return!1;let newItems=[];for(let i=0;i<slice.content.childCount;i++){let oldItem=slice.content.child(i);if(!itemType.validContent(oldItem.content))return!1;let newItem=itemType.createChecked(null,oldItem.content);newItems.push(newItem)}let newList=listType.createChecked(null,newItems);return tr.replaceRange(range.start,range.end,new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(newList),0,0)),!0}({listType,itemType,tr,range})&&(tr.setSelection(prosemirror_state_dist.Bs.between(tr.doc.resolve(atStart?from:from+2),tr.doc.resolve(atStart?to:to+2))),tr.scrollIntoView(),!0)}function maybeJoinList(tr,$pos){let index,parent,before,after;let $from=$pos||tr.selection.$from,joinable=[];for(let depth=$from.depth;depth>=0;depth--){if(parent=$from.node(depth),index=$from.index(depth),before=parent.maybeChild(index-1),after=parent.maybeChild(index),before&&after&&before.type.name===after.type.name&&isListNode(before)){let pos=$from.before(depth+1);joinable.push(pos)}if(index=$from.indexAfter(depth),before=parent.maybeChild(index-1),after=parent.maybeChild(index),before&&after&&before.type.name===after.type.name&&isListNode(before)){let pos1=$from.after(depth+1);joinable.push(pos1)}}joinable=[...new Set(joinable)].sort((a,b)=>b-a);let updated=!1;for(let pos2 of joinable)(0,prosemirror_transform_dist.Mn)(tr.doc,pos2)&&(tr.join(pos2),updated=!0);return updated}function liftListItemOutOfList(itemType){return props=>{let{dispatch,tr}=props,state=(0,remirror_pm.Ux)(tr,props.state),range=function(itemType,selection){let{$from,$to}=selection,range=$from.blockRange($to,node=>{var _a;return(null==(_a=node.firstChild)?void 0:_a.type)===itemType});return range}(itemType,tr.selection);return!!range&&(!dispatch||(!function(state,dispatch,range){let tr=state.tr,list=range.parent,originMappingLength=tr.mapping.maps.length;for(let pos=range.end,i=range.endIndex-1,e=range.startIndex;i>e;i--)pos-=list.child(i).nodeSize,tr.delete(pos-1,pos+1);let $start=tr.doc.resolve(range.start),item=$start.nodeAfter;if(!item||tr.mapping.slice(originMappingLength).map(range.end)!==range.start+item.nodeSize)return;let atStart=0===range.startIndex,atEnd=range.endIndex===list.childCount,parent=$start.node(-1),indexBefore=$start.index(-1);if(!parent.canReplace(indexBefore+(atStart?0:1),indexBefore+1,item.content.append(atEnd?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list))))return;let start=$start.pos,end=start+item.nodeSize;tr.step(new prosemirror_transform_dist.FC(start-(atStart?1:0),end+(atEnd?1:0),start+1,end-1,new prosemirror_model_dist.p2((atStart?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list.copy(prosemirror_model_dist.HY.empty))).append(atEnd?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list.copy(prosemirror_model_dist.HY.empty))),atStart?0:1,atEnd?0:1),atStart?0:1)),dispatch(tr.scrollIntoView())}(state,dispatch,range),!0))}}function calculateItemRange(selection){let{$from,$to}=selection;return $from.blockRange($to,isListNode)}function listBackspace({view}){if(!view)return!1;{let $cursor=view.state.selection.$cursor;if(!$cursor||$cursor.parentOffset>0)return!1;let range=$cursor.blockRange();if(!range||!isListItemNode(range.parent)||0!==range.startIndex)return!1}{let tr=view.state.tr;(function(tr){let $cursor=tr.selection.$from,range=$cursor.blockRange();if(!range||!isListItemNode(range.parent)||0!==range.startIndex)return!1;let root=$cursor.node(range.depth-2),itemIndex=$cursor.index(range.depth),listIndex=$cursor.index(range.depth-1),rootIndex=$cursor.index(range.depth-2),previousList=root.maybeChild(rootIndex-1),previousListItem=null==previousList?void 0:previousList.lastChild;if(0!==itemIndex||0!==listIndex)return!1;if(previousList&&isListNode(previousList)&&previousListItem&&isListItemNode(previousListItem))return wrapSelectedItems({listType:previousList.type,itemType:previousListItem.type,tr});if(isListItemNode(root)){let parentList=$cursor.node(range.depth-3);if(isListNode(parentList))return wrapSelectedItems({listType:parentList.type,itemType:root.type,tr})}return!1})(tr)&&view.dispatch(tr)}{let $cursor1=view.state.selection.$cursor;if(!$cursor1||$cursor1.parentOffset>0)return!1;let range1=$cursor1.blockRange();if(!range1||!isListItemNode(range1.parent)||0!==range1.startIndex)return!1;let itemIndex=$cursor1.index(range1.depth),listIndex=$cursor1.index(range1.depth-1),rootIndex=$cursor1.index(range1.depth-2),isNestedList=range1.depth-2>=1&&isListItemNode($cursor1.node(range1.depth-2));if(0===itemIndex&&0===listIndex&&rootIndex<=1&&isNestedList){var itemType;(itemType=range1.parent.type,function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to,node=>node.childCount>0&&node.firstChild.type==itemType);return!!range&&(!dispatch||($from.node(range.depth-1).type==itemType?function(state,dispatch,itemType,range){let tr=state.tr,end=range.end,endOfList=range.$to.end(range.depth);end<endOfList&&(tr.step(new prosemirror_transform_dist.FC(end-1,endOfList,end,endOfList,new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(itemType.create(null,range.parent.copy())),1,0),1,!0)),range=new prosemirror_model_dist.Ts(tr.doc.resolve(range.$from.pos),tr.doc.resolve(endOfList),range.depth));let target=(0,prosemirror_transform_dist.k9)(range);if(null==target)return!1;tr.lift(range,target);let after=tr.mapping.map(end,-1)-1;return(0,prosemirror_transform_dist.Mn)(tr.doc,after)&&tr.join(after),dispatch(tr.scrollIntoView()),!0}(state,dispatch,itemType,range):function(state,dispatch,range){let tr=state.tr,list=range.parent;for(let pos=range.end,i=range.endIndex-1,e=range.startIndex;i>e;i--)pos-=list.child(i).nodeSize,tr.delete(pos-1,pos+1);let $start=tr.doc.resolve(range.start),item=$start.nodeAfter;if(tr.mapping.map(range.end)!=range.start+$start.nodeAfter.nodeSize)return!1;let atStart=0==range.startIndex,atEnd=range.endIndex==list.childCount,parent=$start.node(-1),indexBefore=$start.index(-1);if(!parent.canReplace(indexBefore+(atStart?0:1),indexBefore+1,item.content.append(atEnd?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list))))return!1;let start=$start.pos,end=start+item.nodeSize;return tr.step(new prosemirror_transform_dist.FC(start-(atStart?1:0),end+(atEnd?1:0),start+1,end-1,new prosemirror_model_dist.p2((atStart?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list.copy(prosemirror_model_dist.HY.empty))).append(atEnd?prosemirror_model_dist.HY.empty:prosemirror_model_dist.HY.from(list.copy(prosemirror_model_dist.HY.empty))),atStart?0:1,atEnd?0:1),atStart?0:1)),dispatch(tr.scrollIntoView()),!0}(state,dispatch,range)))})(view.state,view.dispatch)}}return(0,prosemirror_commands_dist.al)(view.state,view.dispatch,view),!0}function createCustomMarkListItemNodeView({node,mark,updateDOM,updateMark}){let markContainer=document.createElement("label");markContainer.contentEditable="false",markContainer.classList.add(remirror_theme.MQ.LIST_ITEM_MARKER_CONTAINER),markContainer.append(mark);let contentDOM=document.createElement("div"),dom=document.createElement("li");dom.classList.add(remirror_theme.MQ.LIST_ITEM_WITH_CUSTOM_MARKER),dom.append(markContainer),dom.append(contentDOM);let update=newNode=>newNode.type===node.type&&(updateDOM(node=newNode,dom),updateMark(node,mark),!0);return update(node),{dom,contentDOM,update}}var dedentListCommand=({tr,dispatch})=>!!function(tr){let range=calculateItemRange(tr.selection);if(!range)return!1;let findParentItemResult=function($from,range){let parentItem=$from.node(range.depth-1),parentList=$from.node(range.depth-2);return!!(isListItemNode(parentItem)&&isListNode(parentList))&&{parentItem,parentList}}(tr.selection.$from,range);if(!findParentItemResult)return!1;let{parentItem,parentList}=findParentItemResult;range=function(tr,range){let selectedList=range.parent,lastSelectedItem=range.parent.child(range.endIndex-1),endOfRange=range.end,endOfSelectedList=range.$to.end(range.depth);return endOfRange<endOfSelectedList?(tr.step(new prosemirror_transform_dist.FC(endOfRange-1,endOfSelectedList,endOfRange,endOfSelectedList,new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(lastSelectedItem.type.create(null,selectedList.copy())),1,0),1,!0)),new prosemirror_model_dist.Ts(tr.doc.resolve(range.$from.pos),tr.doc.resolve(endOfSelectedList),range.depth)):range}(tr,range),range=function(tr,range){let selectedList=range.parent,lastSelectedItem=range.parent.child(range.endIndex-1),endOfSelectedList=range.end,endOfParentListItem=range.$to.end(range.depth-1);return endOfSelectedList+1<endOfParentListItem?(tr.step(new prosemirror_transform_dist.FC(endOfSelectedList-1,endOfParentListItem,endOfSelectedList+1,endOfParentListItem,new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(selectedList.type.create(null,lastSelectedItem.type.create(null))),2,0),0,!0)),new prosemirror_model_dist.Ts(tr.selection.$from,tr.selection.$to,range.depth)):range}(tr,range),range=function(tr,range,parentList,parentItem){let wrapped=wrapSelectedItems({listType:parentList.type,itemType:parentItem.type,tr});return wrapped?new prosemirror_model_dist.Ts(tr.selection.$from,tr.selection.$to,range.depth):range}(tr,range,parentList,parentItem);let target=(0,prosemirror_transform_dist.k9)(range);return"number"!=typeof target||(tr.lift(range,target),(range=calculateItemRange(tr.selection))&&maybeJoinList(tr,tr.doc.resolve(range.end-2)),!0)}(tr)&&(null==dispatch||dispatch(tr.scrollIntoView()),!0),indentListCommand=({tr,dispatch})=>!!function(tr){let{$from,$to}=tr.selection,range=calculateItemRange(tr.selection);if(!range)return!1;let selectedList=tr.doc.resolve(range.start).node();if(!isListNode(selectedList))return!1;let findPreviousItemResult=function(selectedList,$from,range){let previousItem,previousList,previousItemStart,previousListStart;let doc=$from.doc;if(range.startIndex>=1){previousItem=selectedList.child(range.startIndex-1),previousList=selectedList,previousItemStart=(previousListStart=doc.resolve(range.start).start(range.depth))+1;for(let i=0;i<range.startIndex-1;i++)previousItemStart+=previousList.child(i).nodeSize}else{let listIndex=$from.index(range.depth-1);if(!(listIndex>=1))return!1;{let listParent=$from.node(range.depth-1),listParentStart=$from.start(range.depth-1);if(!isListNode(previousList=listParent.child(listIndex-1)))return!1;previousListStart=listParentStart+1;for(let i1=0;i1<listIndex-1;i1++)previousListStart+=listParent.child(i1).nodeSize;if(previousItem=previousList.child(previousList.childCount-1),previousItemStart=previousListStart+previousList.nodeSize-previousItem.nodeSize-1,!isListItemNode(previousItem))return!1}}return{previousItem,previousList,previousItemStart,previousListStart}}(selectedList,$from,range);if(!findPreviousItemResult)return!1;let{previousItem,previousList,previousItemStart}=findPreviousItemResult,{selectedSlice,unselectedSlice}=function(doc,$to,range){let selectedSlice,unselectedSlice;let start=range.start,mid=$to.depth>=range.depth+2?$to.end(range.depth+2):range.end-1,end=range.end;return mid+1>=end?(selectedSlice=doc.slice(start,end),unselectedSlice=null):(selectedSlice=doc.slice(start,mid),unselectedSlice=doc.slice(mid+1,end-1)),{selectedSlice,unselectedSlice}}(tr.doc,$to,range),newPreviousItemContent=previousItem.content.append(prosemirror_model_dist.HY.fromArray([selectedList.copy(selectedSlice.content)])).append(unselectedSlice?unselectedSlice.content:prosemirror_model_dist.HY.empty);tr.deleteRange(range.start,range.end);let previousItemEnd=previousItemStart+previousItem.nodeSize-2,newPreviousItem=previousItem.copy(newPreviousItemContent);return newPreviousItem.check(),tr.replaceRangeWith(previousItemStart-1,previousItemEnd+1,newPreviousItem),tr.setSelection(previousList===selectedList?prosemirror_state_dist.Bs.between(tr.doc.resolve($from.pos),tr.doc.resolve($to.pos)):prosemirror_state_dist.Bs.between(tr.doc.resolve($from.pos-2),tr.doc.resolve($to.pos-2))),!0}(tr)&&(null==dispatch||dispatch(tr.scrollIntoView()),!0),ListItemSharedExtension=class extends remirror_core.PlainExtension{get name(){return"listItemShared"}createKeymap(){let pcKeymap={Tab:indentListCommand,"Shift-Tab":dedentListCommand,Backspace:listBackspace,"Mod-Backspace":listBackspace};if(remirror_core_utils.NZ.isMac){let macKeymap={"Ctrl-h":pcKeymap.Backspace,"Alt-Backspace":pcKeymap["Mod-Backspace"]};return{...pcKeymap,...macKeymap}}return pcKeymap}createPlugin(){return{appendTransaction(_transactions,_oldState,newState){let tr=newState.tr,updated=maybeJoinList(tr);return updated?tr:null}}}},ListItemExtension=class extends remirror_core.NodeExtension{get name(){return"listItem"}createTags(){return[remirror_core_constants.eX.ListItemNode]}createNodeSpec(extra,override){var _a;return{content:"paragraph block*",defining:!0,draggable:!1,...override,attrs:{...extra.defaults(),closed:{default:!1},nested:{default:!1}},parseDOM:[{tag:"li",getAttrs:extra.parse,priority:remirror_core_constants.xV.Lowest},...null!=(_a=override.parseDOM)?_a:[]],toDOM(node){let attrs=extra.dom(node);return["li",attrs,0]}}}createNodeViews(){return this.options.enableCollapsible?(node,view,getPos)=>{let mark=document.createElement("div");return mark.classList.add(remirror_theme.MQ.COLLAPSIBLE_LIST_ITEM_BUTTON),mark.contentEditable="false",mark.addEventListener("click",()=>{if(mark.classList.contains("disabled"))return;let pos=getPos(),selection=prosemirror_state_dist.qv.create(view.state.doc,pos);return view.dispatch(view.state.tr.setSelection(selection)),this.store.commands.toggleListItemClosed(),!0}),createCustomMarkListItemNodeView({mark,node,updateDOM:updateNodeViewDOM,updateMark:updateNodeViewMark})}:{}}createKeymap(){return{Enter:remirror_extension_list_splitListItem(this.type)}}createExtensions(){return[new ListItemSharedExtension]}toggleListItemClosed(closed){return({state:{tr,selection},dispatch})=>{if(!(0,remirror_core_utils.EG)(selection)||selection.node.type.name!==this.name)return!1;let{node,from}=selection;return closed=(0,remirror_core_helpers.jn)(closed)?closed:!node.attrs.closed,null==dispatch||dispatch(tr.setNodeMarkup(from,void 0,{...node.attrs,closed})),!0}}liftListItemOutOfList(listItemType){return liftListItemOutOfList(null!=listItemType?listItemType:this.type)}};function updateNodeViewDOM(node,dom){node.attrs.closed?dom.classList.add(remirror_theme.MQ.COLLAPSIBLE_LIST_ITEM_CLOSED):dom.classList.remove(remirror_theme.MQ.COLLAPSIBLE_LIST_ITEM_CLOSED)}function updateNodeViewMark(node,mark){node.childCount<=1?mark.classList.add("disabled"):mark.classList.remove("disabled")}__decorateClass([(0,remirror_core.command)()],ListItemExtension.prototype,"toggleListItemClosed",1),__decorateClass([(0,remirror_core.command)()],ListItemExtension.prototype,"liftListItemOutOfList",1),ListItemExtension=__decorateClass([(0,remirror_core.extension)({defaultOptions:{enableCollapsible:!1},staticKeys:["enableCollapsible"]})],ListItemExtension);var BulletListExtension=class extends remirror_core.NodeExtension{get name(){return"bulletList"}createTags(){return[remirror_core_constants.eX.Block,remirror_core_constants.eX.ListContainerNode]}createNodeSpec(extra,override){var _a;return{content:"listItem+",...override,attrs:extra.defaults(),parseDOM:[{tag:"ul",getAttrs:extra.parse},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["ul",extra.dom(node),0]}}createNodeViews(){return this.options.enableSpine?(_,view,getPos)=>{var _a;let dom=document.createElement("div");dom.style.position="relative";let pos=getPos(),$pos=view.state.doc.resolve(pos+1),parentListItemNode=$pos.node($pos.depth-1),isFirstLevel=(null==(_a=null==parentListItemNode?void 0:parentListItemNode.type)?void 0:_a.name)!=="listItem";if(!isFirstLevel){let spine=document.createElement("div");spine.contentEditable="false",spine.classList.add(remirror_theme.MQ.LIST_SPINE),spine.addEventListener("click",event=>{let pos2=getPos(),$pos2=view.state.doc.resolve(pos2+1),parentListItemPos=$pos2.start($pos2.depth-1),selection=prosemirror_state_dist.qv.create(view.state.doc,parentListItemPos-1);view.dispatch(view.state.tr.setSelection(selection)),this.store.commands.toggleListItemClosed(),event.preventDefault(),event.stopPropagation()}),dom.append(spine)}let contentDOM=document.createElement("ul");return contentDOM.classList.add(remirror_theme.MQ.UL_LIST_CONTENT),dom.append(contentDOM),{dom,contentDOM}}:{}}createExtensions(){return[new ListItemExtension({priority:remirror_core_constants.xV.Low,enableCollapsible:this.options.enableSpine})]}toggleBulletList(){return toggleList(this.type,(0,remirror_core_helpers.fp)(this.store.schema.nodes,"listItem"))}listShortcut(props){return this.toggleBulletList()(props)}createInputRules(){let regexp=/^\s*([*+-])\s$/;return[(0,dist.S0)(regexp,this.type),new dist.VK(regexp,(state,_match,start,end)=>{let tr=state.tr;tr.deleteRange(start,end);let canUpdate=wrapSelectedItems({listType:this.type,itemType:(0,remirror_core_helpers.fp)(this.store.schema.nodes,"listItem"),tr});return canUpdate?tr:null})]}};__decorateClass([(0,remirror_core.command)({icon:"listUnordered",label:({t})=>t(remirror_messages.it.BULLET_LIST_LABEL)})],BulletListExtension.prototype,"toggleBulletList",1),__decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.BulletList,command:"toggleBulletList"})],BulletListExtension.prototype,"listShortcut",1),BulletListExtension=__decorateClass([(0,remirror_core.extension)({defaultOptions:{enableSpine:!1},staticKeys:["enableSpine"]})],BulletListExtension);var OrderedListExtension=class extends remirror_core.NodeExtension{get name(){return"orderedList"}createTags(){return[remirror_core_constants.eX.Block,remirror_core_constants.eX.ListContainerNode]}createNodeSpec(extra,override){var _a;return{content:"listItem+",...override,attrs:{...extra.defaults(),order:{default:1}},parseDOM:[{tag:"ol",getAttrs(node){var _a2;return(0,remirror_core_utils.jd)(node)?{...extra.parse(node),order:+(null!=(_a2=node.getAttribute("start"))?_a2:1)}:{}}},...null!=(_a=override.parseDOM)?_a:[]],toDOM(node){let extraAttributes=extra.dom(node);return 1===node.attrs.order?["ol",extraAttributes,0]:["ol",{...extraAttributes,start:node.attrs.order},0]}}}createExtensions(){return[new ListItemExtension({priority:remirror_core_constants.xV.Low})]}toggleOrderedList(){return toggleList(this.type,(0,remirror_core_helpers.fp)(this.store.schema.nodes,"listItem"))}listShortcut(props){return this.toggleOrderedList()(props)}createInputRules(){let regexp=/^(\d+)\.\s$/;return[(0,dist.S0)(regexp,this.type,match=>({order:+(0,remirror_core_helpers.fp)(match,1)}),(match,node)=>node.childCount+node.attrs.order===+(0,remirror_core_helpers.fp)(match,1)),new dist.VK(regexp,(state,match,start,end)=>{let tr=state.tr;tr.deleteRange(start,end);let canUpdate=wrapSelectedItems({listType:this.type,itemType:(0,remirror_core_helpers.fp)(this.store.schema.nodes,"listItem"),tr});if(!canUpdate)return null;let order=+(0,remirror_core_helpers.fp)(match,1);if(1!==order){let found=(0,remirror_core_utils.Tr)({selection:tr.selection,types:this.type});found&&tr.setNodeMarkup(found.pos,void 0,{order})}return tr})]}};__decorateClass([(0,remirror_core.command)({icon:"listOrdered",label:({t})=>t(remirror_messages.it.ORDERED_LIST_LABEL)})],OrderedListExtension.prototype,"toggleOrderedList",1),__decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.OrderedList,command:"toggleOrderedList"})],OrderedListExtension.prototype,"listShortcut",1),OrderedListExtension=__decorateClass([(0,remirror_core.extension)({})],OrderedListExtension);var TaskListItemExtension=class extends remirror_core.NodeExtension{get name(){return"taskListItem"}createTags(){return[remirror_core_constants.eX.ListItemNode]}createNodeSpec(extra,override){var _a;return{content:"paragraph block*",defining:!0,draggable:!1,...override,attrs:{...extra.defaults(),checked:{default:!1}},parseDOM:[{tag:"li[data-task-list-item]",getAttrs(node){let checked=!1;return(0,remirror_core_utils.jd)(node)&&null!==node.getAttribute("data-checked")&&(checked=!0),{checked,...extra.parse(node)}},priority:remirror_core_constants.xV.Medium},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["li",{...extra.dom(node),"data-task-list-item":"","data-checked":node.attrs.checked?"":void 0},0]}}createNodeViews(){return(node,view,getPos)=>{let mark=document.createElement("input");return mark.type="checkbox",mark.classList.add(remirror_theme.MQ.LIST_ITEM_CHECKBOX),mark.contentEditable="false",mark.addEventListener("click",e=>{view.editable||e.preventDefault()}),mark.addEventListener("change",()=>{let pos=getPos(),$pos=view.state.doc.resolve(pos+1);this.store.commands.toggleCheckboxChecked({$pos})}),mark.checked=node.attrs.checked,createCustomMarkListItemNodeView({node,mark,updateDOM:updateNodeViewDOM2,updateMark:updateNodeViewMark2})}}createKeymap(){return{Enter:remirror_extension_list_splitListItem(this.type)}}createExtensions(){return[new ListItemSharedExtension]}toggleCheckboxChecked(props){let checked,$pos;return"boolean"==typeof props?checked=props:props&&(checked=props.checked,$pos=props.$pos),({tr,dispatch})=>{let found=(0,remirror_core_utils.Tr)({selection:null!=$pos?$pos:tr.selection.$from,types:this.type});if(!found)return!1;let{node,pos}=found,attrs={...node.attrs,checked:null!=checked?checked:!node.attrs.checked};return null==dispatch||dispatch(tr.setNodeMarkup(pos,void 0,attrs)),!0}}createInputRules(){let regexp=/^\s*(\[( ?|x|X)]\s)$/;return[(0,dist.S0)(regexp,this.type,match=>({checked:["x","X"].includes((0,remirror_core_utils.FI)(match,2))})),new dist.VK(regexp,(state,match,start,end)=>{let tr=state.tr;tr.deleteRange(start,end);let canUpdate=wrapSelectedItems({listType:(0,remirror_core_helpers.fp)(this.store.schema.nodes,"taskList"),itemType:this.type,tr});if(!canUpdate)return null;let checked=["x","X"].includes((0,remirror_core_utils.FI)(match,2));if(checked){let found=(0,remirror_core_utils.Tr)({selection:tr.selection,types:this.type});found&&tr.setNodeMarkup(found.pos,void 0,{checked})}return tr})]}};function updateNodeViewDOM2(node,dom){node.attrs.checked?dom.setAttribute("data-checked",""):dom.removeAttribute("data-checked"),dom.setAttribute("data-task-list-item","")}function updateNodeViewMark2(node,mark){mark.checked=!!node.attrs.checked}__decorateClass([(0,remirror_core.command)()],TaskListItemExtension.prototype,"toggleCheckboxChecked",1);var TaskListExtension=class extends remirror_core.NodeExtension{get name(){return"taskList"}createTags(){return[remirror_core_constants.eX.Block,remirror_core_constants.eX.ListContainerNode]}createNodeSpec(extra,override){var _a;return{content:"taskListItem+",...override,attrs:extra.defaults(),parseDOM:[{tag:"ul[data-task-list]",getAttrs:extra.parse,priority:remirror_core_constants.xV.Medium},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["ul",{...extra.dom(node),"data-task-list":""},0]}}createExtensions(){return[new TaskListItemExtension({})]}toggleTaskList(){return toggleList(this.type,(0,remirror_core_helpers.fp)(this.store.schema.nodes,"taskListItem"))}listShortcut(props){return this.toggleTaskList()(props)}};__decorateClass([(0,remirror_core.command)({icon:"checkboxMultipleLine",label:({t})=>t(remirror_messages.it.TASK_LIST_LABEL)})],TaskListExtension.prototype,"toggleTaskList",1),__decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.TaskList,command:"toggleTaskList"})],TaskListExtension.prototype,"listShortcut",1)},97054:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return MentionAtomExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(90404),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62120),_remirror_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86883),_remirror_core__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_remirror_core__WEBPACK_IMPORTED_MODULE_5__),_remirror_pm_suggest__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75430),_remirror_theme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12114),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},MentionAtomExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_0__.NodeExtension{get name(){return"mentionAtom"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.InlineNode,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.eX.Behavior]}createNodeSpec(extra,override){var _a;let dataAttributeId="data-mention-atom-id",dataAttributeName="data-mention-atom-name";return{inline:!0,marks:"",selectable:this.options.selectable,draggable:this.options.draggable,atom:!0,...override,attrs:{...extra.defaults(),id:{},label:{},name:{}},parseDOM:[...this.options.matchers.map(matcher=>{var _a2;return{tag:`${null!=(_a2=matcher.mentionTag)?_a2:this.options.mentionTag}[${dataAttributeId}]`,getAttrs(node){if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.jd)(node))return!1;let id=node.getAttribute(dataAttributeId),name=node.getAttribute(dataAttributeName),label=node.textContent;return{...extra.parse(node),id,label,name}}}}),...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>{var _a2,_b;let{label,id,name}=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.Kh)(node.attrs,extra),matcher=this.options.matchers.find(matcher2=>matcher2.name===name),mentionClassName=matcher&&null!=(_a2=matcher.mentionClassName)?_a2:DEFAULT_MATCHER.mentionClassName,attrs={...extra.dom(node),class:name?`${mentionClassName} ${mentionClassName}-${(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.GL)(name)}`:mentionClassName,[dataAttributeId]:id,[dataAttributeName]:name};return[null!=(_b=null==matcher?void 0:matcher.mentionTag)?_b:this.options.mentionTag,attrs,label]}}}createMentionAtom(details,attrs){var fallback;let{name,range}=details,validNameExists=this.options.matchers.some(matcher=>name===matcher.name);(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.kG)(validNameExists,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_1__.mA.EXTENSION,message:`Invalid name '${name}' provided when creating a mention. Please ensure you only use names that were configured on the matchers when creating the \`MentionAtomExtension\`.`});let{appendText,...rest}=attrs;return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.lp)({type:this.type,appendText:(fallback=this.options.appendText,(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.HD)(appendText)?appendText:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.HD)(fallback)?fallback:DEFAULT_MATCHER.appendText),attrs:{name,...rest},range})}createEventHandlers(){return{click:(event,clickState)=>{if(!clickState.direct)return;let nodeWithPosition=clickState.getNode(this.type);if(nodeWithPosition)return this.options.onClick(event,nodeWithPosition)}}}createSuggesters(){let options=_remirror_core__WEBPACK_IMPORTED_MODULE_5___default()(this.options,["invalidMarks","invalidNodes","isValidPosition","validMarks","validNodes","suggestTag","disableDecorations","appendText"]);return this.options.matchers.map(matcher=>({...DEFAULT_MATCHER,...options,...matcher,onChange:props=>{let{name,range}=props,{createMentionAtom}=this.store.commands;this.options.onChange(props,function(attrs){createMentionAtom({name,range},attrs)})}}))}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.command)()],MentionAtomExtension.prototype,"createMentionAtom",1),MentionAtomExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.extension)({defaultOptions:{selectable:!0,draggable:!1,mentionTag:"span",matchers:[],appendText:" ",suggestTag:"span",disableDecorations:!1,invalidMarks:[],invalidNodes:[],isValidPosition:()=>!0,validMarks:null,validNodes:null},handlerKeyOptions:{onClick:{earlyReturnValue:!0}},handlerKeys:["onChange","onClick"],staticKeys:["selectable","draggable","mentionTag","matchers"]})],MentionAtomExtension);var DEFAULT_MATCHER={..._remirror_core__WEBPACK_IMPORTED_MODULE_5___default()(_remirror_pm_suggest__WEBPACK_IMPORTED_MODULE_6__.ZF,["startOfLine","supportedCharacters","validPrefixCharacters","invalidPrefixCharacters"]),appendText:"",matchOffset:1,suggestClassName:_remirror_theme__WEBPACK_IMPORTED_MODULE_7__.T4.SUGGEST_ATOM,mentionClassName:_remirror_theme__WEBPACK_IMPORTED_MODULE_7__.T4.MENTION_ATOM}},46669:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return PlaceholderExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85775),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_pm_view__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3401),_remirror_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12114),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,PlaceholderExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_0__.PlainExtension{get name(){return"placeholder"}createAttributes(){return{"aria-placeholder":this.options.placeholder}}createPlugin(){return{state:{init:(_,state)=>({...this.options,empty:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.$q)(state.doc,{ignoreAttributes:!0})}),apply:(tr,pluginState,_,state)=>(function(props){let{pluginState,extension:extension2,tr,state}=props;return tr.docChanged?{...extension2.options,empty:(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.$q)(state.doc)}:pluginState})({pluginState,tr,extension:this,state})},props:{decorations:state=>(function(props){let{extension:extension2,state}=props,{empty}=extension2.pluginKey.getState(state),{emptyNodeClass,placeholder}=extension2.options;if(!empty)return null;let decorations=[];return state.doc.descendants((node,pos)=>{let decoration=_remirror_pm_view__WEBPACK_IMPORTED_MODULE_4__.p.node(pos,pos+node.nodeSize,{class:emptyNodeClass,"data-placeholder":placeholder});decorations.push(decoration)}),_remirror_pm_view__WEBPACK_IMPORTED_MODULE_4__.EH.create(state.doc,decorations)})({state,extension:this})}}}onSetOptions(props){let{changes}=props;changes.placeholder.changed&&this.store.phase>=_remirror_core__WEBPACK_IMPORTED_MODULE_2__.RC.EditorView&&this.store.updateAttributes()}};PlaceholderExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result})([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_0__.extension)({defaultOptions:{emptyNodeClass:_remirror_theme__WEBPACK_IMPORTED_MODULE_3__._x.IS_EMPTY,placeholder:""}})],PlaceholderExtension)},45916:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$7:function(){return getPositioner},Cp:function(){return createMarkPositioner},Xf:function(){return hasStateChanged},kl:function(){return isPositionVisible},oI:function(){return defaultAbsolutePosition},sX:function(){return Positioner},xv:function(){return PositionerExtension}});var _handler,_active,_props,_ids,_updated,_constructorProps,_getActive,_getID,_getPosition,_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),nanoevents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(73577),_remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62120),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(43352),_remirror_pm_view__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3401),_remirror_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12114),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),_Positioner=class{constructor(props){var _a;__publicField(this,"events"),__privateAdd(this,_handler,(0,nanoevents__WEBPACK_IMPORTED_MODULE_0__.i)()),__privateAdd(this,_active,[]),__privateAdd(this,_props,new Map),__privateAdd(this,_ids,[]),__privateAdd(this,_updated,!1),__publicField(this,"recentUpdate"),__privateAdd(this,_constructorProps,void 0),__privateAdd(this,_getActive,void 0),__privateAdd(this,_getID,void 0),__privateAdd(this,_getPosition,void 0),__publicField(this,"hasChanged"),__publicField(this,"addListener",(event,cb)=>__privateGet(this,_handler).on(event,cb)),__privateSet(this,_constructorProps,props),__privateSet(this,_getActive,props.getActive),__privateSet(this,_getPosition,props.getPosition),__privateSet(this,_getID,props.getID),this.hasChanged=props.hasChanged,this.events=null!=(_a=props.events)?_a:["state","scroll"]}static create(props){return new _Positioner(props)}static fromPositioner(positioner,base){return _Positioner.create({...positioner.basePositioner,...base})}get basePositioner(){return{getActive:__privateGet(this,_getActive),getPosition:__privateGet(this,_getPosition),hasChanged:this.hasChanged,events:this.events,getID:__privateGet(this,_getID)}}onActiveChanged(props){this.recentUpdate=props;let active=__privateGet(this,_getActive).call(this,props);__privateSet(this,_active,active),__privateSet(this,_props,new Map),__privateSet(this,_updated,!1),__privateSet(this,_ids,[]);let elementSetters=[];for(let[index,data]of active.entries()){let id=this.getID(data,index);__privateGet(this,_ids).push(id),elementSetters.push({setElement:element=>this.addProps({...props,data,element},index),id,data})}__privateGet(this,_handler).emit("update",elementSetters)}getID(data,index){var _a,_b;return null!=(_b=null==(_a=__privateGet(this,_getID))?void 0:_a.call(this,data,index))?_b:index.toString()}addProps(props,index){if(__privateGet(this,_updated)||(__privateGet(this,_props).set(index,props),__privateGet(this,_props).size<__privateGet(this,_active).length))return;let doneProps=[];for(let index2 of __privateGet(this,_active).keys()){let item=__privateGet(this,_props).get(index2);(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.kG)(item,{code:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.mA.INTERNAL,message:"Something went wrong when retrieving the parameters"});let id=__privateGet(this,_ids)[index2];if(!id)return;doneProps.push({position:__privateGet(this,_getPosition).call(this,item),element:item.element,id})}__privateGet(this,_handler).emit("done",doneProps)}clone(props){return _Positioner.create({...__privateGet(this,_constructorProps),...(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.mf)(props)?props(__privateGet(this,_constructorProps)):props})}active(isActive){let filterFunction=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.mf)(isActive)?isActive:()=>isActive;return this.clone(original=>({getActive:props=>original.getActive(props).filter(filterFunction)}))}},Positioner=_Positioner;function hasStateChanged(props){let{tr,state,previousState}=props;return!!(!previousState||tr&&function(tr,key=POSITIONER_UPDATE_ALL){var _a;let{key:trKey}=null!=(_a=null==tr?void 0:tr.getMeta(POSITIONER_UPDATE_KEY))?_a:{};return trKey===key}(tr))||(tr?(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.yZ)(tr):!state.doc.eq(previousState.doc)||!state.selection.eq(previousState.selection))}function isPositionVisible(rect,element,options={}){let elementRect=element.getBoundingClientRect(),{accountForPadding=!1}=options,leftDelta=0,rightDelta=0,topDelta=0,bottomDelta=0;if((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(element)&&accountForPadding){let paddingLeft=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"padding-left").replace("px","")),paddingRight=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"padding-right").replace("px","")),paddingTop=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"padding-top").replace("px","")),paddingBottom=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"padding-bottom").replace("px","")),borderLeft=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"border-left").replace("px","")),borderRight=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"border-right").replace("px","")),borderTop=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"border-top").replace("px","")),borderBottom=Number.parseFloat((0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.C2)(element,"border-bottom").replace("px","")),verticalScrollBarWidth=element.offsetWidth-element.clientWidth,horizontalScrollBarHeight=element.offsetHeight-element.clientHeight;leftDelta+=paddingLeft+borderLeft+("rtl"===element.dir?verticalScrollBarWidth:0),rightDelta+=paddingRight+borderRight+("rtl"===element.dir?0:verticalScrollBarWidth),topDelta+=paddingTop+borderTop,bottomDelta+=paddingBottom+borderBottom+horizontalScrollBarHeight}let containerRect=new DOMRect(elementRect.left+leftDelta,elementRect.top+topDelta,elementRect.width-rightDelta,elementRect.height-bottomDelta);for(let[top,left]of[[rect.top,rect.left],[rect.top,rect.right],[rect.bottom,rect.left],[rect.bottom,rect.right]])if((0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.uh)(top,containerRect.top,containerRect.bottom)&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.uh)(left,containerRect.left,containerRect.right))return!0;return!1}_handler=new WeakMap,_active=new WeakMap,_props=new WeakMap,_ids=new WeakMap,_updated=new WeakMap,_constructorProps=new WeakMap,_getActive=new WeakMap,_getID=new WeakMap,_getPosition=new WeakMap,__publicField(Positioner,"EMPTY",[]);var POSITIONER_UPDATE_KEY="positionerUpdate",POSITIONER_UPDATE_ALL="__all_positioners__",basePosition={y:-999999,x:-999999,width:0,height:0},baseRect={...basePosition,left:-999999,top:-999999,bottom:-999999,right:-999999},defaultAbsolutePosition={...basePosition,rect:{...baseRect,toJSON:()=>baseRect},visible:!1},blockNodePositioner=Positioner.create({hasChanged:hasStateChanged,getActive(props){let{state}=props;if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Ab)(state)||state.selection.$anchor.depth>2)return Positioner.EMPTY;let parentNode=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Kk)({predicate:node=>node.type.isBlock,selection:state});return parentNode?[parentNode]:Positioner.EMPTY},getPosition(props){let{view,data}=props,node=view.nodeDOM(data.pos);if(!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.jd)(node))return defaultAbsolutePosition;let rect=node.getBoundingClientRect(),editorRect=view.dom.getBoundingClientRect(),height=rect.height,width=rect.width,left=view.dom.scrollLeft+rect.left-editorRect.left,top=view.dom.scrollTop+rect.top-editorRect.top,visible=isPositionVisible(rect,view.dom);return{y:top,x:left,height,width,rect,visible}}}),emptyBlockNodePositioner=blockNodePositioner.clone(({getActive})=>({getActive(props){let[parentNode]=getActive(props);return parentNode&&(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.mp)(parentNode.node)&&parentNode.node.type===(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.JN)(props.state.schema)?[parentNode]:Positioner.EMPTY}})),emptyBlockNodeStartPositioner=emptyBlockNodePositioner.clone(({getPosition})=>({getPosition:props=>({...getPosition(props),width:1})})),emptyBlockNodeEndPositioner=emptyBlockNodePositioner.clone(({getPosition})=>({getPosition(props){let{width,x:left,y:top,height}=getPosition(props);return{...getPosition(props),width:1,x:width+left,rect:new DOMRect(width+left,top,1,height)}}}));function createSelectionPositioner(isActive){return Positioner.create({hasChanged:hasStateChanged,getActive(props){let{state,view}=props;if(!isActive(state)||!(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.hT)(state.selection))return Positioner.EMPTY;try{let{head,anchor}=state.selection;return[{from:view.coordsAtPos(anchor),to:view.coordsAtPos(head)}]}catch{return Positioner.EMPTY}},getPosition(props){var _a;let{element,data,view}=props,{from,to}=data,parent=null!=(_a=element.offsetParent)?_a:view.dom,parentRect=parent.getBoundingClientRect(),height=Math.abs(to.bottom-from.top),spansMultipleLines=height>from.bottom-from.top,leftmost=Math.min(from.left,to.left),topmost=Math.min(from.top,to.top),left=parent.scrollLeft+(spansMultipleLines?to.left-parentRect.left:leftmost-parentRect.left),top=parent.scrollTop+topmost-parentRect.top,width=spansMultipleLines?1:Math.abs(from.left-to.right),rect=new DOMRect(spansMultipleLines?to.left:leftmost,topmost,width,height),visible=isPositionVisible(rect,view.dom);return{rect,y:top,x:left,height,width,visible}}})}var selectionPositioner=createSelectionPositioner(state=>!state.selection.empty),cursorPositioner=createSelectionPositioner(state=>state.selection.empty),alwaysPositioner=createSelectionPositioner(()=>!0),nearestWordPositioner=selectionPositioner.clone(()=>({getActive(props){let{state,view}=props;if(!state.selection.empty)return Positioner.EMPTY;let word=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.JM)(state);if(!word)return Positioner.EMPTY;try{return[{from:view.coordsAtPos(word.from),to:view.coordsAtPos(word.to)}]}catch{return Positioner.EMPTY}}}));function createMarkPositioner(props){let{type,all=!1,onlyVisible=!1}=props;return Positioner.create({hasChanged:hasStateChanged,getActive(props2){let{state,view}=props2,selection=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.b0)(all?"all":state.selection,state.doc);try{let ranges=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.x4)(selection,type).map(range=>{let{from,to}=range,cursor={from:view.coordsAtPos(from),to:view.coordsAtPos(to)},visible=isPositionVisible(getCursorRect(cursor.from),view.dom)||isPositionVisible(getCursorRect(cursor.to),view.dom);return{...range,visible,cursor}});return onlyVisible?ranges.filter(range=>range.visible):ranges}catch{return Positioner.EMPTY}},getPosition(props2){var _a;let{element,data,view}=props2,{cursor,visible}=data,{from,to}=cursor,parent=null!=(_a=element.offsetParent)?_a:view.dom,parentRect=parent.getBoundingClientRect(),height=Math.abs(to.bottom-from.top),spansMultipleLines=height>from.bottom-from.top,leftmost=Math.min(from.left,to.left),topmost=Math.min(from.top,to.top),left=parent.scrollLeft+(spansMultipleLines?to.left-parentRect.left:leftmost-parentRect.left),top=parent.scrollTop+topmost-parentRect.top,width=spansMultipleLines?1:Math.abs(from.left-to.right),rect=new DOMRect(spansMultipleLines?to.left:leftmost,topmost,width,height);return{rect,y:top,x:left,height,width,visible}}})}function getCursorRect(coords){return new DOMRect(coords.left,coords.top,1,coords.top-coords.bottom)}var positioners={selection:selectionPositioner,cursor:cursorPositioner,always:alwaysPositioner,block:blockNodePositioner,emptyBlock:emptyBlockNodePositioner,emptyBlockStart:emptyBlockNodeStartPositioner,emptyBlockEnd:emptyBlockNodeEndPositioner,nearestWord:nearestWordPositioner},PositionerExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_4__.PlainExtension{constructor(){super(...arguments),__publicField(this,"positioners",[]),__publicField(this,"element"),__publicField(this,"onAddCustomHandler",({positioner})=>{if(positioner)return this.positioners=[...this.positioners,positioner],this.store.commands.forceUpdate(),()=>{this.positioners=this.positioners.filter(handler=>handler!==positioner)}})}get name(){return"positioner"}createAttributes(){return{class:_remirror_theme__WEBPACK_IMPORTED_MODULE_5__.bu.EDITOR}}init(){this.onScroll=(0,_remirror_core__WEBPACK_IMPORTED_MODULE_6__.D)(this.options.scrollDebounce,this.onScroll.bind(this))}createEventHandlers(){return{scroll:()=>(this.onScroll(),!1),hover:(_,hover)=>(this.positioner(this.getBaseProps("hover",{hover})),!1),contextmenu:(_,contextmenu)=>(this.positioner(this.getBaseProps("contextmenu",{contextmenu})),!1)}}onStateUpdate(update){this.positioner({...update,previousState:update.firstUpdate?void 0:update.previousState,event:"state",helpers:this.store.helpers})}createDecorations(state){if(null!=this.element||(this.element=this.createElement()),!this.element.hasChildNodes())return _remirror_pm_view__WEBPACK_IMPORTED_MODULE_7__.EH.empty;let decoration=_remirror_pm_view__WEBPACK_IMPORTED_MODULE_7__.p.widget(0,this.element,{key:"positioner-widget",side:-1,stopEvent:()=>!0});return _remirror_pm_view__WEBPACK_IMPORTED_MODULE_7__.EH.create(state.doc,[decoration])}forceUpdatePositioners(key=POSITIONER_UPDATE_ALL){return({tr,dispatch})=>(null==dispatch||dispatch(tr.setMeta(POSITIONER_UPDATE_KEY,{key})),!0)}getPositionerWidget(){var _a;return null!=(_a=this.element)?_a:this.element=this.createElement()}createElement(){let element=document.createElement("span");return element.dataset.id="remirror-positioner-widget",element.setAttribute("role","presentation"),element}triggerPositioner(positioner,update){positioner.hasChanged(update)&&positioner.onActiveChanged({...update,view:this.store.view})}positioner(update){for(let positioner of this.positioners){let eventIsNotSupported=!positioner.events.includes(update.event);eventIsNotSupported||this.triggerPositioner(positioner,update)}}getBaseProps(event,extra){let state=this.store.getState(),previousState=this.store.previousState;return{helpers:this.store.helpers,event,firstUpdate:!1,previousState,state,...extra}}onScroll(){this.positioner(this.getBaseProps("scroll",{scroll:{scrollTop:this.store.view.dom.scrollTop}}))}};function getPositioner(positioner){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.HD)(positioner)?positioners[positioner].clone():(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.mf)(positioner)?positioner().clone():positioner.clone()}__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.command)()],PositionerExtension.prototype,"forceUpdatePositioners",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.helper)()],PositionerExtension.prototype,"getPositionerWidget",1),PositionerExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_4__.extension)({defaultOptions:{scrollDebounce:100},customHandlerKeys:["positioner"],staticKeys:["scrollDebounce"]})],PositionerExtension)},83184:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{V:function(){return StrikeExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85775),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},StrikeExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{get name(){return"strike"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FontStyle,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FormattingMark]}createMarkSpec(extra,override){var _a;return{...override,attrs:extra.defaults(),parseDOM:[{tag:"s",getAttrs:extra.parse},{tag:"del",getAttrs:extra.parse},{tag:"strike",getAttrs:extra.parse},{style:"text-decoration",getAttrs:node=>"line-through"===node&&{}},...null!=(_a=override.parseDOM)?_a:[]],toDOM:mark=>["s",extra.dom(mark),0]}}toggleStrike(){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type})}shortcut(props){return this.toggleStrike()(props)}createInputRules(){return[(0,_remirror_core__WEBPACK_IMPORTED_MODULE_3__.Cf)({regexp:/~([^~]+)~$/,type:this.type,ignoreWhitespace:!0})]}createPasteRules(){return[{regexp:/~([^~]+)~/g,type:"mark",markType:this.type}]}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"strikethrough",label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.Mo.LABEL),description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.Mo.DESCRIPTION)})],StrikeExtension.prototype,"toggleStrike",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.Strike,command:"toggleStrike"})],StrikeExtension.prototype,"shortcut",1),StrikeExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({})],StrikeExtension)},18868:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{vI:function(){return TableExtension}});var readFromCache,addToCache,remirror_core=__webpack_require__(80117),remirror_core_constants=__webpack_require__(9436),remirror_core_utils=__webpack_require__(85775),remirror_pm=__webpack_require__(67969),dist=__webpack_require__(39451),prosemirror_model_dist=__webpack_require__(57981),prosemirror_view_dist=__webpack_require__(3401),prosemirror_keymap_dist=__webpack_require__(86271),prosemirror_transform_dist=__webpack_require__(21692);if("undefined"!=typeof WeakMap){let cache=new WeakMap;readFromCache=key=>cache.get(key),addToCache=(key,value)=>(cache.set(key,value),value)}else{let cache1=[],cachePos=0;readFromCache=key=>{for(let i=0;i<cache1.length;i+=2)if(cache1[i]==key)return cache1[i+1]},addToCache=(key,value)=>(10==cachePos&&(cachePos=0),cache1[cachePos++]=key,cache1[cachePos++]=value)}var TableMap=class{constructor(width,height,map,problems){this.width=width,this.height=height,this.map=map,this.problems=problems}findCell(pos){for(let i=0;i<this.map.length;i++){let curPos=this.map[i];if(curPos!=pos)continue;let left=i%this.width,top=i/this.width|0,right=left+1,bottom=top+1;for(let j=1;right<this.width&&this.map[i+j]==curPos;j++)right++;for(let j1=1;bottom<this.height&&this.map[i+this.width*j1]==curPos;j1++)bottom++;return{left,top,right,bottom}}throw RangeError(`No cell with offset ${pos} found`)}colCount(pos){for(let i=0;i<this.map.length;i++)if(this.map[i]==pos)return i%this.width;throw RangeError(`No cell with offset ${pos} found`)}nextCell(pos,axis,dir){let{left,right,top,bottom}=this.findCell(pos);return"horiz"==axis?(dir<0?0==left:right==this.width)?null:this.map[top*this.width+(dir<0?left-1:right)]:(dir<0?0==top:bottom==this.height)?null:this.map[left+this.width*(dir<0?top-1:bottom)]}rectBetween(a,b){let{left:leftA,right:rightA,top:topA,bottom:bottomA}=this.findCell(a),{left:leftB,right:rightB,top:topB,bottom:bottomB}=this.findCell(b);return{left:Math.min(leftA,leftB),top:Math.min(topA,topB),right:Math.max(rightA,rightB),bottom:Math.max(bottomA,bottomB)}}cellsInRect(rect){let result=[],seen={};for(let row=rect.top;row<rect.bottom;row++)for(let col=rect.left;col<rect.right;col++){let index=row*this.width+col,pos=this.map[index];if(!seen[pos]){if(seen[pos]=!0,col==rect.left&&col&&this.map[index-1]==pos||row==rect.top&&row&&this.map[index-this.width]==pos)continue;result.push(pos)}}return result}positionAt(row,col,table){for(let i=0,rowStart=0;;i++){let rowEnd=rowStart+table.child(i).nodeSize;if(i==row){let index=col+row*this.width,rowEndIndex=(row+1)*this.width;for(;index<rowEndIndex&&this.map[index]<rowStart;)index++;return index==rowEndIndex?rowEnd-1:this.map[index]}rowStart=rowEnd}}static get(table){return readFromCache(table)||addToCache(table,function(table){if("table"!=table.type.spec.tableRole)throw RangeError("Not a table node: "+table.type.name);let width=function(table){let width=-1,hasRowSpan=!1;for(let row=0;row<table.childCount;row++){let rowNode=table.child(row),rowWidth=0;if(hasRowSpan)for(let j=0;j<row;j++){let prevRow=table.child(j);for(let i=0;i<prevRow.childCount;i++){let cell=prevRow.child(i);j+cell.attrs.rowspan>row&&(rowWidth+=cell.attrs.colspan)}}for(let i1=0;i1<rowNode.childCount;i1++){let cell1=rowNode.child(i1);rowWidth+=cell1.attrs.colspan,cell1.attrs.rowspan>1&&(hasRowSpan=!0)}-1==width?width=rowWidth:width!=rowWidth&&(width=Math.max(width,rowWidth))}return width}(table),height=table.childCount,map=[],mapPos=0,problems=null,colWidths=[];for(let i=0,e=width*height;i<e;i++)map[i]=0;for(let row=0,pos=0;row<height;row++){let rowNode=table.child(row);pos++;for(let i1=0;;i1++){for(;mapPos<map.length&&0!=map[mapPos];)mapPos++;if(i1==rowNode.childCount)break;let cellNode=rowNode.child(i1),{colspan,rowspan,colwidth}=cellNode.attrs;for(let h=0;h<rowspan;h++){if(h+row>=height){(problems||(problems=[])).push({type:"overlong_rowspan",pos,n:rowspan-h});break}let start=mapPos+h*width;for(let w=0;w<colspan;w++){0==map[start+w]?map[start+w]=pos:(problems||(problems=[])).push({type:"collision",row,pos,n:colspan-w});let colW=colwidth&&colwidth[w];if(colW){let widthIndex=(start+w)%width*2,prev=colWidths[widthIndex];null==prev||prev!=colW&&1==colWidths[widthIndex+1]?(colWidths[widthIndex]=colW,colWidths[widthIndex+1]=1):prev==colW&&colWidths[widthIndex+1]++}}}mapPos+=colspan,pos+=cellNode.nodeSize}let expectedPos=(row+1)*width,missing=0;for(;mapPos<expectedPos;)0==map[mapPos++]&&missing++;missing&&(problems||(problems=[])).push({type:"missing",row,n:missing}),pos++}let tableMap=new TableMap(width,height,map,problems),badWidths=!1;for(let i2=0;!badWidths&&i2<colWidths.length;i2+=2)null!=colWidths[i2]&&colWidths[i2+1]<height&&(badWidths=!0);return badWidths&&function(map,colWidths,table){map.problems||(map.problems=[]);let seen={};for(let i=0;i<map.map.length;i++){let pos=map.map[i];if(seen[pos])continue;seen[pos]=!0;let node=table.nodeAt(pos);if(!node)throw RangeError(`No cell with offset ${pos} found`);let updated=null,attrs=node.attrs;for(let j=0;j<attrs.colspan;j++){let col=(i+j)%map.width,colWidth=colWidths[2*col];null==colWidth||attrs.colwidth&&attrs.colwidth[j]==colWidth||((updated||(updated=function(attrs){if(attrs.colwidth)return attrs.colwidth.slice();let result=[];for(let i=0;i<attrs.colspan;i++)result.push(0);return result}(attrs)))[j]=colWidth)}updated&&map.problems.unshift({type:"colwidth mismatch",pos,colwidth:updated})}}(tableMap,colWidths,table),tableMap}(table))}};function tableNodeTypes(schema){let result=schema.cached.tableNodeTypes;if(!result)for(let name in result=schema.cached.tableNodeTypes={},schema.nodes){let type=schema.nodes[name],role=type.spec.tableRole;role&&(result[role]=type)}return result}var tableEditingKey=new dist.H$("selectingCells");function cellAround($pos){for(let d=$pos.depth-1;d>0;d--)if("row"==$pos.node(d).type.spec.tableRole)return $pos.node(0).resolve($pos.before(d+1));return null}function isInTable(state){let $head=state.selection.$head;for(let d=$head.depth;d>0;d--)if("row"==$head.node(d).type.spec.tableRole)return!0;return!1}function selectionCell(state){let sel=state.selection;if("$anchorCell"in sel&&sel.$anchorCell)return sel.$anchorCell.pos>sel.$headCell.pos?sel.$anchorCell:sel.$headCell;if("node"in sel&&sel.node&&"cell"==sel.node.type.spec.tableRole)return sel.$anchor;let $cell=cellAround(sel.$head)||function($pos){for(let after=$pos.nodeAfter,pos=$pos.pos;after;after=after.firstChild,pos++){let role=after.type.spec.tableRole;if("cell"==role||"header_cell"==role)return $pos.doc.resolve(pos)}for(let before=$pos.nodeBefore,pos1=$pos.pos;before;before=before.lastChild,pos1--){let role1=before.type.spec.tableRole;if("cell"==role1||"header_cell"==role1)return $pos.doc.resolve(pos1-before.nodeSize)}}(sel.$head);if($cell)return $cell;throw RangeError(`No cell found around position ${sel.head}`)}function pointsAtCell($pos){return"row"==$pos.parent.type.spec.tableRole&&!!$pos.nodeAfter}function inSameTable($cellA,$cellB){return $cellA.depth==$cellB.depth&&$cellA.pos>=$cellB.start(-1)&&$cellA.pos<=$cellB.end(-1)}function nextCell($pos,axis,dir){let table=$pos.node(-1),map=TableMap.get(table),tableStart=$pos.start(-1),moved=map.nextCell($pos.pos-tableStart,axis,dir);return null==moved?null:$pos.node(0).resolve(tableStart+moved)}function removeColSpan(attrs,pos,n=1){let result={...attrs,colspan:attrs.colspan-n};return result.colwidth&&(result.colwidth=result.colwidth.slice(),result.colwidth.splice(pos,n),result.colwidth.some(w=>w>0)||(result.colwidth=null)),result}function addColSpan(attrs,pos,n=1){let result={...attrs,colspan:attrs.colspan+n};if(result.colwidth){result.colwidth=result.colwidth.slice();for(let i=0;i<n;i++)result.colwidth.splice(pos,0,0)}return result}var CellSelection=class extends dist.Y1{constructor($anchorCell,$headCell=$anchorCell){let table=$anchorCell.node(-1),map=TableMap.get(table),tableStart=$anchorCell.start(-1),rect=map.rectBetween($anchorCell.pos-tableStart,$headCell.pos-tableStart),doc=$anchorCell.node(0),cells=map.cellsInRect(rect).filter(p=>p!=$headCell.pos-tableStart);cells.unshift($headCell.pos-tableStart);let ranges=cells.map(pos=>{let cell=table.nodeAt(pos);if(!cell)throw RangeError(`No cell with offset ${pos} found`);let from=tableStart+pos+1;return new dist.xm(doc.resolve(from),doc.resolve(from+cell.content.size))});super(ranges[0].$from,ranges[0].$to,ranges),this.$anchorCell=$anchorCell,this.$headCell=$headCell}map(doc,mapping){let $anchorCell=doc.resolve(mapping.map(this.$anchorCell.pos)),$headCell=doc.resolve(mapping.map(this.$headCell.pos));if(pointsAtCell($anchorCell)&&pointsAtCell($headCell)&&inSameTable($anchorCell,$headCell)){let tableChanged=this.$anchorCell.node(-1)!=$anchorCell.node(-1);return tableChanged&&this.isRowSelection()?CellSelection.rowSelection($anchorCell,$headCell):tableChanged&&this.isColSelection()?CellSelection.colSelection($anchorCell,$headCell):new CellSelection($anchorCell,$headCell)}return dist.Bs.between($anchorCell,$headCell)}content(){let table=this.$anchorCell.node(-1),map=TableMap.get(table),tableStart=this.$anchorCell.start(-1),rect=map.rectBetween(this.$anchorCell.pos-tableStart,this.$headCell.pos-tableStart),seen={},rows=[];for(let row=rect.top;row<rect.bottom;row++){let rowContent=[];for(let index=row*map.width+rect.left,col=rect.left;col<rect.right;col++,index++){let pos=map.map[index];if(seen[pos])continue;seen[pos]=!0;let cellRect=map.findCell(pos),cell=table.nodeAt(pos);if(!cell)throw RangeError(`No cell with offset ${pos} found`);let extraLeft=rect.left-cellRect.left,extraRight=cellRect.right-rect.right;if(extraLeft>0||extraRight>0){let attrs=cell.attrs;if(extraLeft>0&&(attrs=removeColSpan(attrs,0,extraLeft)),extraRight>0&&(attrs=removeColSpan(attrs,attrs.colspan-extraRight,extraRight)),cellRect.left<rect.left){if(!(cell=cell.type.createAndFill(attrs)))throw RangeError(`Could not create cell with attrs ${JSON.stringify(attrs)}`)}else cell=cell.type.create(attrs,cell.content)}if(cellRect.top<rect.top||cellRect.bottom>rect.bottom){let attrs1={...cell.attrs,rowspan:Math.min(cellRect.bottom,rect.bottom)-Math.max(cellRect.top,rect.top)};cell=cellRect.top<rect.top?cell.type.createAndFill(attrs1):cell.type.create(attrs1,cell.content)}rowContent.push(cell)}rows.push(table.child(row).copy(prosemirror_model_dist.HY.from(rowContent)))}let fragment=this.isColSelection()&&this.isRowSelection()?table:rows;return new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(fragment),1,1)}replace(tr,content=prosemirror_model_dist.p2.empty){let mapFrom=tr.steps.length,ranges=this.ranges;for(let i=0;i<ranges.length;i++){let{$from,$to}=ranges[i],mapping=tr.mapping.slice(mapFrom);tr.replace(mapping.map($from.pos),mapping.map($to.pos),i?prosemirror_model_dist.p2.empty:content)}let sel=dist.Y1.findFrom(tr.doc.resolve(tr.mapping.slice(mapFrom).map(this.to)),-1);sel&&tr.setSelection(sel)}replaceWith(tr,node){this.replace(tr,new prosemirror_model_dist.p2(prosemirror_model_dist.HY.from(node),0,0))}forEachCell(f){let table=this.$anchorCell.node(-1),map=TableMap.get(table),tableStart=this.$anchorCell.start(-1),cells=map.cellsInRect(map.rectBetween(this.$anchorCell.pos-tableStart,this.$headCell.pos-tableStart));for(let i=0;i<cells.length;i++)f(table.nodeAt(cells[i]),tableStart+cells[i])}isColSelection(){let anchorTop=this.$anchorCell.index(-1),headTop=this.$headCell.index(-1);if(Math.min(anchorTop,headTop)>0)return!1;let anchorBottom=anchorTop+this.$anchorCell.nodeAfter.attrs.rowspan,headBottom=headTop+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(anchorBottom,headBottom)==this.$headCell.node(-1).childCount}static colSelection($anchorCell,$headCell=$anchorCell){let table=$anchorCell.node(-1),map=TableMap.get(table),tableStart=$anchorCell.start(-1),anchorRect=map.findCell($anchorCell.pos-tableStart),headRect=map.findCell($headCell.pos-tableStart),doc=$anchorCell.node(0);return anchorRect.top<=headRect.top?(anchorRect.top>0&&($anchorCell=doc.resolve(tableStart+map.map[anchorRect.left])),headRect.bottom<map.height&&($headCell=doc.resolve(tableStart+map.map[map.width*(map.height-1)+headRect.right-1]))):(headRect.top>0&&($headCell=doc.resolve(tableStart+map.map[headRect.left])),anchorRect.bottom<map.height&&($anchorCell=doc.resolve(tableStart+map.map[map.width*(map.height-1)+anchorRect.right-1]))),new CellSelection($anchorCell,$headCell)}isRowSelection(){let table=this.$anchorCell.node(-1),map=TableMap.get(table),tableStart=this.$anchorCell.start(-1),anchorLeft=map.colCount(this.$anchorCell.pos-tableStart),headLeft=map.colCount(this.$headCell.pos-tableStart);if(Math.min(anchorLeft,headLeft)>0)return!1;let anchorRight=anchorLeft+this.$anchorCell.nodeAfter.attrs.colspan,headRight=headLeft+this.$headCell.nodeAfter.attrs.colspan;return Math.max(anchorRight,headRight)==map.width}eq(other){return other instanceof CellSelection&&other.$anchorCell.pos==this.$anchorCell.pos&&other.$headCell.pos==this.$headCell.pos}static rowSelection($anchorCell,$headCell=$anchorCell){let table=$anchorCell.node(-1),map=TableMap.get(table),tableStart=$anchorCell.start(-1),anchorRect=map.findCell($anchorCell.pos-tableStart),headRect=map.findCell($headCell.pos-tableStart),doc=$anchorCell.node(0);return anchorRect.left<=headRect.left?(anchorRect.left>0&&($anchorCell=doc.resolve(tableStart+map.map[anchorRect.top*map.width])),headRect.right<map.width&&($headCell=doc.resolve(tableStart+map.map[map.width*(headRect.top+1)-1]))):(headRect.left>0&&($headCell=doc.resolve(tableStart+map.map[headRect.top*map.width])),anchorRect.right<map.width&&($anchorCell=doc.resolve(tableStart+map.map[map.width*(anchorRect.top+1)-1]))),new CellSelection($anchorCell,$headCell)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(doc,json){return new CellSelection(doc.resolve(json.anchor),doc.resolve(json.head))}static create(doc,anchorCell,headCell=anchorCell){return new CellSelection(doc.resolve(anchorCell),doc.resolve(headCell))}getBookmark(){return new CellBookmark(this.$anchorCell.pos,this.$headCell.pos)}};CellSelection.prototype.visible=!1,dist.Y1.jsonID("cell",CellSelection);var CellBookmark=class{constructor(anchor,head){this.anchor=anchor,this.head=head}map(mapping){return new CellBookmark(mapping.map(this.anchor),mapping.map(this.head))}resolve(doc){let $anchorCell=doc.resolve(this.anchor),$headCell=doc.resolve(this.head);return"row"==$anchorCell.parent.type.spec.tableRole&&"row"==$headCell.parent.type.spec.tableRole&&$anchorCell.index()<$anchorCell.parent.childCount&&$headCell.index()<$headCell.parent.childCount&&inSameTable($anchorCell,$headCell)?new CellSelection($anchorCell,$headCell):dist.Y1.near($headCell,1)}};function drawCellSelection(state){if(!(state.selection instanceof CellSelection))return null;let cells=[];return state.selection.forEachCell((node,pos)=>{cells.push(prosemirror_view_dist.p.node(pos,pos+node.nodeSize,{class:"selectedCell"}))}),prosemirror_view_dist.EH.create(state.doc,cells)}var fixTablesKey=new dist.H$("fix-tables");function fixTables(state,oldState){let tr;let check=(node,pos)=>{"table"==node.type.spec.tableRole&&(tr=function(state,table,tablePos,tr){let first,last;let map=TableMap.get(table);if(!map.problems)return tr;tr||(tr=state.tr);let mustAdd=[];for(let i=0;i<map.height;i++)mustAdd.push(0);for(let i1=0;i1<map.problems.length;i1++){let prob=map.problems[i1];if("collision"==prob.type){let cell=table.nodeAt(prob.pos);if(!cell)continue;let attrs=cell.attrs;for(let j=0;j<attrs.rowspan;j++)mustAdd[prob.row+j]+=prob.n;tr.setNodeMarkup(tr.mapping.map(tablePos+1+prob.pos),null,removeColSpan(attrs,attrs.colspan-prob.n,prob.n))}else if("missing"==prob.type)mustAdd[prob.row]+=prob.n;else if("overlong_rowspan"==prob.type){let cell1=table.nodeAt(prob.pos);if(!cell1)continue;tr.setNodeMarkup(tr.mapping.map(tablePos+1+prob.pos),null,{...cell1.attrs,rowspan:cell1.attrs.rowspan-prob.n})}else if("colwidth mismatch"==prob.type){let cell2=table.nodeAt(prob.pos);if(!cell2)continue;tr.setNodeMarkup(tr.mapping.map(tablePos+1+prob.pos),null,{...cell2.attrs,colwidth:prob.colwidth})}}for(let i2=0;i2<mustAdd.length;i2++)mustAdd[i2]&&(null==first&&(first=i2),last=i2);for(let i3=0,pos=tablePos+1;i3<map.height;i3++){let row=table.child(i3),end=pos+row.nodeSize,add=mustAdd[i3];if(add>0){let role="cell";row.firstChild&&(role=row.firstChild.type.spec.tableRole);let nodes=[];for(let j1=0;j1<add;j1++){let node=tableNodeTypes(state.schema)[role].createAndFill();node&&nodes.push(node)}let side=(0==i3||first==i3-1)&&last==i3?pos+1:end-1;tr.insert(tr.mapping.map(side),nodes)}pos=end}return tr.setMeta(fixTablesKey,{fixTables:!0})}(state,node,pos,tr))};return oldState?oldState.doc!=state.doc&&function changedDescendants(old,cur,offset,f){let oldSize=old.childCount,curSize=cur.childCount;outer:for(let i=0,j=0;i<curSize;i++){let child=cur.child(i);for(let scan=j,e=Math.min(oldSize,i+3);scan<e;scan++)if(old.child(scan)==child){j=scan+1,offset+=child.nodeSize;continue outer}f(child,offset),j<oldSize&&old.child(j).sameMarkup(child)?changedDescendants(old.child(j),child,offset+1,f):child.nodesBetween(0,child.content.size,f,offset+1),offset+=child.nodeSize}}(oldState.doc,state.doc,0,check):state.doc.descendants(check),tr}function fitSlice(nodeType,slice){let node=nodeType.createAndFill(),tr=new prosemirror_transform_dist.wx(node).replace(0,node.content.size,slice);return tr.doc}function isolateHorizontal(tr,map,table,start,left,right,top,mapFrom){if(0==top||top==map.height)return!1;let found=!1;for(let col=left;col<right;col++){let index=top*map.width+col,pos=map.map[index];if(map.map[index-map.width]==pos){found=!0;let cell=table.nodeAt(pos),{top:cellTop,left:cellLeft}=map.findCell(pos);tr.setNodeMarkup(tr.mapping.slice(mapFrom).map(pos+start),null,{...cell.attrs,rowspan:top-cellTop}),tr.insert(tr.mapping.slice(mapFrom).map(map.positionAt(top,cellLeft,table)),cell.type.createAndFill({...cell.attrs,rowspan:cellTop+cell.attrs.rowspan-top})),col+=cell.attrs.colspan-1}}return found}function isolateVertical(tr,map,table,start,top,bottom,left,mapFrom){if(0==left||left==map.width)return!1;let found=!1;for(let row=top;row<bottom;row++){let index=row*map.width+left,pos=map.map[index];if(map.map[index-1]==pos){found=!0;let cell=table.nodeAt(pos),cellLeft=map.colCount(pos),updatePos=tr.mapping.slice(mapFrom).map(pos+start);tr.setNodeMarkup(updatePos,null,removeColSpan(cell.attrs,left-cellLeft,cell.attrs.colspan-(left-cellLeft))),tr.insert(updatePos+cell.nodeSize,cell.type.createAndFill(removeColSpan(cell.attrs,0,left-cellLeft))),row+=cell.attrs.rowspan-1}}return found}function insertCells(state,dispatch,tableStart,rect,cells){let table=tableStart?state.doc.nodeAt(tableStart-1):state.doc;if(!table)throw Error("No table found");let map=TableMap.get(table),{top,left}=rect,right=left+cells.width,bottom=top+cells.height,tr=state.tr,mapFrom=0;function recomp(){if(!(table=tableStart?tr.doc.nodeAt(tableStart-1):tr.doc))throw Error("No table found");map=TableMap.get(table),mapFrom=tr.mapping.maps.length}(function(tr,map,table,start,width,height,mapFrom){let empty,emptyHead;let schema=tr.doc.type.schema,types=tableNodeTypes(schema);if(width>map.width)for(let row=0,rowEnd=0;row<map.height;row++){let add;let rowNode=table.child(row);rowEnd+=rowNode.nodeSize;let cells=[];add=null==rowNode.lastChild||rowNode.lastChild.type==types.cell?empty||(empty=types.cell.createAndFill()):emptyHead||(emptyHead=types.header_cell.createAndFill());for(let i=map.width;i<width;i++)cells.push(add);tr.insert(tr.mapping.slice(mapFrom).map(rowEnd-1+start),cells)}if(height>map.height){let cells1=[];for(let i1=0,start2=(map.height-1)*map.width;i1<Math.max(map.width,width);i1++){let header=!(i1>=map.width)&&table.nodeAt(map.map[start2+i1]).type==types.header_cell;cells1.push(header?emptyHead||(emptyHead=types.header_cell.createAndFill()):empty||(empty=types.cell.createAndFill()))}let emptyRow=types.row.create(null,prosemirror_model_dist.HY.from(cells1)),rows=[];for(let i2=map.height;i2<height;i2++)rows.push(emptyRow);tr.insert(tr.mapping.slice(mapFrom).map(start+table.nodeSize-2),rows)}return!!(empty||emptyHead)})(tr,map,table,tableStart,right,bottom,0)&&recomp(),isolateHorizontal(tr,map,table,tableStart,left,right,top,mapFrom)&&recomp(),isolateHorizontal(tr,map,table,tableStart,left,right,bottom,mapFrom)&&recomp(),isolateVertical(tr,map,table,tableStart,top,bottom,left,mapFrom)&&recomp(),isolateVertical(tr,map,table,tableStart,top,bottom,right,mapFrom)&&recomp();for(let row=top;row<bottom;row++){let from=map.positionAt(row,left,table),to=map.positionAt(row,right,table);tr.replace(tr.mapping.slice(mapFrom).map(from+tableStart),tr.mapping.slice(mapFrom).map(to+tableStart),new prosemirror_model_dist.p2(cells.rows[row-top],0,0))}recomp(),tr.setSelection(new CellSelection(tr.doc.resolve(tableStart+map.positionAt(top,left,table)),tr.doc.resolve(tableStart+map.positionAt(bottom-1,right-1,table)))),dispatch(tr)}var handleKeyDown=(0,prosemirror_keymap_dist.$)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1),"Shift-ArrowLeft":shiftArrow("horiz",-1),"Shift-ArrowRight":shiftArrow("horiz",1),"Shift-ArrowUp":shiftArrow("vert",-1),"Shift-ArrowDown":shiftArrow("vert",1),Backspace:deleteCellSelection,"Mod-Backspace":deleteCellSelection,Delete:deleteCellSelection,"Mod-Delete":deleteCellSelection});function maybeSetSelection(state,dispatch,selection){return!selection.eq(state.selection)&&(dispatch&&dispatch(state.tr.setSelection(selection).scrollIntoView()),!0)}function arrow(axis,dir){return(state,dispatch,view)=>{if(!view)return!1;let sel=state.selection;if(sel instanceof CellSelection)return maybeSetSelection(state,dispatch,dist.Y1.near(sel.$headCell,dir));if("horiz"!=axis&&!sel.empty)return!1;let end=atEndOfCell(view,axis,dir);if(null==end)return!1;if("horiz"==axis)return maybeSetSelection(state,dispatch,dist.Y1.near(state.doc.resolve(sel.head+dir),dir));{let newSel;let $cell=state.doc.resolve(end),$next=nextCell($cell,axis,dir);return newSel=$next?dist.Y1.near($next,1):dir<0?dist.Y1.near(state.doc.resolve($cell.before(-1)),-1):dist.Y1.near(state.doc.resolve($cell.after(-1)),1),maybeSetSelection(state,dispatch,newSel)}}}function shiftArrow(axis,dir){return(state,dispatch,view)=>{let cellSel;if(!view)return!1;let sel=state.selection;if(sel instanceof CellSelection)cellSel=sel;else{let end=atEndOfCell(view,axis,dir);if(null==end)return!1;cellSel=new CellSelection(state.doc.resolve(end))}let $head=nextCell(cellSel.$headCell,axis,dir);return!!$head&&maybeSetSelection(state,dispatch,new CellSelection(cellSel.$anchorCell,$head))}}function deleteCellSelection(state,dispatch){let sel=state.selection;if(!(sel instanceof CellSelection))return!1;if(dispatch){let tr=state.tr,baseContent=tableNodeTypes(state.schema).cell.createAndFill().content;sel.forEachCell((cell,pos)=>{cell.content.eq(baseContent)||tr.replace(tr.mapping.map(pos+1),tr.mapping.map(pos+cell.nodeSize-1),new prosemirror_model_dist.p2(baseContent,0,0))}),tr.docChanged&&dispatch(tr)}return!0}function handleTripleClick(view,pos){let doc=view.state.doc,$cell=cellAround(doc.resolve(pos));return!!$cell&&(view.dispatch(view.state.tr.setSelection(new CellSelection($cell))),!0)}function handlePaste(view,_,slice){if(!isInTable(view.state))return!1;let cells=function(slice){if(!slice.size)return null;let{content,openStart,openEnd}=slice;for(;1==content.childCount&&(openStart>0&&openEnd>0||"table"==content.child(0).type.spec.tableRole);)openStart--,openEnd--,content=content.child(0).content;let first=content.child(0),role=first.type.spec.tableRole,schema=first.type.schema,rows=[];if("row"==role)for(let i=0;i<content.childCount;i++){let cells=content.child(i).content,left=i?0:Math.max(0,openStart-1),right=i<content.childCount-1?0:Math.max(0,openEnd-1);(left||right)&&(cells=fitSlice(tableNodeTypes(schema).row,new prosemirror_model_dist.p2(cells,left,right)).content),rows.push(cells)}else{if("cell"!=role&&"header_cell"!=role)return null;rows.push(openStart||openEnd?fitSlice(tableNodeTypes(schema).row,new prosemirror_model_dist.p2(content,openStart,openEnd)).content:content)}return function(schema,rows){let widths=[];for(let i=0;i<rows.length;i++){let row=rows[i];for(let j=row.childCount-1;j>=0;j--){let{rowspan,colspan}=row.child(j).attrs;for(let r=i;r<i+rowspan;r++)widths[r]=(widths[r]||0)+colspan}}let width=0;for(let r1=0;r1<widths.length;r1++)width=Math.max(width,widths[r1]);for(let r2=0;r2<widths.length;r2++)if(r2>=rows.length&&rows.push(prosemirror_model_dist.HY.empty),widths[r2]<width){let empty=tableNodeTypes(schema).cell.createAndFill(),cells=[];for(let i1=widths[r2];i1<width;i1++)cells.push(empty);rows[r2]=rows[r2].append(prosemirror_model_dist.HY.from(cells))}return{height:rows.length,width,rows}}(schema,rows)}(slice),sel=view.state.selection;if(sel instanceof CellSelection){cells||(cells={width:1,height:1,rows:[prosemirror_model_dist.HY.from(fitSlice(tableNodeTypes(view.state.schema).cell,slice))]});let table=sel.$anchorCell.node(-1),start=sel.$anchorCell.start(-1),rect=TableMap.get(table).rectBetween(sel.$anchorCell.pos-start,sel.$headCell.pos-start);return cells=function({width,height,rows},newWidth,newHeight){if(width!=newWidth){let added=[],newRows=[];for(let row=0;row<rows.length;row++){let frag=rows[row],cells=[];for(let col=added[row]||0,i=0;col<newWidth;i++){let cell=frag.child(i%frag.childCount);col+cell.attrs.colspan>newWidth&&(cell=cell.type.createChecked(removeColSpan(cell.attrs,cell.attrs.colspan,col+cell.attrs.colspan-newWidth),cell.content)),cells.push(cell),col+=cell.attrs.colspan;for(let j=1;j<cell.attrs.rowspan;j++)added[row+j]=(added[row+j]||0)+cell.attrs.colspan}newRows.push(prosemirror_model_dist.HY.from(cells))}rows=newRows,width=newWidth}if(height!=newHeight){let newRows1=[];for(let row1=0,i1=0;row1<newHeight;row1++,i1++){let cells1=[],source=rows[i1%height];for(let j1=0;j1<source.childCount;j1++){let cell1=source.child(j1);row1+cell1.attrs.rowspan>newHeight&&(cell1=cell1.type.create({...cell1.attrs,rowspan:Math.max(1,newHeight-cell1.attrs.rowspan)},cell1.content)),cells1.push(cell1)}newRows1.push(prosemirror_model_dist.HY.from(cells1))}rows=newRows1,height=newHeight}return{width,height,rows}}(cells,rect.right-rect.left,rect.bottom-rect.top),insertCells(view.state,view.dispatch,start,rect,cells),!0}if(!cells)return!1;{let $cell=selectionCell(view.state),start1=$cell.start(-1);return insertCells(view.state,view.dispatch,start1,TableMap.get($cell.node(-1)).findCell($cell.pos-start1),cells),!0}}function handleMouseDown(view,startEvent){var _a;let $anchor;if(startEvent.ctrlKey||startEvent.metaKey)return;let startDOMCell=domInCell(view,startEvent.target);if(startEvent.shiftKey&&view.state.selection instanceof CellSelection)setCellSelection(view.state.selection.$anchorCell,startEvent),startEvent.preventDefault();else if(startEvent.shiftKey&&startDOMCell&&null!=($anchor=cellAround(view.state.selection.$anchor))&&(null==(_a=cellUnderMouse(view,startEvent))?void 0:_a.pos)!=$anchor.pos)setCellSelection($anchor,startEvent),startEvent.preventDefault();else if(!startDOMCell)return;function setCellSelection($anchor2,event){let $head=cellUnderMouse(view,event),starting=null==tableEditingKey.getState(view.state);if(!$head||!inSameTable($anchor2,$head)){if(!starting)return;$head=$anchor2}let selection=new CellSelection($anchor2,$head);if(starting||!view.state.selection.eq(selection)){let tr=view.state.tr.setSelection(selection);starting&&tr.setMeta(tableEditingKey,$anchor2.pos),view.dispatch(tr)}}function stop(){view.root.removeEventListener("mouseup",stop),view.root.removeEventListener("dragstart",stop),view.root.removeEventListener("mousemove",move),null!=tableEditingKey.getState(view.state)&&view.dispatch(view.state.tr.setMeta(tableEditingKey,-1))}function move(_event){let $anchor2;let anchor=tableEditingKey.getState(view.state);if(null!=anchor)$anchor2=view.state.doc.resolve(anchor);else if(domInCell(view,_event.target)!=startDOMCell&&!($anchor2=cellUnderMouse(view,startEvent)))return stop();$anchor2&&setCellSelection($anchor2,_event)}view.root.addEventListener("mouseup",stop),view.root.addEventListener("dragstart",stop),view.root.addEventListener("mousemove",move)}function atEndOfCell(view,axis,dir){if(!(view.state.selection instanceof dist.Bs))return null;let{$head}=view.state.selection;for(let d=$head.depth-1;d>=0;d--){let parent=$head.node(d),index=dir<0?$head.index(d):$head.indexAfter(d);if(index!=(dir<0?0:parent.childCount))break;if("cell"==parent.type.spec.tableRole||"header_cell"==parent.type.spec.tableRole){let cellPos=$head.before(d),dirStr="vert"==axis?dir>0?"down":"up":dir>0?"right":"left";return view.endOfTextblock(dirStr)?cellPos:null}}return null}function domInCell(view,dom){for(;dom&&dom!=view.dom;dom=dom.parentNode)if("TD"==dom.nodeName||"TH"==dom.nodeName)return dom;return null}function cellUnderMouse(view,event){let mousePos=view.posAtCoords({left:event.clientX,top:event.clientY});return mousePos&&mousePos?cellAround(view.state.doc.resolve(mousePos.pos)):null}var TableView=class{constructor(node,cellMinWidth){this.node=node,this.cellMinWidth=cellMinWidth,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumnsOnResize(node,this.colgroup,this.table,cellMinWidth),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(node){return node.type==this.node.type&&(this.node=node,updateColumnsOnResize(node,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(record){return"attributes"==record.type&&(record.target==this.table||this.colgroup.contains(record.target))}};function updateColumnsOnResize(node,colgroup,table,cellMinWidth,overrideCol,overrideValue){var _a;let totalWidth=0,fixedWidth=!0,nextDOM=colgroup.firstChild,row=node.firstChild;if(row){for(let i=0,col=0;i<row.childCount;i++){let{colspan,colwidth}=row.child(i).attrs;for(let j=0;j<colspan;j++,col++){let hasWidth=overrideCol==col?overrideValue:colwidth&&colwidth[j],cssWidth=hasWidth?hasWidth+"px":"";totalWidth+=hasWidth||cellMinWidth,hasWidth||(fixedWidth=!1),nextDOM?(nextDOM.style.width!=cssWidth&&(nextDOM.style.width=cssWidth),nextDOM=nextDOM.nextSibling):colgroup.appendChild(document.createElement("col")).style.width=cssWidth}}for(;nextDOM;){let after=nextDOM.nextSibling;null==(_a=nextDOM.parentNode)||_a.removeChild(nextDOM),nextDOM=after}fixedWidth?(table.style.width=totalWidth+"px",table.style.minWidth=""):(table.style.width="",table.style.minWidth=totalWidth+"px")}}var columnResizingPluginKey=new dist.H$("tableColumnResizing"),ResizeState=class{constructor(activeHandle,dragging){this.activeHandle=activeHandle,this.dragging=dragging}apply(tr){let action=tr.getMeta(columnResizingPluginKey);if(action&&null!=action.setHandle)return new ResizeState(action.setHandle,!1);if(action&&void 0!==action.setDragging)return new ResizeState(this.activeHandle,action.setDragging);if(this.activeHandle>-1&&tr.docChanged){let handle=tr.mapping.map(this.activeHandle,-1);return pointsAtCell(tr.doc.resolve(handle))||(handle=-1),new ResizeState(handle,this.dragging)}return this}};function edgeCell(view,event,side){let found=view.posAtCoords({left:event.clientX,top:event.clientY});if(!found)return -1;let{pos}=found,$cell=cellAround(view.state.doc.resolve(pos));if(!$cell)return -1;if("right"==side)return $cell.pos;let map=TableMap.get($cell.node(-1)),start=$cell.start(-1),index=map.map.indexOf($cell.pos-start);return index%map.width==0?-1:start+map.map[index-1]}function draggedWidth(dragging,event,cellMinWidth){let offset=event.clientX-dragging.startX;return Math.max(cellMinWidth,dragging.startWidth+offset)}function updateHandle(view,value){view.dispatch(view.state.tr.setMeta(columnResizingPluginKey,{setHandle:value}))}function selectedRect(state){let sel=state.selection,$pos=selectionCell(state),table=$pos.node(-1),tableStart=$pos.start(-1),map=TableMap.get(table),rect=sel instanceof CellSelection?map.rectBetween(sel.$anchorCell.pos-tableStart,sel.$headCell.pos-tableStart):map.findCell($pos.pos-tableStart);return{...rect,tableStart,map,table}}function addColumn(tr,{map,tableStart,table},col){let refColumn=col>0?-1:0;(function(map,table,col){let headerCell=tableNodeTypes(table.type.schema).header_cell;for(let row=0;row<map.height;row++)if(table.nodeAt(map.map[col+row*map.width]).type!=headerCell)return!1;return!0})(map,table,col+refColumn)&&(refColumn=0==col||col==map.width?null:0);for(let row=0;row<map.height;row++){let index=row*map.width+col;if(col>0&&col<map.width&&map.map[index-1]==map.map[index]){let pos=map.map[index],cell=table.nodeAt(pos);tr.setNodeMarkup(tr.mapping.map(tableStart+pos),null,addColSpan(cell.attrs,col-map.colCount(pos))),row+=cell.attrs.rowspan-1}else{let type=null==refColumn?tableNodeTypes(table.type.schema).cell:table.nodeAt(map.map[index+refColumn]).type,pos1=map.positionAt(row,col,table);tr.insert(tr.mapping.map(tableStart+pos1),type.createAndFill())}}return tr}function addColumnBefore(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state);dispatch(addColumn(state.tr,rect,rect.left))}return!0}function addColumnAfter(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state);dispatch(addColumn(state.tr,rect,rect.right))}return!0}function deleteColumn(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state),tr=state.tr;if(0==rect.left&&rect.right==rect.map.width)return!1;for(let i=rect.right-1;!function(tr,{map,table,tableStart},col){let mapStart=tr.mapping.maps.length;for(let row=0;row<map.height;){let index=row*map.width+col,pos=map.map[index],cell=table.nodeAt(pos),attrs=cell.attrs;if(col>0&&map.map[index-1]==pos||col<map.width-1&&map.map[index+1]==pos)tr.setNodeMarkup(tr.mapping.slice(mapStart).map(tableStart+pos),null,removeColSpan(attrs,col-map.colCount(pos)));else{let start=tr.mapping.slice(mapStart).map(tableStart+pos);tr.delete(start,start+cell.nodeSize)}row+=attrs.rowspan}}(tr,rect,i),i!=rect.left;i--){let table=rect.tableStart?tr.doc.nodeAt(rect.tableStart-1):tr.doc;if(!table)throw RangeError("No table found");rect.table=table,rect.map=TableMap.get(table)}dispatch(tr)}return!0}function addRow(tr,{map,tableStart,table},row){var _a;let rowPos=tableStart;for(let i=0;i<row;i++)rowPos+=table.child(i).nodeSize;let cells=[],refRow=row>0?-1:0;(function(map,table,row){var _a;let headerCell=tableNodeTypes(table.type.schema).header_cell;for(let col=0;col<map.width;col++)if((null==(_a=table.nodeAt(map.map[col+row*map.width]))?void 0:_a.type)!=headerCell)return!1;return!0})(map,table,row+refRow)&&(refRow=0==row||row==map.height?null:0);for(let col=0,index=map.width*row;col<map.width;col++,index++)if(row>0&&row<map.height&&map.map[index]==map.map[index-map.width]){let pos=map.map[index],attrs=table.nodeAt(pos).attrs;tr.setNodeMarkup(tableStart+pos,null,{...attrs,rowspan:attrs.rowspan+1}),col+=attrs.colspan-1}else{let type=null==refRow?tableNodeTypes(table.type.schema).cell:null==(_a=table.nodeAt(map.map[index+refRow*map.width]))?void 0:_a.type,node=null==type?void 0:type.createAndFill();node&&cells.push(node)}return tr.insert(rowPos,tableNodeTypes(table.type.schema).row.create(null,cells)),tr}function addRowBefore(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state);dispatch(addRow(state.tr,rect,rect.top))}return!0}function addRowAfter(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state);dispatch(addRow(state.tr,rect,rect.bottom))}return!0}function deleteRow(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let rect=selectedRect(state),tr=state.tr;if(0==rect.top&&rect.bottom==rect.map.height)return!1;for(let i=rect.bottom-1;!function(tr,{map,table,tableStart},row){let rowPos=0;for(let i=0;i<row;i++)rowPos+=table.child(i).nodeSize;let nextRow=rowPos+table.child(row).nodeSize,mapFrom=tr.mapping.maps.length;tr.delete(rowPos+tableStart,nextRow+tableStart);for(let col=0,index=row*map.width;col<map.width;col++,index++){let pos=map.map[index];if(row>0&&pos==map.map[index-map.width]){let attrs=table.nodeAt(pos).attrs;tr.setNodeMarkup(tr.mapping.slice(mapFrom).map(pos+tableStart),null,{...attrs,rowspan:attrs.rowspan-1}),col+=attrs.colspan-1}else if(row<map.width&&pos==map.map[index+map.width]){let cell=table.nodeAt(pos),attrs1=cell.attrs,copy=cell.type.create({...attrs1,rowspan:cell.attrs.rowspan-1},cell.content),newPos=map.positionAt(row+1,col,table);tr.insert(tr.mapping.slice(mapFrom).map(tableStart+newPos),copy),col+=attrs1.colspan-1}}}(tr,rect,i),i!=rect.top;i--){let table=rect.tableStart?tr.doc.nodeAt(rect.tableStart-1):tr.doc;if(!table)throw RangeError("No table found");rect.table=table,rect.map=TableMap.get(rect.table)}dispatch(tr)}return!0}function isEmpty(cell){let c=cell.content;return 1==c.childCount&&c.child(0).isTextblock&&0==c.child(0).childCount}function mergeCells(state,dispatch){let sel=state.selection;if(!(sel instanceof CellSelection)||sel.$anchorCell.pos==sel.$headCell.pos)return!1;let rect=selectedRect(state),{map}=rect;if(function({width,height,map},rect){let indexTop=rect.top*width+rect.left,indexLeft=indexTop,indexBottom=(rect.bottom-1)*width+rect.left,indexRight=indexTop+(rect.right-rect.left-1);for(let i=rect.top;i<rect.bottom;i++){if(rect.left>0&&map[indexLeft]==map[indexLeft-1]||rect.right<width&&map[indexRight]==map[indexRight+1])return!0;indexLeft+=width,indexRight+=width}for(let i1=rect.left;i1<rect.right;i1++){if(rect.top>0&&map[indexTop]==map[indexTop-width]||rect.bottom<height&&map[indexBottom]==map[indexBottom+width])return!0;indexTop++,indexBottom++}return!1}(map,rect))return!1;if(dispatch){let mergedPos,mergedCell;let tr=state.tr,seen={},content=prosemirror_model_dist.HY.empty;for(let row=rect.top;row<rect.bottom;row++)for(let col=rect.left;col<rect.right;col++){let cellPos=map.map[row*map.width+col],cell=rect.table.nodeAt(cellPos);if(!seen[cellPos]&&cell){if(seen[cellPos]=!0,null==mergedPos)mergedPos=cellPos,mergedCell=cell;else{isEmpty(cell)||(content=content.append(cell.content));let mapped=tr.mapping.map(cellPos+rect.tableStart);tr.delete(mapped,mapped+cell.nodeSize)}}}if(null==mergedPos||null==mergedCell)return!0;if(tr.setNodeMarkup(mergedPos+rect.tableStart,null,{...addColSpan(mergedCell.attrs,mergedCell.attrs.colspan,rect.right-rect.left-mergedCell.attrs.colspan),rowspan:rect.bottom-rect.top}),content.size){let end=mergedPos+1+mergedCell.content.size,start=isEmpty(mergedCell)?mergedPos+1:end;tr.replaceWith(start+rect.tableStart,end+rect.tableStart,content)}tr.setSelection(new CellSelection(tr.doc.resolve(mergedPos+rect.tableStart))),dispatch(tr)}return!0}function splitCell(state,dispatch){var getCellType;let nodeTypes=tableNodeTypes(state.schema);return(getCellType=({node})=>nodeTypes[node.type.spec.tableRole],(state,dispatch)=>{var _a;let cellNode,cellPos;let sel=state.selection;if(sel instanceof CellSelection){if(sel.$anchorCell.pos!=sel.$headCell.pos)return!1;cellNode=sel.$anchorCell.nodeAfter,cellPos=sel.$anchorCell.pos}else{if(!(cellNode=function($pos){for(let d=$pos.depth;d>0;d--){let role=$pos.node(d).type.spec.tableRole;if("cell"===role||"header_cell"===role)return $pos.node(d)}return null}(sel.$from)))return!1;cellPos=null==(_a=cellAround(sel.$from))?void 0:_a.pos}if(null==cellNode||null==cellPos||1==cellNode.attrs.colspan&&1==cellNode.attrs.rowspan)return!1;if(dispatch){let lastCell,baseAttrs=cellNode.attrs,attrs=[],colwidth=baseAttrs.colwidth;baseAttrs.rowspan>1&&(baseAttrs={...baseAttrs,rowspan:1}),baseAttrs.colspan>1&&(baseAttrs={...baseAttrs,colspan:1});let rect=selectedRect(state),tr=state.tr;for(let i=0;i<rect.right-rect.left;i++)attrs.push(colwidth?{...baseAttrs,colwidth:colwidth&&colwidth[i]?[colwidth[i]]:null}:baseAttrs);for(let row=rect.top;row<rect.bottom;row++){let pos=rect.map.positionAt(row,rect.left,rect.table);row==rect.top&&(pos+=cellNode.nodeSize);for(let col=rect.left,i1=0;col<rect.right;col++,i1++)(col!=rect.left||row!=rect.top)&&tr.insert(lastCell=tr.mapping.map(pos+rect.tableStart,1),getCellType({node:cellNode,row,col}).createAndFill(attrs[i1]))}tr.setNodeMarkup(cellPos,getCellType({node:cellNode,row:rect.top,col:rect.left}),attrs[0]),sel instanceof CellSelection&&tr.setSelection(new CellSelection(tr.doc.resolve(sel.$anchorCell.pos),lastCell?tr.doc.resolve(lastCell):void 0)),dispatch(tr)}return!0})(state,dispatch)}function isHeaderEnabledByType(type,rect,types){let cellPositions=rect.map.cellsInRect({left:0,top:0,right:"row"==type?rect.map.width:1,bottom:"column"==type?rect.map.height:1});for(let i=0;i<cellPositions.length;i++){let cell=rect.table.nodeAt(cellPositions[i]);if(cell&&cell.type!==types.header_cell)return!1}return!0}function toggleHeader(type,options){return(options=options||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let types=tableNodeTypes(state.schema),rect=selectedRect(state),tr=state.tr,cells=rect.map.cellsInRect("column"==type?{left:rect.left,top:0,right:rect.right,bottom:rect.map.height}:"row"==type?{left:0,top:rect.top,right:rect.map.width,bottom:rect.bottom}:rect),nodes=cells.map(pos=>rect.table.nodeAt(pos));for(let i=0;i<cells.length;i++)nodes[i].type==types.header_cell&&tr.setNodeMarkup(rect.tableStart+cells[i],types.cell,nodes[i].attrs);if(0==tr.steps.length)for(let i1=0;i1<cells.length;i1++)tr.setNodeMarkup(rect.tableStart+cells[i1],types.header_cell,nodes[i1].attrs);dispatch(tr)}return!0}:function(state,dispatch){if(!isInTable(state))return!1;if(dispatch){let types=tableNodeTypes(state.schema),rect=selectedRect(state),tr=state.tr,isHeaderRowEnabled=isHeaderEnabledByType("row",rect,types),isHeaderColumnEnabled=isHeaderEnabledByType("column",rect,types),selectionStartsAt=("column"===type?isHeaderRowEnabled:"row"===type&&isHeaderColumnEnabled)?1:0,cellsRect="column"==type?{left:0,top:selectionStartsAt,right:1,bottom:rect.map.height}:"row"==type?{left:selectionStartsAt,top:0,right:rect.map.width,bottom:1}:rect,newType="column"==type?isHeaderColumnEnabled?types.cell:types.header_cell:"row"==type?isHeaderRowEnabled?types.cell:types.header_cell:types.cell;rect.map.cellsInRect(cellsRect).forEach(relativeCellPos=>{let cellPos=relativeCellPos+rect.tableStart,cell=tr.doc.nodeAt(cellPos);cell&&tr.setNodeMarkup(cellPos,newType,cell.attrs)}),dispatch(tr)}return!0}}var toggleHeaderRow=toggleHeader("row",{useDeprecatedLogic:!0}),toggleHeaderColumn=toggleHeader("column",{useDeprecatedLogic:!0}),toggleHeaderCell=toggleHeader("cell",{useDeprecatedLogic:!0});function deleteTable(state,dispatch){let $pos=state.selection.$anchor;for(let d=$pos.depth;d>0;d--){let node=$pos.node(d);if("table"==node.type.spec.tableRole)return dispatch&&dispatch(state.tr.delete($pos.before(d),$pos.after(d)).scrollIntoView()),!0}return!1}function isCellSelection(value){return"object"==typeof value&&value instanceof CellSelection}var remirror_core_helpers=__webpack_require__(62120),remirror_messages=__webpack_require__(35708),remirror_extension_positioner=__webpack_require__(45916),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value);function remirror_extension_tables_getCellAttrs(dom){var _a,_b;let widthAttr=dom.getAttribute("data-colwidth"),widths=widthAttr&&/^\d+(,\d+)*$/.test(widthAttr)?widthAttr.split(",").map(s=>Number(s)):null,colspan=Number(null!=(_a=dom.getAttribute("colspan"))?_a:1),backgroundColor=dom.getAttribute("data-background-color");return{colspan,rowspan:Number(null!=(_b=dom.getAttribute("rowspan"))?_b:1),colwidth:widths&&widths.length===colspan?widths:null,background:backgroundColor||dom.style.backgroundColor||null}}function remirror_extension_tables_setCellAttrs(node){var _a;let attrs={};return 1!==node.attrs.colspan&&(attrs.colspan=node.attrs.colspan),1!==node.attrs.rowspan&&(attrs.rowspan=node.attrs.rowspan),node.attrs.colwidth&&(attrs["data-colwidth"]=node.attrs.colwidth.join(",")),node.attrs.background&&(attrs.style=`${null!=(_a=attrs.style)?_a:""}background-color: ${node.attrs.background};`,attrs["data-background-color"]=node.attrs.background),attrs}function createTableNodeSchema(extra,override){var _a,_b,_c,_d;let cellAttrs={...extra.defaults(),colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}};return{table:{isolating:!0,...override,attrs:extra.defaults(),content:"tableRow+",tableRole:"table",parseDOM:[{tag:"table",getAttrs:extra.parse},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["table",extra.dom(node),["tbody",0]]},tableRow:{...override,attrs:extra.defaults(),content:"(tableCell | tableHeaderCell)*",tableRole:"row",parseDOM:[{tag:"tr",getAttrs:extra.parse},...null!=(_b=override.parseDOM)?_b:[]],toDOM:node=>["tr",extra.dom(node),0]},tableCell:{isolating:!0,content:`${remirror_core_constants.eX.Block}+`,...override,attrs:cellAttrs,tableRole:"cell",parseDOM:[{tag:"td",getAttrs:dom=>({...extra.parse(dom),...remirror_extension_tables_getCellAttrs(dom)})},...null!=(_c=override.parseDOM)?_c:[]],toDOM:node=>["td",{...extra.dom(node),...remirror_extension_tables_setCellAttrs(node)},0]},tableHeaderCell:{isolating:!0,content:`${remirror_core_constants.eX.Block}+`,...override,attrs:cellAttrs,tableRole:"header_cell",parseDOM:[{tag:"th",getAttrs:dom=>({...extra.parse(dom),...remirror_extension_tables_getCellAttrs(dom)})},...null!=(_d=override.parseDOM)?_d:[]],toDOM:node=>["th",{...extra.dom(node),...remirror_extension_tables_setCellAttrs(node)},0]}}}var TABLE_ROLES=["table","row","cell","header_cell"];function createCell(props){let{content,type}=props;return content?type.createChecked(null,content):type.createAndFill()}function findTable(selection){return(0,remirror_core_utils.Tr)({selection,types:"table"})}function findCellClosestToPos(selection){return(0,remirror_core_utils.Tr)({selection,types:["tableHeaderCell","tableCell"]})}var{CREATE_COMMAND_DESCRIPTION,CREATE_COMMAND_LABEL}=remirror_messages.XK,tablesEnabled=!1,TableExtension=class extends remirror_core.NodeExtension{constructor(){super(...arguments),__publicField(this,"lastGoodState")}get name(){return"table"}createTags(){return[remirror_core_constants.eX.Block]}createNodeSpec(extra,override){return createTableNodeSchema(extra,override).table}createExtensions(){return[new TableRowExtension({priority:remirror_core_constants.xV.Low})]}onStateUpdate(props){var _a;let{tr,state}=props;(null==(_a=null==tr?void 0:tr.getMeta(fixTablesKey))?void 0:_a.fixTables)&&(this.lastGoodState=state)}onView(_){!1===this.store.helpers.isViewEditable()&&this.store.updateExtensionPlugins(this)}createExternalPlugins(){let plugins=[];if(this.store.isMounted()&&!1===this.store.helpers.isViewEditable())return plugins;let{resizable,resizeableOptions}=this.options;return resizable&&plugins.push(function({handleWidth=5,cellMinWidth=25,View=TableView,lastColumnResizable=!0}={}){let plugin=new dist.Sy({key:columnResizingPluginKey,state:{init:(_,state)=>(plugin.spec.props.nodeViews[tableNodeTypes(state.schema).table.name]=(node,view)=>new View(node,cellMinWidth,view),new ResizeState(-1,!1)),apply:(tr,prev)=>prev.apply(tr)},props:{attributes(state){let pluginState=columnResizingPluginKey.getState(state);return pluginState&&pluginState.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove(view,event){(function(view,event,handleWidth,cellMinWidth,lastColumnResizable){let pluginState=columnResizingPluginKey.getState(view.state);if(pluginState&&!pluginState.dragging){let target=function(target){for(;target&&"TD"!=target.nodeName&&"TH"!=target.nodeName;)target=target.classList&&target.classList.contains("ProseMirror")?null:target.parentNode;return target}(event.target),cell=-1;if(target){let{left,right}=target.getBoundingClientRect();event.clientX-left<=handleWidth?cell=edgeCell(view,event,"left"):right-event.clientX<=handleWidth&&(cell=edgeCell(view,event,"right"))}if(cell!=pluginState.activeHandle){if(!lastColumnResizable&&-1!==cell){let $cell=view.state.doc.resolve(cell),table=$cell.node(-1),map=TableMap.get(table),tableStart=$cell.start(-1),col=map.colCount($cell.pos-tableStart)+$cell.nodeAfter.attrs.colspan-1;if(col==map.width-1)return}updateHandle(view,cell)}}})(view,event,handleWidth,0,lastColumnResizable)},mouseleave(view){(function(view){let pluginState=columnResizingPluginKey.getState(view.state);pluginState&&pluginState.activeHandle>-1&&!pluginState.dragging&&updateHandle(view,-1)})(view)},mousedown(view,event){(function(view,event,cellMinWidth){let pluginState=columnResizingPluginKey.getState(view.state);if(!pluginState||-1==pluginState.activeHandle||pluginState.dragging)return;let cell=view.state.doc.nodeAt(pluginState.activeHandle),width=function(view,cellPos,{colspan,colwidth}){let width=colwidth&&colwidth[colwidth.length-1];if(width)return width;let dom=view.domAtPos(cellPos),node=dom.node.childNodes[dom.offset],domWidth=node.offsetWidth,parts=colspan;if(colwidth)for(let i=0;i<colspan;i++)colwidth[i]&&(domWidth-=colwidth[i],parts--);return domWidth/parts}(view,pluginState.activeHandle,cell.attrs);function finish(event2){window.removeEventListener("mouseup",finish),window.removeEventListener("mousemove",move);let pluginState2=columnResizingPluginKey.getState(view.state);(null==pluginState2?void 0:pluginState2.dragging)&&(function(view,cell,width){let $cell=view.state.doc.resolve(cell),table=$cell.node(-1),map=TableMap.get(table),start=$cell.start(-1),col=map.colCount($cell.pos-start)+$cell.nodeAfter.attrs.colspan-1,tr=view.state.tr;for(let row=0;row<map.height;row++){let mapIndex=row*map.width+col;if(row&&map.map[mapIndex]==map.map[mapIndex-map.width])continue;let pos=map.map[mapIndex],attrs=table.nodeAt(pos).attrs,index=1==attrs.colspan?0:col-map.colCount(pos);if(attrs.colwidth&&attrs.colwidth[index]==width)continue;let colwidth=attrs.colwidth?attrs.colwidth.slice():Array(attrs.colspan).fill(0);colwidth[index]=width,tr.setNodeMarkup(start+pos,null,{...attrs,colwidth})}tr.docChanged&&view.dispatch(tr)}(view,pluginState2.activeHandle,draggedWidth(pluginState2.dragging,event2,cellMinWidth)),view.dispatch(view.state.tr.setMeta(columnResizingPluginKey,{setDragging:null})))}function move(event2){if(!event2.which)return finish(event2);let pluginState2=columnResizingPluginKey.getState(view.state);if(pluginState2&&pluginState2.dragging){let dragged=draggedWidth(pluginState2.dragging,event2,cellMinWidth);(function(view,cell,width,cellMinWidth){let $cell=view.state.doc.resolve(cell),table=$cell.node(-1),start=$cell.start(-1),col=TableMap.get(table).colCount($cell.pos-start)+$cell.nodeAfter.attrs.colspan-1,dom=view.domAtPos($cell.start(-1)).node;for(;dom&&"TABLE"!=dom.nodeName;)dom=dom.parentNode;dom&&updateColumnsOnResize(table,dom.firstChild,dom,cellMinWidth,col,width)})(view,pluginState2.activeHandle,dragged,cellMinWidth)}}view.dispatch(view.state.tr.setMeta(columnResizingPluginKey,{setDragging:{startX:event.clientX,startWidth:width}})),window.addEventListener("mouseup",finish),window.addEventListener("mousemove",move),event.preventDefault()})(view,event,cellMinWidth)}},decorations(state){let pluginState=columnResizingPluginKey.getState(state);if(pluginState&&pluginState.activeHandle>-1)return function(state,cell){let decorations=[],$cell=state.doc.resolve(cell),table=$cell.node(-1);if(!table)return prosemirror_view_dist.EH.empty;let map=TableMap.get(table),start=$cell.start(-1),col=map.colCount($cell.pos-start)+$cell.nodeAfter.attrs.colspan;for(let row=0;row<map.height;row++){let index=col+row*map.width-1;if((col==map.width||map.map[index]!=map.map[index+1])&&(0==row||map.map[index-1]!=map.map[index-1-map.width])){let cellPos=map.map[index],pos=start+cellPos+table.nodeAt(cellPos).nodeSize-1,dom=document.createElement("div");dom.className="column-resize-handle",decorations.push(prosemirror_view_dist.p.widget(pos,dom))}}return prosemirror_view_dist.EH.create(state.doc,decorations)}(state,pluginState.activeHandle)},nodeViews:{}}});return plugin}(resizeableOptions)),plugins.push(function({allowTableNodeSelection=!1}={}){return new dist.Sy({key:tableEditingKey,state:{init:()=>null,apply(tr,cur){let set=tr.getMeta(tableEditingKey);if(null!=set)return -1==set?null:set;if(null==cur||!tr.docChanged)return cur;let{deleted,pos}=tr.mapping.mapResult(cur);return deleted?null:pos}},props:{decorations:drawCellSelection,handleDOMEvents:{mousedown:handleMouseDown},createSelectionBetween:view=>null!=tableEditingKey.getState(view.state)?view.state.selection:null,handleTripleClick,handleKeyDown,handlePaste},appendTransaction:(_,oldState,state)=>(function(state,tr,allowTableNodeSelection){let normalize,role;let sel=(tr||state).selection,doc=(tr||state).doc;if(sel instanceof dist.qv&&(role=sel.node.type.spec.tableRole)){if("cell"==role||"header_cell"==role)normalize=CellSelection.create(doc,sel.from);else if("row"==role){let $cell=doc.resolve(sel.from+1);normalize=CellSelection.rowSelection($cell,$cell)}else if(!allowTableNodeSelection){let map=TableMap.get(sel.node),start=sel.from+1,lastCell=start+map.map[map.width*map.height-1];normalize=CellSelection.create(doc,start+1,lastCell)}}else sel instanceof dist.Bs&&function({$from,$to}){if($from.pos==$to.pos||$from.pos<$from.pos-6)return!1;let afterFrom=$from.pos,beforeTo=$to.pos,depth=$from.depth;for(;depth>=0&&!($from.after(depth+1)<$from.end(depth));depth--,afterFrom++);for(let d=$to.depth;d>=0&&!($to.before(d+1)>$to.start(d));d--,beforeTo--);return afterFrom==beforeTo&&/row|table/.test($from.node(depth).type.spec.tableRole)}(sel)?normalize=dist.Bs.create(doc,sel.from):sel instanceof dist.Bs&&function({$from,$to}){let fromCellBoundaryNode,toCellBoundaryNode;for(let i=$from.depth;i>0;i--){let node=$from.node(i);if("cell"===node.type.spec.tableRole||"header_cell"===node.type.spec.tableRole){fromCellBoundaryNode=node;break}}for(let i1=$to.depth;i1>0;i1--){let node1=$to.node(i1);if("cell"===node1.type.spec.tableRole||"header_cell"===node1.type.spec.tableRole){toCellBoundaryNode=node1;break}}return fromCellBoundaryNode!==toCellBoundaryNode&&0===$to.parentOffset}(sel)&&(normalize=dist.Bs.create(doc,sel.$from.start(),sel.$from.end()));return normalize&&(tr||(tr=state.tr)).setSelection(normalize),tr})(state,fixTables(state,oldState),allowTableNodeSelection)})}()),plugins}createPlugin(){let{resizable,resizeableOptions}=this.options;if(!resizable||!this.store.isMounted()||this.store.helpers.isViewEditable())return{};let{cellMinWidth=25}=resizeableOptions;return{props:{nodeViews:{table(node,view,getPos){let dom=view.nodeDOM(getPos());return(0,remirror_core_utils.jd)(dom)&&"TABLE"===dom.tagName&&updateColumnsOnResize(node,dom.firstChild,dom,cellMinWidth),new TableView(node,cellMinWidth)}}}}}createTable(options={}){return props=>{let{tr,dispatch,state}=props;if(!tr.selection.empty)return!1;let offset=tr.selection.anchor+1,nodes=function(props){let{schema,cellContent,columnsCount=3,rowsCount=3,withHeaderRow=!0}=props,{cell:tableCell,header_cell:tableHeaderCell,row:tableRow,table}=function(schema){if(schema.cached.tableNodeTypes)return schema.cached.tableNodeTypes;let roles=(0,remirror_core_helpers.Ry)();for(let nodeType of(schema.cached.tableNodeTypes=roles,(0,remirror_core_helpers.VO)(schema.nodes)))(0,remirror_core_helpers.q9)(TABLE_ROLES,nodeType.spec.tableRole)&&(roles[nodeType.spec.tableRole]=nodeType);return roles}(schema);(0,remirror_core_helpers.kG)(tableCell&&tableHeaderCell&&tableRow&&table,{code:remirror_core_constants.mA.EXTENSION,message:"Table Extension unable to locate required nodes."});let cells=[],headerCells=[];for(let ii=0;ii<columnsCount;ii++)cells.push(createCell({type:tableCell,content:cellContent})),withHeaderRow&&headerCells.push(createCell({type:tableHeaderCell,content:cellContent}));let rows=[];for(let ii1=0;ii1<rowsCount;ii1++){let rowNodes=withHeaderRow&&0===ii1?headerCells:cells;rows.push(tableRow.createChecked(null,rowNodes))}return table.createChecked(null,rows)}({schema:state.schema,...options});return null==dispatch||dispatch(tr.replaceSelectionWith(nodes).scrollIntoView().setSelection(dist.Bs.near(tr.doc.resolve(offset)))),!0}}deleteTable(){return(0,remirror_pm.A_)(deleteTable)}addTableColumnBefore(){return(0,remirror_pm.A_)(addColumnBefore)}addTableColumnAfter(){return(0,remirror_pm.A_)(addColumnAfter)}deleteTableColumn(){return(0,remirror_pm.A_)(deleteColumn)}addTableRowBefore(){return(0,remirror_pm.A_)(addRowBefore)}addTableRowAfter(){return(0,remirror_pm.A_)(addRowAfter)}deleteTableRow(){return(0,remirror_pm.A_)(deleteRow)}toggleTableCellMerge(){return toggleMergeCellCommand}mergeTableCells(){return(0,remirror_pm.A_)(mergeCells)}splitTableCell(){return(0,remirror_pm.A_)(splitCell)}toggleTableHeaderColumn(){return(0,remirror_pm.A_)(toggleHeaderColumn)}toggleTableHeaderRow(){return(0,remirror_pm.A_)(toggleHeaderRow)}toggleTableHeaderCell(){return(0,remirror_pm.A_)(toggleHeaderCell)}setTableCellAttribute(name,value){return(0,remirror_pm.A_)(function(state,dispatch){if(!isInTable(state))return!1;let $cell=selectionCell(state);if($cell.nodeAfter.attrs[name]===value)return!1;if(dispatch){let tr=state.tr;state.selection instanceof CellSelection?state.selection.forEachCell((node,pos)=>{node.attrs[name]!==value&&tr.setNodeMarkup(pos,null,{...node.attrs,[name]:value})}):tr.setNodeMarkup($cell.pos,null,{...$cell.nodeAfter.attrs,[name]:value}),dispatch(tr)}return!0})}fixTables(){var lastGoodState;return(0,remirror_pm.fB)((lastGoodState=this.lastGoodState,({state,dispatch})=>{let tr=fixTables(state,lastGoodState);return!!tr&&(dispatch&&dispatch(tr),!0)}))}enableTableSupport(){tablesEnabled||(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"),tablesEnabled=!0)}setTableCellBackground(background){return props=>{let{tr}=props,{dispatch}=props,{selection}=tr;if(selection instanceof CellSelection)return selection.forEachCell((cellNode,pos)=>{tr=tr.setNodeMarkup(pos,void 0,{...cellNode.attrs,background})}),null==dispatch||dispatch(tr),!0;let found=(0,remirror_core_utils.Tr)({selection,types:["tableCell","tableHeaderCell"]});return!!found&&(null==dispatch||dispatch(tr.setNodeMarkup(found.pos,void 0,{...found.node.attrs,background})),!0)}}selectParentCell(){return({dispatch,tr})=>{let cell=findCellClosestToPos(tr.selection.$from);return!!cell&&(null==dispatch||dispatch(tr.setSelection(CellSelection.create(tr.doc,cell.pos))),!0)}}expandCellSelection(type="all"){return({dispatch,tr})=>{if(!isCellSelection(tr.selection))return!1;if("row"!==type){let{$anchorCell,$headCell}=tr.selection;tr.setSelection(CellSelection.colSelection($anchorCell,$headCell))}if("column"!==type){let{$anchorCell:$anchorCell1,$headCell:$headCell1}=tr.selection;tr.setSelection(CellSelection.rowSelection($anchorCell1,$headCell1))}return null==dispatch||dispatch(tr),!0}}onSetOptions(props){let{changes}=props;changes.resizable.changed&&this.store.updateExtensionPlugins(this)}};__decorateClass([(0,remirror_core.command)({icon:"table2",description:({t})=>t(CREATE_COMMAND_DESCRIPTION),label:({t})=>t(CREATE_COMMAND_LABEL)})],TableExtension.prototype,"createTable",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"deleteTable",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"addTableColumnBefore",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"addTableColumnAfter",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"deleteTableColumn",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"addTableRowBefore",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"addTableRowAfter",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"deleteTableRow",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"toggleTableCellMerge",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"mergeTableCells",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"splitTableCell",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"toggleTableHeaderColumn",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"toggleTableHeaderRow",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"toggleTableHeaderCell",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"setTableCellAttribute",1),__decorateClass([(0,remirror_core.command)({disableChaining:!0})],TableExtension.prototype,"fixTables",1),__decorateClass([(0,remirror_core.helper)()],TableExtension.prototype,"enableTableSupport",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"setTableCellBackground",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"selectParentCell",1),__decorateClass([(0,remirror_core.command)()],TableExtension.prototype,"expandCellSelection",1),TableExtension=__decorateClass([(0,remirror_core.extension)({defaultOptions:{resizable:!0,resizeableOptions:{}},defaultPriority:remirror_core_constants.xV.Default})],TableExtension);var TableRowExtension=class extends remirror_core.NodeExtension{get name(){return"tableRow"}createExtensions(){return[new TableCellExtension({priority:remirror_core_constants.xV.Low}),new TableHeaderCellExtension({priority:remirror_core_constants.xV.Low})]}createNodeSpec(extra,override){return createTableNodeSchema(extra,override).tableRow}};TableRowExtension=__decorateClass([(0,remirror_core.extension)({defaultPriority:remirror_core_constants.xV.Low})],TableRowExtension);var TableCellExtension=class extends remirror_core.NodeExtension{get name(){return"tableCell"}createNodeSpec(extra,override){return createTableNodeSchema(extra,override).tableCell}};TableCellExtension=__decorateClass([(0,remirror_core.extension)({defaultPriority:remirror_core_constants.xV.Low})],TableCellExtension);var TableHeaderCellExtension=class extends remirror_core.NodeExtension{get name(){return"tableHeaderCell"}createNodeSpec(extra,override){return createTableNodeSchema(extra,override).tableHeaderCell}};TableHeaderCellExtension=__decorateClass([(0,remirror_core.extension)({defaultPriority:remirror_core_constants.xV.Low})],TableHeaderCellExtension);var TableControllerCellExtension=class extends remirror_core.NodeExtension{get name(){return"tableControllerCell"}createNodeSpec(_,__){return{tableRole:"header_cell"}}};function toggleMergeCellCommand({state,dispatch}){return!mergeCells(state,dispatch)&&splitCell(state,dispatch)}TableControllerCellExtension=__decorateClass([(0,remirror_core.extension)({defaultPriority:remirror_core_constants.xV.Low})],TableControllerCellExtension),remirror_extension_positioner.sX.create({hasChanged:remirror_extension_positioner.Xf,getActive(props){let{selection}=props.state,table=findTable(selection);return table?[table]:remirror_extension_positioner.sX.EMPTY},getPosition(props){let{view,data:table}=props,node=view.nodeDOM(table.pos);if(!(0,remirror_core_utils.jd)(node))return remirror_extension_positioner.oI;let rect=node.getBoundingClientRect(),editorRect=view.dom.getBoundingClientRect(),height=rect.height,width=rect.width,left=view.dom.scrollLeft+rect.left-editorRect.left-1,top=view.dom.scrollTop+rect.top-editorRect.top-1;return{x:left,y:top,height,width,rect,visible:(0,remirror_extension_positioner.kl)(rect,view.dom)}}}).clone(()=>({getActive(props){let{selection}=props.state,cell=findCellClosestToPos(selection);return cell?[cell]:remirror_extension_positioner.sX.EMPTY}})),remirror_extension_positioner.sX.create({hasChanged:remirror_extension_positioner.Xf,getActive(props){var _a;let{selection}=props.state,table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let cells=null!=(_a=function(selection,rowIndex){let table=findTable(selection);if(!table)return;let map=TableMap.get(table.node);if(rowIndex>0||rowIndex>map.width-1)return;let cells=map.cellsInRect({left:0,right:map.width,top:rowIndex,bottom:rowIndex+1}),columnNodes=[];return cells.forEach(nodePos=>{columnNodes.push({node:table.node.nodeAt(nodePos),pos:table.start+nodePos})}),columnNodes}(selection,0))?_a:[];return 0===cells.length?remirror_extension_positioner.sX.EMPTY:cells},getID:data=>`${data.pos}`,getPosition(props){let{view,data:cell}=props,node=view.nodeDOM(cell.pos);if(!(0,remirror_core_utils.jd)(node))return remirror_extension_positioner.oI;let rect=node.getBoundingClientRect(),editorRect=view.dom.getBoundingClientRect(),width=rect.width,left=view.dom.scrollLeft+rect.left-editorRect.left-1,top=view.dom.scrollTop+rect.top-editorRect.top-1,columnTopRect=new DOMRect(rect.x-1,rect.y-1,width,1);return{x:left,y:top,width,height:1,rect:columnTopRect,visible:(0,remirror_extension_positioner.kl)(columnTopRect,view.dom)}}}).clone(()=>({getActive(props){var _a;let{selection}=props.state,table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let cells=null!=(_a=function(selection,columnIndex){let table=findTable(selection);if(!table)return;let map=TableMap.get(table.node);if(columnIndex>0||columnIndex>map.width-1)return;let cells=map.cellsInRect({left:columnIndex,right:columnIndex+1,top:0,bottom:map.height}),columnNodes=[];return cells.forEach(nodePos=>{columnNodes.push({node:table.node.nodeAt(nodePos),pos:table.start+nodePos})}),columnNodes}(selection,0))?_a:[];return 0===cells.length?remirror_extension_positioner.sX.EMPTY:cells},getPosition(props){let{view,data:cell}=props,node=view.nodeDOM(cell.pos);if(!(0,remirror_core_utils.jd)(node))return remirror_extension_positioner.oI;let rect=node.getBoundingClientRect(),editorRect=view.dom.getBoundingClientRect(),height=rect.height,left=view.dom.scrollLeft+rect.left-editorRect.left-1,top=view.dom.scrollTop+rect.top-editorRect.top-1,rowLeftRect=new DOMRect(rect.x-1,rect.y-1,1,height);return{x:left,y:top,width:1,height,rect:rowLeftRect,visible:(0,remirror_extension_positioner.kl)(rowLeftRect,view.dom)}}}));var activeCellColumnPositioner=remirror_extension_positioner.sX.create({hasChanged:remirror_extension_positioner.Xf,getActive(props){let{state,view}=props,{selection}=state,table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let cell=findCellClosestToPos(selection);if(!cell)return remirror_extension_positioner.sX.EMPTY;let{pos}=cell,tableNode=view.nodeDOM(table.pos),node=view.nodeDOM(pos);if(!(0,remirror_core_utils.jd)(tableNode)||!(0,remirror_core_utils.jd)(node))return remirror_extension_positioner.sX.EMPTY;let tableRect=tableNode.getBoundingClientRect(),rect=node.getBoundingClientRect();return[{pos,rect:new DOMRect(rect.x,tableRect.y,rect.width,tableRect.height)}]},getID:({pos})=>`${pos}`,getPosition(props){let{view,data:{rect}}=props,editorRect=view.dom.getBoundingClientRect(),height=rect.height,width=rect.width,left=view.dom.scrollLeft+rect.left-editorRect.left-1,top=view.dom.scrollTop+rect.top-editorRect.top-1;return{x:left,y:top,width,height,rect,visible:(0,remirror_extension_positioner.kl)(rect,view.dom)}}}),activeCellRowPositioner=activeCellColumnPositioner.clone(()=>({getActive(props){let{state,view}=props,{selection}=state,table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let cell=findCellClosestToPos(selection);if(!cell)return remirror_extension_positioner.sX.EMPTY;let{pos}=cell,tableNode=view.nodeDOM(table.pos),node=view.nodeDOM(pos);if(!(0,remirror_core_utils.jd)(tableNode)||!(0,remirror_core_utils.jd)(node))return remirror_extension_positioner.sX.EMPTY;let tableRect=tableNode.getBoundingClientRect(),rect=node.getBoundingClientRect();return[{pos,rect:new DOMRect(tableRect.x,rect.y,tableRect.width,rect.height)}]}}));activeCellColumnPositioner.clone(({getActive})=>({getActive(props){let[data]=getActive(props);if(!data)return remirror_extension_positioner.sX.EMPTY;let{selection}=props.state;if(!isCellSelection(selection)||!selection.isColSelection())return remirror_extension_positioner.sX.EMPTY;let table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let{node,start}=table,{$anchorCell,$headCell}=selection,map=TableMap.get(node),rect=map.rectBetween($anchorCell.pos-start,$headCell.pos-start);return rect.right-rect.left!=1?remirror_extension_positioner.sX.EMPTY:[data]}})),activeCellRowPositioner.clone(({getActive})=>({getActive(props){let[data]=getActive(props);if(!data)return remirror_extension_positioner.sX.EMPTY;let{selection}=props.state;if(!isCellSelection(selection)||!selection.isRowSelection())return remirror_extension_positioner.sX.EMPTY;let table=findTable(selection);if(!table)return remirror_extension_positioner.sX.EMPTY;let{node,start}=table,{$anchorCell,$headCell}=selection,map=TableMap.get(node),rect=map.rectBetween($anchorCell.pos-start,$headCell.pos-start);return rect.bottom-rect.top!=1?remirror_extension_positioner.sX.EMPTY:[data]}}));var cellSelectionPositioner=remirror_extension_positioner.sX.create({hasChanged:remirror_extension_positioner.Xf,getActive(props){let{selection}=props.state;return isCellSelection(selection)?[selection]:remirror_extension_positioner.sX.EMPTY},getPosition(props){let{view,data:selection}=props,{$headCell,$anchorCell}=selection,headNode=view.nodeDOM($headCell.pos),anchorNode=view.nodeDOM($anchorCell.pos);if(!(0,remirror_core_utils.jd)(headNode)||!(0,remirror_core_utils.jd)(anchorNode))return remirror_extension_positioner.oI;let rect=(0,remirror_core_utils.d3)(headNode.getBoundingClientRect(),anchorNode.getBoundingClientRect()),editorRect=view.dom.getBoundingClientRect(),height=rect.height,width=rect.width,left=view.dom.scrollLeft+rect.left-editorRect.left-1,top=view.dom.scrollTop+rect.top-editorRect.top-1;return{x:left,y:top,width,height,rect,visible:(0,remirror_extension_positioner.kl)(rect,view.dom)}}});cellSelectionPositioner.clone(({getActive})=>({getActive(props){let[selection]=getActive(props);return selection&&selection.isColSelection()?[selection]:remirror_extension_positioner.sX.EMPTY}})),cellSelectionPositioner.clone(({getActive})=>({getActive(props){let[selection]=getActive(props);return selection&&selection.isRowSelection()?[selection]:remirror_extension_positioner.sX.EMPTY}})),cellSelectionPositioner.clone(({getActive})=>({getActive(props){let[selection]=getActive(props);return selection&&selection.isColSelection()&&selection.isRowSelection()?[selection]:remirror_extension_positioner.sX.EMPTY}}))},35846:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return UnderlineExtension}});var _remirror_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80117),_remirror_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9436),_remirror_messages__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35708),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result},UnderlineExtension=class extends _remirror_core__WEBPACK_IMPORTED_MODULE_1__.MarkExtension{get name(){return"underline"}createTags(){return[_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FontStyle,_remirror_core__WEBPACK_IMPORTED_MODULE_2__.eX.FormattingMark]}createMarkSpec(extra,override){var _a;return{...override,attrs:extra.defaults(),parseDOM:[{tag:"u",getAttrs:extra.parse},{style:"text-decoration",getAttrs:node=>"underline"===node&&{}},...null!=(_a=override.parseDOM)?_a:[]],toDOM:mark=>["u",extra.dom(mark),0]}}toggleUnderline(selection){return(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.toggleMark)({type:this.type,selection})}shortcut(props){return this.toggleUnderline()(props)}};__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.command)({icon:"underline",label:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.bA.LABEL),description:({t})=>t(_remirror_messages__WEBPACK_IMPORTED_MODULE_0__.bA.DESCRIPTION)})],UnderlineExtension.prototype,"toggleUnderline",1),__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.keyBinding)({shortcut:_remirror_core__WEBPACK_IMPORTED_MODULE_2__.vO.Underline,command:"toggleUnderline"})],UnderlineExtension.prototype,"shortcut",1),UnderlineExtension=__decorateClass([(0,_remirror_core__WEBPACK_IMPORTED_MODULE_1__.extension)({})],UnderlineExtension)},67969:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A_:function(){return convertCommand},QF:function(){return chainCommands},Ux:function(){return chainableEditorState},fB:function(){return nonChainable}});var _remirror_core_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9436),_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62120);function chainableEditorState(tr,state){let proto=Object.getPrototypeOf(state),selection=tr.selection,doc=tr.doc,storedMarks=tr.storedMarks,properties=(0,_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_0__.Ry)();for(let[key,value]of Object.entries(state))properties[key]={value};return Object.create(proto,{...properties,storedMarks:{get:()=>storedMarks},selection:{get:()=>selection},doc:{get:()=>doc},tr:{get:()=>(selection=tr.selection,doc=tr.doc,storedMarks=tr.storedMarks,tr)}})}function convertCommand(commandFunction){return({state,dispatch,view,tr})=>commandFunction(chainableEditorState(tr,state),dispatch,view)}function nonChainable(commandFunction){return props=>{var _a;return(0,_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_0__.kG)(void 0===props.dispatch||props.dispatch===(null==(_a=props.view)?void 0:_a.dispatch),{code:_remirror_core_constants__WEBPACK_IMPORTED_MODULE_1__.mA.NON_CHAINABLE_COMMAND}),commandFunction(props)}}function chainCommands(...commands){return({state,dispatch,view,tr,...rest})=>{for(let element of commands)if(element({state,dispatch,view,tr,...rest}))return!0;return!1}}},16263:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O1:function(){return Remirror},tZ:function(){return useActive},l1:function(){return useAttrs},wK:function(){return useChainedCommands},xd:function(){return useCommands},TH:function(){return useCurrentSelection},Ml:function(){return useExtension},T6:function(){return useExtensionCustomEvent},zf:function(){return useExtensionEvent},z8:function(){return useHelpers},QT:function(){return useI18n},iF:function(){return useRemirror},rj:function(){return useRemirrorContext},Ar:function(){return useUpdateReason}});var secondTarget,creator,hook,_events,_node,_decorations,_view,_portalContainer,_Component,_getPosition,_options,_selected,_contentDOM,_contentDOMWrapper,_dom,_forwardRef,_editorRef,plurals_namespaceObject={};__webpack_require__.r(plurals_namespaceObject),__webpack_require__.d(plurals_namespaceObject,{_in:function(){return _in},af:function(){return af},ak:function(){return ak},am:function(){return am},an:function(){return an},ar:function(){return ar},ars:function(){return ars},as:function(){return as},asa:function(){return asa},ast:function(){return ast},az:function(){return az},be:function(){return be},bem:function(){return bem},bez:function(){return bez},bg:function(){return bg},bho:function(){return bho},bm:function(){return bm},bn:function(){return bn},bo:function(){return bo},br:function(){return br},brx:function(){return brx},bs:function(){return bs},ca:function(){return ca},ce:function(){return ce},ceb:function(){return ceb},cgg:function(){return cgg},chr:function(){return chr},ckb:function(){return ckb},cs:function(){return cs},cy:function(){return cy},da:function(){return da},de:function(){return de},dsb:function(){return dsb},dv:function(){return dv},dz:function(){return dz},ee:function(){return ee},el:function(){return el},en:function(){return en},eo:function(){return eo},es:function(){return es},et:function(){return et},eu:function(){return eu},fa:function(){return fa},ff:function(){return ff},fi:function(){return fi},fil:function(){return fil},fo:function(){return fo},fr:function(){return fr},fur:function(){return fur},fy:function(){return fy},ga:function(){return ga},gd:function(){return gd},gl:function(){return gl},gsw:function(){return gsw},gu:function(){return gu},guw:function(){return guw},gv:function(){return gv},ha:function(){return ha},haw:function(){return haw},he:function(){return he},hi:function(){return hi},hr:function(){return hr},hsb:function(){return hsb},hu:function(){return hu},hy:function(){return hy},ia:function(){return ia},id:function(){return id},ig:function(){return ig},ii:function(){return ii},io:function(){return io},is:function(){return is},it:function(){return it},iu:function(){return iu},iw:function(){return iw},ja:function(){return ja},jbo:function(){return jbo},jgo:function(){return jgo},ji:function(){return ji},jmc:function(){return jmc},jv:function(){return jv},jw:function(){return jw},ka:function(){return ka},kab:function(){return kab},kaj:function(){return kaj},kcg:function(){return kcg},kde:function(){return kde},kea:function(){return kea},kk:function(){return kk},kkj:function(){return kkj},kl:function(){return kl},km:function(){return km},kn:function(){return kn},ko:function(){return ko},ks:function(){return ks},ksb:function(){return ksb},ksh:function(){return ksh},ku:function(){return ku},kw:function(){return kw},ky:function(){return ky},lag:function(){return lag},lb:function(){return lb},lg:function(){return lg},lkt:function(){return lkt},ln:function(){return ln},lo:function(){return lo},lt:function(){return lt},lv:function(){return lv},mas:function(){return mas},mg:function(){return mg},mgo:function(){return mgo},mk:function(){return mk},ml:function(){return ml},mn:function(){return mn},mo:function(){return mo},mr:function(){return mr},ms:function(){return ms},mt:function(){return mt},my:function(){return my},nah:function(){return nah},naq:function(){return naq},nb:function(){return nb},nd:function(){return nd},ne:function(){return ne},nl:function(){return nl},nn:function(){return nn},nnh:function(){return nnh},no:function(){return no},nqo:function(){return nqo},nr:function(){return nr},nso:function(){return nso},ny:function(){return ny},nyn:function(){return nyn},om:function(){return om},or:function(){return or},os:function(){return os1},osa:function(){return osa},pa:function(){return pa},pap:function(){return pap},pl:function(){return pl},prg:function(){return prg},ps:function(){return ps},pt:function(){return pt},pt_PT:function(){return pt_PT},rm:function(){return rm},ro:function(){return ro},rof:function(){return rof},root:function(){return root},ru:function(){return ru},rwk:function(){return rwk},sah:function(){return sah},saq:function(){return saq},sc:function(){return sc},scn:function(){return scn},sd:function(){return sd},sdh:function(){return sdh},se:function(){return se},seh:function(){return seh},ses:function(){return ses},sg:function(){return sg},sh:function(){return sh},shi:function(){return shi},si:function(){return si},sk:function(){return sk},sl:function(){return sl},sma:function(){return sma},smi:function(){return smi},smj:function(){return smj},smn:function(){return smn},sms:function(){return sms},sn:function(){return sn},so:function(){return so},sq:function(){return sq},sr:function(){return sr},ss:function(){return ss},ssy:function(){return ssy},st:function(){return st},su:function(){return su},sv:function(){return sv},sw:function(){return sw},syr:function(){return syr},ta:function(){return ta},te:function(){return te},teo:function(){return teo},th:function(){return th},ti:function(){return ti},tig:function(){return tig},tk:function(){return tk},tl:function(){return tl},tn:function(){return tn},to:function(){return to},tr:function(){return tr},ts:function(){return ts},tzm:function(){return tzm},ug:function(){return ug},uk:function(){return uk},ur:function(){return ur},uz:function(){return uz},ve:function(){return ve},vi:function(){return vi},vo:function(){return vo},vun:function(){return vun},wa:function(){return wa},wae:function(){return wae},wo:function(){return wo},xh:function(){return xh},xog:function(){return xog},yi:function(){return yi},yo:function(){return yo},yue:function(){return yue},zh:function(){return zh},zu:function(){return zu}});var react=__webpack_require__(2784),remirror_core_helpers=__webpack_require__(62120),remirror_core_constants=__webpack_require__(9436),useIsomorphicLayoutEffect="undefined"!=typeof document?react.useLayoutEffect:react.useEffect;function createGet(ref){return pathOrSelector=>{if(!ref.current)throw Error("`get` called outside of function scope. `get` can only be called within a function.");if(!pathOrSelector)return ref.current;if("function"!=typeof pathOrSelector)throw TypeError("Invalid arguments passed to `useContextHook`. The hook must be called with zero arguments, a getter function or a path string.");return pathOrSelector(ref.current)}}function createSet(ref){return partial=>{if(!ref.current)throw Error("`set` called outside of function scope. `set` can only be called within a function.");ref.current(context=>({...context,..."function"==typeof partial?partial(context):partial}))}}__webpack_require__(80472);let isString=s=>"string"==typeof s,isFunction=f=>"function"==typeof f,numberFormats=new Map,dateFormats=new Map;function date(locales){let format=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},memoize=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return value=>{if(isString(value)&&(value=new Date(value)),memoize){let key=cacheKey(locales,format),cachedFormatter=dateFormats.get(key);if(cachedFormatter)return cachedFormatter.format(value);let formatter=new Intl.DateTimeFormat(locales,format);return dateFormats.set(key,formatter),formatter.format(value)}let formatter1=new Intl.DateTimeFormat(locales,format);return formatter1.format(value)}}function number(locales){let format=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},memoize=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return value=>{if(memoize){let key=cacheKey(locales,format),cachedFormatter=numberFormats.get(key);if(cachedFormatter)return cachedFormatter.format(value);let formatter=new Intl.NumberFormat(locales,format);return numberFormats.set(key,formatter),formatter.format(value)}let formatter1=new Intl.NumberFormat(locales,format);return formatter1.format(value)}}function cacheKey(locales){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},localeKey=Array.isArray(locales)?locales.sort().join("-"):locales;return`${localeKey}-${JSON.stringify(options)}`}let UNICODE_REGEX=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/g,defaultFormats=function(locale,locales){let localeData=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{plurals:void 0},formats=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};locales=locales||locale;let{plurals}=localeData,style=format=>isString(format)?formats[format]||{style:format}:format,replaceOctothorpe=(value,message)=>ctx=>{let msg=isFunction(message)?message(ctx):message,norm=Array.isArray(msg)?msg:[msg],numberFormat=Object.keys(formats).length?style("number"):{},valueStr=number(locales,numberFormat)(value);return norm.map(m=>isString(m)?m.replace("#",valueStr):m)};return plurals||console.error(`Plurals for locale ${locale} aren't loaded. Use i18n.loadLocaleData method to load plurals for specific locale. Using other plural rule as a fallback.`),{plural(value,_ref){let{offset=0,...rules}=_ref,message=rules[value]||rules[null==plurals?void 0:plurals(value-offset)]||rules.other;return replaceOctothorpe(value-offset,message)},selectordinal(value,_ref2){let{offset=0,...rules}=_ref2,message=rules[value]||rules[null==plurals?void 0:plurals(value-offset,!0)]||rules.other;return replaceOctothorpe(value-offset,message)},select:(value,rules)=>rules[value]||rules.other,number:(value,format)=>number(locales,style(format))(value),date:(value,format)=>date(locales,style(format))(value),undefined:value=>value}};class EventEmitter{_events={};on(event,listener){return this._hasEvent(event)||(this._events[event]=[]),this._events[event].push(listener),()=>this.removeListener(event,listener)}removeListener(event,listener){if(!this._hasEvent(event))return;let index=this._events[event].indexOf(listener);~index&&this._events[event].splice(index,1)}emit(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this._hasEvent(event)&&this._events[event].map(listener=>listener.apply(this,args))}_hasEvent(event){return Array.isArray(this._events[event])}}class I18n extends EventEmitter{constructor(params){super(),this._messages={},this._localeData={},null!=params.missing&&(this._missing=params.missing),null!=params.messages&&this.load(params.messages),null!=params.localeData&&this.loadLocaleData(params.localeData),(null!=params.locale||null!=params.locales)&&this.activate(params.locale,params.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(locale,localeData){null==this._localeData[locale]?this._localeData[locale]=localeData:Object.assign(this._localeData[locale],localeData)}loadLocaleData(localeOrAllData,localeData){null!=localeData?this._loadLocaleData(localeOrAllData,localeData):Object.keys(localeOrAllData).forEach(locale=>this._loadLocaleData(locale,localeOrAllData[locale])),this.emit("change")}_load(locale,messages){null==this._messages[locale]?this._messages[locale]=messages:Object.assign(this._messages[locale],messages)}load(localeOrMessages,messages){null!=messages?this._load(localeOrMessages,messages):Object.keys(localeOrMessages).forEach(locale=>this._load(locale,localeOrMessages[locale])),this.emit("change")}activate(locale,locales){this._locale=locale,this._locales=locales,this.emit("change")}_(id){var locale,locales,localeData;let translation,values=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{message,formats,context}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};isString(id)||(values=id.values||values,message=id.message,context=id.context,id=id.id);let messageMissing=!context&&!this.messages[id],contextualMessageMissing=context&&!this.messages[context][id],messageUnreachable=contextualMessageMissing||messageMissing,missing=this._missing;return missing&&messageUnreachable?isFunction(missing)?missing(this._locale,id,context):missing:(messageUnreachable&&this.emit("missing",{id,context,locale:this._locale}),isString(translation=context&&!contextualMessageMissing?this.messages[context][id]||message||id:this.messages[id]||message||id)&&UNICODE_REGEX.test(translation))?JSON.parse(`"${translation}"`):isString(translation)?translation:(locale=this._locale,locales=this._locales,localeData=this.localeData,function(values){let formats=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ctx=function(locale,locales,values,formats,localeData){let formatters=defaultFormats(locale,locales,localeData,formats),ctx=(name,type,format)=>{let value=values[name],formatted=formatters[type](value,format),message=isFunction(formatted)?formatted(ctx):formatted;return Array.isArray(message)?message.join(""):message};return ctx}(locale,locales,values,formats,localeData),formatMessage=message=>Array.isArray(message)?message.reduce((message,token)=>{if(isString(token))return message+token;let[name,type,format]=token,interpolatedFormat={};null==format||isString(format)?interpolatedFormat=format:Object.keys(format).forEach(key=>{interpolatedFormat[key]=formatMessage(format[key])});let value=ctx(name,type,interpolatedFormat);return null==value?message:message+value},""):message,result=formatMessage(translation);return isString(result)&&UNICODE_REGEX.test(result)?JSON.parse(`"${result.trim()}"`):isString(result)?result.trim():result})(values,formats)}date(value,format){return date(this._locales||this._locale,format)(value)}number(value,format){return number(this._locales||this._locale,format)(value)}}let esm_i18n=function(){let params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new I18n(params)}();function a(n,ord){return ord?"other":1==n?"one":"other"}function b(n,ord){return ord?"other":0==n||1==n?"one":"other"}function c(n,ord){var v0=!String(n).split(".")[1];return ord?"other":1==n&&v0?"one":"other"}function d(n,ord){return"other"}function e(n,ord){return ord?"other":1==n?"one":2==n?"two":"other"}let _in=d,af=a,ak=b;function am(n,ord){return ord?"other":n>=0&&n<=1?"one":"other"}let an=a;function ar(n,ord){var s=String(n).split("."),n100=Number(s[0])==n&&s[0].slice(-2);return ord?"other":0==n?"zero":1==n?"one":2==n?"two":n100>=3&&n100<=10?"few":n100>=11&&n100<=99?"many":"other"}function ars(n,ord){var s=String(n).split("."),n100=Number(s[0])==n&&s[0].slice(-2);return ord?"other":0==n?"zero":1==n?"one":2==n?"two":n100>=3&&n100<=10?"few":n100>=11&&n100<=99?"many":"other"}function as(n,ord){return ord?1==n||5==n||7==n||8==n||9==n||10==n?"one":2==n||3==n?"two":4==n?"few":6==n?"many":"other":n>=0&&n<=1?"one":"other"}let asa=a,ast=c;function az(n,ord){var i=String(n).split(".")[0],i10=i.slice(-1),i100=i.slice(-2),i1000=i.slice(-3);return ord?1==i10||2==i10||5==i10||7==i10||8==i10||20==i100||50==i100||70==i100||80==i100?"one":3==i10||4==i10||100==i1000||200==i1000||300==i1000||400==i1000||500==i1000||600==i1000||700==i1000||800==i1000||900==i1000?"few":0==i||6==i10||40==i100||60==i100||90==i100?"many":"other":1==n?"one":"other"}function be(n,ord){var s=String(n).split("."),t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);return ord?(2==n10||3==n10)&&12!=n100&&13!=n100?"few":"other":1==n10&&11!=n100?"one":n10>=2&&n10<=4&&(n100<12||n100>14)?"few":t0&&0==n10||n10>=5&&n10<=9||n100>=11&&n100<=14?"many":"other"}let bem=a,bez=a,bg=a,bho=b,bm=d;function bn(n,ord){return ord?1==n||5==n||7==n||8==n||9==n||10==n?"one":2==n||3==n?"two":4==n?"few":6==n?"many":"other":n>=0&&n<=1?"one":"other"}let bo=d;function br(n,ord){var s=String(n).split("."),t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2),n1000000=t0&&s[0].slice(-6);return ord?"other":1==n10&&11!=n100&&71!=n100&&91!=n100?"one":2==n10&&12!=n100&&72!=n100&&92!=n100?"two":(3==n10||4==n10||9==n10)&&(n100<10||n100>19)&&(n100<70||n100>79)&&(n100<90||n100>99)?"few":0!=n&&t0&&0==n1000000?"many":"other"}let brx=a;function bs(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),i100=i.slice(-2),f10=f.slice(-1),f100=f.slice(-2);return ord?"other":v0&&1==i10&&11!=i100||1==f10&&11!=f100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)||f10>=2&&f10<=4&&(f100<12||f100>14)?"few":"other"}function ca(n,ord){var v0=!String(n).split(".")[1];return ord?1==n||3==n?"one":2==n?"two":4==n?"few":"other":1==n&&v0?"one":"other"}let ce=a;function ceb(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),f10=f.slice(-1);return ord?"other":v0&&(1==i||2==i||3==i)||v0&&4!=i10&&6!=i10&&9!=i10||!v0&&4!=f10&&6!=f10&&9!=f10?"one":"other"}let cgg=a,chr=a,ckb=a;function cs(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1];return ord?"other":1==n&&v0?"one":i>=2&&i<=4&&v0?"few":v0?"other":"many"}function cy(n,ord){return ord?0==n||7==n||8==n||9==n?"zero":1==n?"one":2==n?"two":3==n||4==n?"few":5==n||6==n?"many":"other":0==n?"zero":1==n?"one":2==n?"two":3==n?"few":6==n?"many":"other"}function da(n,ord){var s=String(n).split("."),i=s[0],t0=Number(s[0])==n;return ord?"other":1!=n&&(t0||0!=i&&1!=i)?"other":"one"}let de=c;function dsb(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i100=i.slice(-2),f100=f.slice(-2);return ord?"other":v0&&1==i100||1==f100?"one":v0&&2==i100||2==f100?"two":v0&&(3==i100||4==i100)||3==f100||4==f100?"few":"other"}let dv=a,dz=d,ee=a,el=a;function en(n,ord){var s=String(n).split("."),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);return ord?1==n10&&11!=n100?"one":2==n10&&12!=n100?"two":3==n10&&13!=n100?"few":"other":1==n&&v0?"one":"other"}let eo=a,es=a,et=c,eu=a;function fa(n,ord){return ord?"other":n>=0&&n<=1?"one":"other"}function ff(n,ord){return ord?"other":n>=0&&n<2?"one":"other"}let fi=c;function fil(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),f10=f.slice(-1);return ord?1==n?"one":"other":v0&&(1==i||2==i||3==i)||v0&&4!=i10&&6!=i10&&9!=i10||!v0&&4!=f10&&6!=f10&&9!=f10?"one":"other"}let fo=a;function fr(n,ord){return ord?1==n?"one":"other":n>=0&&n<2?"one":"other"}let fur=a,fy=c;function ga(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?1==n?"one":"other":1==n?"one":2==n?"two":t0&&n>=3&&n<=6?"few":t0&&n>=7&&n<=10?"many":"other"}function gd(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?1==n||11==n?"one":2==n||12==n?"two":3==n||13==n?"few":"other":1==n||11==n?"one":2==n||12==n?"two":t0&&n>=3&&n<=10||t0&&n>=13&&n<=19?"few":"other"}let gl=c,gsw=a;function gu(n,ord){return ord?1==n?"one":2==n||3==n?"two":4==n?"few":6==n?"many":"other":n>=0&&n<=1?"one":"other"}let guw=b;function gv(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],i10=i.slice(-1),i100=i.slice(-2);return ord?"other":v0&&1==i10?"one":v0&&2==i10?"two":v0&&(0==i100||20==i100||40==i100||60==i100||80==i100)?"few":v0?"other":"many"}let ha=a,haw=a;function he(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1);return ord?"other":1==n&&v0?"one":2==i&&v0?"two":v0&&(n<0||n>10)&&t0&&0==n10?"many":"other"}function hi(n,ord){return ord?1==n?"one":2==n||3==n?"two":4==n?"few":6==n?"many":"other":n>=0&&n<=1?"one":"other"}function hr(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),i100=i.slice(-2),f10=f.slice(-1),f100=f.slice(-2);return ord?"other":v0&&1==i10&&11!=i100||1==f10&&11!=f100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)||f10>=2&&f10<=4&&(f100<12||f100>14)?"few":"other"}function hsb(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i100=i.slice(-2),f100=f.slice(-2);return ord?"other":v0&&1==i100||1==f100?"one":v0&&2==i100||2==f100?"two":v0&&(3==i100||4==i100)||3==f100||4==f100?"few":"other"}function hu(n,ord){return ord?1==n||5==n?"one":"other":1==n?"one":"other"}function hy(n,ord){return ord?1==n?"one":"other":n>=0&&n<2?"one":"other"}let ia=c,id=d,ig=d,ii=d,io=c;function is(n,ord){var s=String(n).split("."),i=s[0],t0=Number(s[0])==n,i10=i.slice(-1),i100=i.slice(-2);return ord?"other":t0&&1==i10&&11!=i100||!t0?"one":"other"}function it(n,ord){var v0=!String(n).split(".")[1];return ord?11==n||8==n||80==n||800==n?"many":"other":1==n&&v0?"one":"other"}let iu=e;function iw(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1);return ord?"other":1==n&&v0?"one":2==i&&v0?"two":v0&&(n<0||n>10)&&t0&&0==n10?"many":"other"}let ja=d,jbo=d,jgo=a,ji=c,jmc=a,jv=d,jw=d;function ka(n,ord){var i=String(n).split(".")[0],i100=i.slice(-2);return ord?1==i?"one":0==i||i100>=2&&i100<=20||40==i100||60==i100||80==i100?"many":"other":1==n?"one":"other"}function kab(n,ord){return ord?"other":n>=0&&n<2?"one":"other"}let kaj=a,kcg=a,kde=d,kea=d;function kk(n,ord){var s=String(n).split("."),t0=Number(s[0])==n,n10=t0&&s[0].slice(-1);return ord?6==n10||9==n10||t0&&0==n10&&0!=n?"many":"other":1==n?"one":"other"}let kkj=a,kl=a,km=d;function kn(n,ord){return ord?"other":n>=0&&n<=1?"one":"other"}let ko=d,ks=a,ksb=a;function ksh(n,ord){return ord?"other":0==n?"zero":1==n?"one":"other"}let ku=a;function kw(n,ord){var s=String(n).split("."),t0=Number(s[0])==n,n100=t0&&s[0].slice(-2),n1000=t0&&s[0].slice(-3),n100000=t0&&s[0].slice(-5),n1000000=t0&&s[0].slice(-6);return ord?t0&&n>=1&&n<=4||n100>=1&&n100<=4||n100>=21&&n100<=24||n100>=41&&n100<=44||n100>=61&&n100<=64||n100>=81&&n100<=84?"one":5==n||5==n100?"many":"other":0==n?"zero":1==n?"one":2==n100||22==n100||42==n100||62==n100||82==n100||t0&&0==n1000&&(n100000>=1e3&&n100000<=2e4||4e4==n100000||6e4==n100000||8e4==n100000)||0!=n&&1e5==n1000000?"two":3==n100||23==n100||43==n100||63==n100||83==n100?"few":1!=n&&(1==n100||21==n100||41==n100||61==n100||81==n100)?"many":"other"}let ky=a;function lag(n,ord){var i=String(n).split(".")[0];return ord?"other":0==n?"zero":(0==i||1==i)&&0!=n?"one":"other"}let lb=a,lg=a,lkt=d,ln=b;function lo(n,ord){return ord&&1==n?"one":"other"}function lt(n,ord){var s=String(n).split("."),f=s[1]||"",t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);return ord?"other":1==n10&&(n100<11||n100>19)?"one":n10>=2&&n10<=9&&(n100<11||n100>19)?"few":0!=f?"many":"other"}function lv(n,ord){var s=String(n).split("."),f=s[1]||"",v=f.length,t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2),f100=f.slice(-2),f10=f.slice(-1);return ord?"other":t0&&0==n10||n100>=11&&n100<=19||2==v&&f100>=11&&f100<=19?"zero":1==n10&&11!=n100||2==v&&1==f10&&11!=f100||2!=v&&1==f10?"one":"other"}let mas=a,mg=b,mgo=a;function mk(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),i100=i.slice(-2),f10=f.slice(-1),f100=f.slice(-2);return ord?1==i10&&11!=i100?"one":2==i10&&12!=i100?"two":(7==i10||8==i10)&&17!=i100&&18!=i100?"many":"other":v0&&1==i10&&11!=i100||1==f10&&11!=f100?"one":"other"}let ml=a,mn=a;function mo(n,ord){var s=String(n).split("."),v0=!s[1],n100=Number(s[0])==n&&s[0].slice(-2);return ord?1==n?"one":"other":1==n&&v0?"one":!v0||0==n||n100>=2&&n100<=19?"few":"other"}function mr(n,ord){return ord?1==n?"one":2==n||3==n?"two":4==n?"few":"other":1==n?"one":"other"}function ms(n,ord){return ord&&1==n?"one":"other"}function mt(n,ord){var s=String(n).split("."),n100=Number(s[0])==n&&s[0].slice(-2);return ord?"other":1==n?"one":0==n||n100>=2&&n100<=10?"few":n100>=11&&n100<=19?"many":"other"}let my=d,nah=a,naq=e,nb=a,nd=a;function ne(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?t0&&n>=1&&n<=4?"one":"other":1==n?"one":"other"}let nl=c,nn=a,nnh=a,no=a,nqo=d,nr=a,nso=b,ny=a,nyn=a,om=a;function or(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?1==n||5==n||t0&&n>=7&&n<=9?"one":2==n||3==n?"two":4==n?"few":6==n?"many":"other":1==n?"one":"other"}let os1=a,osa=d,pa=b,pap=a;function pl(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],i10=i.slice(-1),i100=i.slice(-2);return ord?"other":1==n&&v0?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)?"few":v0&&1!=i&&(0==i10||1==i10)||v0&&i10>=5&&i10<=9||v0&&i100>=12&&i100<=14?"many":"other"}function prg(n,ord){var s=String(n).split("."),f=s[1]||"",v=f.length,t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2),f100=f.slice(-2),f10=f.slice(-1);return ord?"other":t0&&0==n10||n100>=11&&n100<=19||2==v&&f100>=11&&f100<=19?"zero":1==n10&&11!=n100||2==v&&1==f10&&11!=f100||2!=v&&1==f10?"one":"other"}let ps=a;function pt(n,ord){var i=String(n).split(".")[0];return ord?"other":0==i||1==i?"one":"other"}let pt_PT=c,rm=a;function ro(n,ord){var s=String(n).split("."),v0=!s[1],n100=Number(s[0])==n&&s[0].slice(-2);return ord?1==n?"one":"other":1==n&&v0?"one":!v0||0==n||n100>=2&&n100<=19?"few":"other"}let rof=a,root=d;function ru(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],i10=i.slice(-1),i100=i.slice(-2);return ord?"other":v0&&1==i10&&11!=i100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)?"few":v0&&0==i10||v0&&i10>=5&&i10<=9||v0&&i100>=11&&i100<=14?"many":"other"}let rwk=a,sah=d,saq=a;function sc(n,ord){var v0=!String(n).split(".")[1];return ord?11==n||8==n||80==n||800==n?"many":"other":1==n&&v0?"one":"other"}function scn(n,ord){var v0=!String(n).split(".")[1];return ord?11==n||8==n||80==n||800==n?"many":"other":1==n&&v0?"one":"other"}let sd=a,sdh=a,se=e,seh=a,ses=d,sg=d;function sh(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),i100=i.slice(-2),f10=f.slice(-1),f100=f.slice(-2);return ord?"other":v0&&1==i10&&11!=i100||1==f10&&11!=f100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)||f10>=2&&f10<=4&&(f100<12||f100>14)?"few":"other"}function shi(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?"other":n>=0&&n<=1?"one":t0&&n>=2&&n<=10?"few":"other"}function si(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"";return ord?"other":0==n||1==n||0==i&&1==f?"one":"other"}function sk(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1];return ord?"other":1==n&&v0?"one":i>=2&&i<=4&&v0?"few":v0?"other":"many"}function sl(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],i100=i.slice(-2);return ord?"other":v0&&1==i100?"one":v0&&2==i100?"two":v0&&(3==i100||4==i100)||!v0?"few":"other"}let sma=e,smi=e,smj=e,smn=e,sms=e,sn=a,so=a;function sq(n,ord){var s=String(n).split("."),t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);return ord?1==n?"one":4==n10&&14!=n100?"many":"other":1==n?"one":"other"}function sr(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),i100=i.slice(-2),f10=f.slice(-1),f100=f.slice(-2);return ord?"other":v0&&1==i10&&11!=i100||1==f10&&11!=f100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)||f10>=2&&f10<=4&&(f100<12||f100>14)?"few":"other"}let ss=a,ssy=a,st=a,su=d;function sv(n,ord){var s=String(n).split("."),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);return ord?(1==n10||2==n10)&&11!=n100&&12!=n100?"one":"other":1==n&&v0?"one":"other"}let sw=c,syr=a,ta=a,te=a,teo=a,th=d,ti=b,tig=a;function tk(n,ord){var s=String(n).split("."),n10=Number(s[0])==n&&s[0].slice(-1);return ord?6==n10||9==n10||10==n?"few":"other":1==n?"one":"other"}function tl(n,ord){var s=String(n).split("."),i=s[0],f=s[1]||"",v0=!s[1],i10=i.slice(-1),f10=f.slice(-1);return ord?1==n?"one":"other":v0&&(1==i||2==i||3==i)||v0&&4!=i10&&6!=i10&&9!=i10||!v0&&4!=f10&&6!=f10&&9!=f10?"one":"other"}let tn=a,to=d,tr=a,ts=a;function tzm(n,ord){var t0=Number(String(n).split(".")[0])==n;return ord?"other":0==n||1==n||t0&&n>=11&&n<=99?"one":"other"}let ug=a;function uk(n,ord){var s=String(n).split("."),i=s[0],v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2),i10=i.slice(-1),i100=i.slice(-2);return ord?3==n10&&13!=n100?"few":"other":v0&&1==i10&&11!=i100?"one":v0&&i10>=2&&i10<=4&&(i100<12||i100>14)?"few":v0&&0==i10||v0&&i10>=5&&i10<=9||v0&&i100>=11&&i100<=14?"many":"other"}let ur=c,uz=a,ve=a;function vi(n,ord){return ord&&1==n?"one":"other"}let vo=a,vun=a,wa=b,wae=a,wo=d,xh=a,xog=a,yi=c,yo=d,yue=d,zh=d;function zu(n,ord){return ord?"other":n>=0&&n<=1?"one":"other"}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},plurals_exports={};__copyProps(plurals_exports,plurals_namespaceObject,"default"),secondTarget&&__copyProps(secondTarget,plurals_namespaceObject,"default"),esm_i18n.loadLocaleData("en",{plurals:plurals_exports.en}),esm_i18n.load("en",{"components.image.dialog.description.label":"Image description","components.image.dialog.description.placeholder":"Add a short description here.","components.image.dialog.label":"Image","components.image.dialog.source.label":"Image source","components.image.menu.icon.label":"Image","components.italic.menu.icon.label":"Italic","components.underline.menu.icon.label":"Underline","extension.command.add-annotation.label":"Add annotation","extension.command.center-align.label":"Center align","extension.command.convert-paragraph.description":"Convert current block into a paragraph block.","extension.command.convert-paragraph.label":"Convert Paragraph","extension.command.copy.description":"Copy the selected text","extension.command.copy.label":"Copy","extension.command.create-table.description":"Create a table with set number of rows and columns.","extension.command.create-table.label":"Create table","extension.command.cut.description":"Cut the selected text","extension.command.cut.label":"Cut","extension.command.decrease-font-size.description":"Decrease the font size.","extension.command.decrease-font-size.label":"Decrease","extension.command.decrease-indent.label":"Decrease indentation","extension.command.increase-font-size.description":"Increase the font size","extension.command.increase-font-size.label":"Increase","extension.command.increase-indent.label":"Increase indentation","extension.command.insert-emoji.label":"Insert Emoji","extension.command.insert-horizontal-rule.description":"Separate content with a diving horizontal line","extension.command.insert-horizontal-rule.label":"Divider","extension.command.insert-paragraph.description":"Insert a new paragraph","extension.command.insert-paragraph.label":"Insert Paragraph","extension.command.justify-align.label":"Justify","extension.command.left-align.label":"Left align","extension.command.paste.description":"Paste content into the editor","extension.command.paste.label":"Paste","extension.command.redo.description":"Redo the most recent action","extension.command.redo.label":"Redo","extension.command.remove-annotation.label":"Remove annotation","extension.command.right-align.label":"Right align","extension.command.select-all.description":"Select all content within the editor","extension.command.select-all.label":"Select all","extension.command.set-casing.label":"Set text case","extension.command.set-font-size.description":"Set the font size for the selected text.","extension.command.set-font-size.label":"Font size","extension.command.set-text-color.description":"Set the text color for the selected text.","extension.command.set-text-color.label":"Text color","extension.command.set-text-direction.description":[["dir","select",{ltr:"Set the text direction from left to right",rtl:"Set the text direction from right to left",other:"Reset text direction"}]],"extension.command.set-text-direction.label":[["dir","select",{ltr:"Left-To-Right",rtl:"Right-To-Left",other:"Reset Direction"}]],"extension.command.set-text-highlight.description":"Set the text highlight color for the selected text.","extension.command.set-text-highlight.label":"Text highlight","extension.command.toggle-blockquote.description":"Add blockquote formatting to the selected text","extension.command.toggle-blockquote.label":"Blockquote","extension.command.toggle-bold.description":"Add bold formatting to the selected text","extension.command.toggle-bold.label":"Bold","extension.command.toggle-bullet-list.description":"Bulleted list","extension.command.toggle-callout.description":[["type","select",{info:"Create an information callout block",warning:"Create a warning callout block",error:"Create an error callout block",success:"Create a success callout block",other:"Create a callout block"}]],"extension.command.toggle-callout.label":[["type","select",{info:"Information Callout",warning:"Warning Callout",error:"Error Callout",success:"Success Callout",other:"Callout"}]],"extension.command.toggle-code-block.description":"Add a code block","extension.command.toggle-code-block.label":"Codeblock","extension.command.toggle-code.description":"Add inline code formatting to the selected text","extension.command.toggle-code.label":"Code","extension.command.toggle-columns.description":[["count","select",{2:"Split the block into two columns",3:"Split the current block into three columns",4:"Split the current block into four columns",other:"Split the current block into multiple columns"}]],"extension.command.toggle-columns.label":[["count","select",{2:"Two Column Block",3:"Three Column Block",4:"Four Column Block",other:"Multi Column Block"}]],"extension.command.toggle-heading.label":[["level","select",{1:"Heading 1",2:"Heading 2",3:"Heading 3",4:"Heading 4",5:"Heading 5",6:"Heading 6",other:"Heading"}]],"extension.command.toggle-italic.description":"Italicize the selected text","extension.command.toggle-italic.label":"Italic","extension.command.toggle-ordered-list.label":"Ordered list","extension.command.toggle-strike.description":"Strikethrough the selected text","extension.command.toggle-strike.label":"Strikethrough","extension.command.toggle-subscript.label":"Subscript","extension.command.toggle-superscript.label":"Superscript","extension.command.toggle-task-list.description":"Tasked list","extension.command.toggle-underline.description":"Underline the selected text","extension.command.toggle-underline.label":"Underline","extension.command.toggle-upper-case.label":[["case","select",{upper:"Uppercase",lower:"Lowercase",capitalize:"Sentence case",smallCaps:"Small caps",other:"Text case"}]],"extension.command.toggle-whitespace.description":"Show hidden whitespace characters in your editor.","extension.command.toggle-whitespace.label":"Toggle Whitespace","extension.command.undo.description":"Undo the most recent action","extension.command.undo.label":"Undo","extension.command.update-annotation.label":"Update annotation","extension.table.column_count":[["count","plural",{one:["#"," column"],other:["#"," columns"]}]],"extension.table.row_count":[["count","plural",{one:["#"," row"],other:["#"," rows"]}]],"keyboard.shortcut.alt":"Alt","keyboard.shortcut.arrowDown":"Arrow Down","keyboard.shortcut.arrowLeft":"Arrow Left","keyboard.shortcut.arrowRight":"Arrow Right","keyboard.shortcut.arrowUp":"Arrow Up","keyboard.shortcut.backspace":"Backspace","keyboard.shortcut.capsLock":"Caps Lock","keyboard.shortcut.command":"Command","keyboard.shortcut.control":"Control","keyboard.shortcut.delete":"Delete","keyboard.shortcut.end":"End","keyboard.shortcut.enter":"Enter","keyboard.shortcut.escape":"Enter","keyboard.shortcut.home":"Home","keyboard.shortcut.pageDown":"Page Down","keyboard.shortcut.pageUp":"Page Up","keyboard.shortcut.shift":"Shift","keyboard.shortcut.space":"Space","keyboard.shortcut.tab":"Tab","react-components.mention-atom-component.zero-items":"No items available","react-components.top-menu.label":"Static Menu","ui.text-color.black":"Black","ui.text-color.blue":"Blue","ui.text-color.blue.hue":["Blue ",["hue"]],"ui.text-color.cyan":"Cyan","ui.text-color.cyan.hue":["Cyan ",["hue"]],"ui.text-color.grape":"Grape","ui.text-color.grape.hue":["Grape ",["hue"]],"ui.text-color.gray":"Gray","ui.text-color.gray.hue":["Gray ",["hue"]],"ui.text-color.green":"Green","ui.text-color.green.hue":["Green ",["hue"]],"ui.text-color.indigo":"Indigo","ui.text-color.indigo.hue":["Indigo ",["hue"]],"ui.text-color.lime":"Lime","ui.text-color.lime.hue":["Lime ",["hue"]],"ui.text-color.orange":"Orange","ui.text-color.orange.hue":["Orange ",["hue"]],"ui.text-color.pink":"Pink","ui.text-color.pink.hue":["Pink ",["hue"]],"ui.text-color.red":"Red","ui.text-color.red.hue":["Red ",["hue"]],"ui.text-color.teal":"Teal","ui.text-color.teal.hue":["Teal ",["hue"]],"ui.text-color.transparent":"Transparent","ui.text-color.violet":"Violet","ui.text-color.violet.hue":["Violet ",["hue"]],"ui.text-color.white":"White","ui.text-color.yellow":"Yellow","ui.text-color.yellow.hue":["Yellow ",["hue"]]}),esm_i18n.activate("en");var remirror_core=__webpack_require__(80117),remirror_core_utils=__webpack_require__(85775),dist=__webpack_require__(21692),remirror_extension_doc_defProp=Object.defineProperty,remirror_extension_doc_getOwnPropDesc=Object.getOwnPropertyDescriptor,__defNormalProp=(obj,key,value)=>key in obj?remirror_extension_doc_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_doc_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_doc_defProp(target,key,result),result},__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),DocExtension=class extends remirror_core.NodeExtension{get name(){return"doc"}createNodeSpec(_,override){let{docAttributes,content}=this.options,attrs=(0,remirror_core_helpers.Ry)();if((0,remirror_core_helpers.PO)(docAttributes))for(let[key,value]of(0,remirror_core_helpers.qh)(docAttributes))attrs[key]={default:value};else for(let key1 of docAttributes)attrs[key1]={default:null};return{attrs,content,...override}}setDocAttributes(attrs){return({tr,dispatch})=>{if(dispatch){for(let[key,value]of Object.entries(attrs))tr.step(new SetDocAttributeStep(key,value));dispatch(tr)}return!0}}isDefaultDocNode({state=this.store.getState(),options}={}){return(0,remirror_core_utils.$q)(state.doc,options)}};__decorateClass([(0,remirror_core.command)()],DocExtension.prototype,"setDocAttributes",1),__decorateClass([(0,remirror_core.helper)()],DocExtension.prototype,"isDefaultDocNode",1),DocExtension=__decorateClass([(0,remirror_core.extension)({defaultOptions:{content:"block+",docAttributes:[]},defaultPriority:remirror_core_constants.xV.Medium,staticKeys:["content","docAttributes"],disableExtraAttributes:!0})],DocExtension);var STEP_TYPE="SetDocAttribute",REVERT_STEP_TYPE="RevertSetDocAttribute",SetDocAttributeStep=class extends dist.h8{constructor(key,value,stepType=STEP_TYPE){super(),__publicField(this,"key"),__publicField(this,"stepType"),__publicField(this,"value"),__publicField(this,"previous"),this.stepType=stepType,this.key=key,this.value=value}static fromJSON(_,json){return new SetDocAttributeStep(json.key,json.value,json.stepType)}apply(doc){this.previous=doc.attrs[this.key];let attrs={...doc.attrs,[this.key]:this.value};return dist.oo.ok(doc.type.create(attrs,doc.content,doc.marks))}invert(){return new SetDocAttributeStep(this.key,this.previous,REVERT_STEP_TYPE)}map(){return this}toJSON(){return{stepType:this.stepType,key:this.key,value:this.value}}};try{dist.h8.jsonID(STEP_TYPE,SetDocAttributeStep),dist.h8.jsonID(REVERT_STEP_TYPE,SetDocAttributeStep)}catch(error){if(!error.message.startsWith("Duplicate use of step JSON ID"))throw error}var remirror_extension_events=__webpack_require__(86924),prosemirror_keymap_dist=__webpack_require__(86271),prosemirror_state_dist=__webpack_require__(39451),prosemirror_model_dist=__webpack_require__(57981),prosemirror_view_dist=__webpack_require__(3401);class GapCursor extends prosemirror_state_dist.Y1{constructor($pos){super($pos,$pos)}map(doc,mapping){let $pos=doc.resolve(mapping.map(this.head));return GapCursor.valid($pos)?new GapCursor($pos):prosemirror_state_dist.Y1.near($pos)}content(){return prosemirror_model_dist.p2.empty}eq(other){return other instanceof GapCursor&&other.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(doc,json){if("number"!=typeof json.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(doc.resolve(json.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid($pos){let parent=$pos.parent;if(parent.isTextblock||!function($pos){for(let d=$pos.depth;d>=0;d--){let index=$pos.index(d),parent=$pos.node(d);if(0==index){if(parent.type.spec.isolating)return!0;continue}for(let before=parent.child(index-1);;before=before.lastChild){if(0==before.childCount&&!before.inlineContent||before.isAtom||before.type.spec.isolating)return!0;if(before.inlineContent)return!1}}return!0}($pos)||!function($pos){for(let d=$pos.depth;d>=0;d--){let index=$pos.indexAfter(d),parent=$pos.node(d);if(index==parent.childCount){if(parent.type.spec.isolating)return!0;continue}for(let after=parent.child(index);;after=after.firstChild){if(0==after.childCount&&!after.inlineContent||after.isAtom||after.type.spec.isolating)return!0;if(after.inlineContent)return!1}}return!0}($pos))return!1;let override=parent.type.spec.allowGapCursor;if(null!=override)return override;let deflt=parent.contentMatchAt($pos.index()).defaultType;return deflt&&deflt.isTextblock}static findGapCursorFrom($pos,dir,mustMove=!1){search:for(;;){if(!mustMove&&GapCursor.valid($pos))return $pos;let pos=$pos.pos,next=null;for(let d=$pos.depth;;d--){let parent=$pos.node(d);if(dir>0?$pos.indexAfter(d)<parent.childCount:$pos.index(d)>0){next=parent.child(dir>0?$pos.indexAfter(d):$pos.index(d)-1);break}if(0==d)return null;pos+=dir;let $cur=$pos.doc.resolve(pos);if(GapCursor.valid($cur))return $cur}for(;;){let inside=dir>0?next.firstChild:next.lastChild;if(!inside){if(next.isAtom&&!next.isText&&!prosemirror_state_dist.qv.isSelectable(next)){$pos=$pos.doc.resolve(pos+next.nodeSize*dir),mustMove=!1;continue search}break}next=inside,pos+=dir;let $cur1=$pos.doc.resolve(pos);if(GapCursor.valid($cur1))return $cur1}return null}}}GapCursor.prototype.visible=!1,GapCursor.findFrom=GapCursor.findGapCursorFrom,prosemirror_state_dist.Y1.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(pos){this.pos=pos}map(mapping){return new GapBookmark(mapping.map(this.pos))}resolve(doc){let $pos=doc.resolve(this.pos);return GapCursor.valid($pos)?new GapCursor($pos):prosemirror_state_dist.Y1.near($pos)}}let handleKeyDown=(0,prosemirror_keymap_dist.$)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(axis,dir){let dirStr="vert"==axis?dir>0?"down":"up":dir>0?"right":"left";return function(state,dispatch,view){let sel=state.selection,$start=dir>0?sel.$to:sel.$from,mustMove=sel.empty;if(sel instanceof prosemirror_state_dist.Bs){if(!view.endOfTextblock(dirStr)||0==$start.depth)return!1;mustMove=!1,$start=state.doc.resolve(dir>0?$start.after():$start.before())}let $found=GapCursor.findGapCursorFrom($start,dir,mustMove);return!!$found&&(dispatch&&dispatch(state.tr.setSelection(new GapCursor($found))),!0)}}function handleClick(view,pos,event){if(!view||!view.editable)return!1;let $pos=view.state.doc.resolve(pos);if(!GapCursor.valid($pos))return!1;let clickPos=view.posAtCoords({left:event.clientX,top:event.clientY});return!(clickPos&&clickPos.inside>-1&&prosemirror_state_dist.qv.isSelectable(view.state.doc.nodeAt(clickPos.inside)))&&(view.dispatch(view.state.tr.setSelection(new GapCursor($pos))),!0)}function beforeinput(view,event){if("insertCompositionText"!=event.inputType||!(view.state.selection instanceof GapCursor))return!1;let{$from}=view.state.selection,insert=$from.parent.contentMatchAt($from.index()).findWrapping(view.state.schema.nodes.text);if(!insert)return!1;let frag=prosemirror_model_dist.HY.empty;for(let i=insert.length-1;i>=0;i--)frag=prosemirror_model_dist.HY.from(insert[i].createAndFill(null,frag));let tr=view.state.tr.replace($from.pos,$from.pos,new prosemirror_model_dist.p2(frag,0,0));return tr.setSelection(prosemirror_state_dist.Bs.near(tr.doc.resolve($from.pos+1))),view.dispatch(tr),!1}function drawGapCursor(state){if(!(state.selection instanceof GapCursor))return null;let node=document.createElement("div");return node.className="ProseMirror-gapcursor",prosemirror_view_dist.EH.create(state.doc,[prosemirror_view_dist.p.widget(state.selection.head,node,{key:"gapcursor"})])}var remirror_extension_gap_cursor_defProp=Object.defineProperty,remirror_extension_gap_cursor_getOwnPropDesc=Object.getOwnPropertyDescriptor,GapCursorExtension=class extends remirror_core.PlainExtension{get name(){return"gapCursor"}createExternalPlugins(){return[new prosemirror_state_dist.Sy({props:{decorations:drawGapCursor,createSelectionBetween:(_view,$anchor,$head)=>$anchor.pos==$head.pos&&GapCursor.valid($head)?new GapCursor($head):null,handleClick,handleKeyDown,handleDOMEvents:{beforeinput:beforeinput}}})]}};GapCursorExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_gap_cursor_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_gap_cursor_defProp(target,key,result),result})([(0,remirror_core.extension)({})],GapCursorExtension),(0,remirror_core_helpers.V9)(GapCursor);var remirror_pm=__webpack_require__(67969),remirror_messages=__webpack_require__(35708),prosemirror_history_dist=__webpack_require__(8032),remirror_extension_history_defProp=Object.defineProperty,remirror_extension_history_getOwnPropDesc=Object.getOwnPropertyDescriptor,remirror_extension_history_defNormalProp=(obj,key,value)=>key in obj?remirror_extension_history_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,remirror_extension_history_decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_history_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_history_defProp(target,key,result),result},remirror_extension_history_publicField=(obj,key,value)=>(remirror_extension_history_defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),HistoryExtension=class extends remirror_core.PlainExtension{constructor(){super(...arguments),remirror_extension_history_publicField(this,"wrapMethod",(method,callback)=>({state,dispatch,view})=>{let{getState,getDispatch}=this.options,wrappedState=(0,remirror_core_helpers.mf)(getState)?getState():state,wrappedDispatch=(0,remirror_core_helpers.mf)(getDispatch)&&dispatch?getDispatch():dispatch,success=method(wrappedState,wrappedDispatch,view);return null==callback||callback(success),success})}get name(){return"history"}createKeymap(){return{"Mod-y":remirror_core_utils.NZ.isMac?()=>!1:this.wrapMethod(prosemirror_history_dist.KX,this.options.onRedo),"Mod-z":this.wrapMethod(prosemirror_history_dist.Yw,this.options.onUndo),"Shift-Mod-z":this.wrapMethod(prosemirror_history_dist.KX,this.options.onRedo)}}undoShortcut(props){return this.wrapMethod(prosemirror_history_dist.Yw,this.options.onUndo)(props)}redoShortcut(props){return this.wrapMethod(prosemirror_history_dist.KX,this.options.onRedo)(props)}createExternalPlugins(){let{depth,newGroupDelay}=this.options;return[(0,prosemirror_history_dist.m8)({depth,newGroupDelay})]}undo(){return(0,remirror_pm.fB)(this.wrapMethod(prosemirror_history_dist.Yw,this.options.onUndo))}redo(){return(0,remirror_pm.fB)(this.wrapMethod(prosemirror_history_dist.KX,this.options.onRedo))}undoDepth(state=this.store.getState()){return(0,prosemirror_history_dist.of)(state)}redoDepth(state=this.store.getState()){return(0,prosemirror_history_dist.AH)(state)}};remirror_extension_history_decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.Undo,command:"undo"})],HistoryExtension.prototype,"undoShortcut",1),remirror_extension_history_decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.Redo,command:"redo"})],HistoryExtension.prototype,"redoShortcut",1),remirror_extension_history_decorateClass([(0,remirror_core.command)({disableChaining:!0,description:({t})=>t(remirror_messages.XW.UNDO_DESCRIPTION),label:({t})=>t(remirror_messages.XW.UNDO_LABEL),icon:"arrowGoBackFill"})],HistoryExtension.prototype,"undo",1),remirror_extension_history_decorateClass([(0,remirror_core.command)({disableChaining:!0,description:({t})=>t(remirror_messages.XW.REDO_DESCRIPTION),label:({t})=>t(remirror_messages.XW.REDO_LABEL),icon:"arrowGoForwardFill"})],HistoryExtension.prototype,"redo",1),remirror_extension_history_decorateClass([(0,remirror_core.helper)()],HistoryExtension.prototype,"undoDepth",1),remirror_extension_history_decorateClass([(0,remirror_core.helper)()],HistoryExtension.prototype,"redoDepth",1),HistoryExtension=remirror_extension_history_decorateClass([(0,remirror_core.extension)({defaultOptions:{depth:100,newGroupDelay:500,getDispatch:void 0,getState:void 0},staticKeys:["depth","newGroupDelay"],handlerKeys:["onUndo","onRedo"]})],HistoryExtension);var remirror_extension_paragraph_defProp=Object.defineProperty,remirror_extension_paragraph_getOwnPropDesc=Object.getOwnPropertyDescriptor,remirror_extension_paragraph_decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_paragraph_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_paragraph_defProp(target,key,result),result},ParagraphExtension=class extends remirror_core.NodeExtension{get name(){return"paragraph"}createTags(){return[remirror_core_constants.eX.LastNodeCompatible,remirror_core_constants.eX.TextBlock,remirror_core_constants.eX.Block,remirror_core_constants.eX.FormattingNode]}createNodeSpec(extra,override){var _a;return{content:"inline*",draggable:!1,...override,attrs:{...extra.defaults()},parseDOM:[{tag:"p",getAttrs:node=>({...extra.parse(node)})},...null!=(_a=override.parseDOM)?_a:[]],toDOM:node=>["p",extra.dom(node),0]}}convertParagraph(options={}){let{attrs,selection,preserveAttrs}=options;return this.store.commands.setBlockNodeType.original(this.type,attrs,selection,preserveAttrs)}insertParagraph(content,options={}){let{selection,attrs}=options;return this.store.commands.insertNode.original(this.type,{content,selection,attrs})}shortcut(props){return this.convertParagraph()(props)}};remirror_extension_paragraph_decorateClass([(0,remirror_core.command)({icon:"paragraph",label:({t})=>t(remirror_messages.iR.CONVERT_LABEL),description:({t})=>t(remirror_messages.iR.CONVERT_DESCRIPTION)})],ParagraphExtension.prototype,"convertParagraph",1),remirror_extension_paragraph_decorateClass([(0,remirror_core.command)({icon:"paragraph",label:({t})=>t(remirror_messages.iR.INSERT_LABEL),description:({t})=>t(remirror_messages.iR.INSERT_DESCRIPTION)})],ParagraphExtension.prototype,"insertParagraph",1),remirror_extension_paragraph_decorateClass([(0,remirror_core.keyBinding)({shortcut:remirror_core_constants.vO.Paragraph,command:"convertParagraph"})],ParagraphExtension.prototype,"shortcut",1),ParagraphExtension=remirror_extension_paragraph_decorateClass([(0,remirror_core.extension)({defaultPriority:remirror_core_constants.xV.Medium})],ParagraphExtension);var remirror_extension_positioner=__webpack_require__(45916),remirror_extension_text_defProp=Object.defineProperty,remirror_extension_text_getOwnPropDesc=Object.getOwnPropertyDescriptor,TextExtension=class extends remirror_core.NodeExtension{get name(){return"text"}createTags(){return[remirror_core_constants.eX.InlineNode]}createNodeSpec(){return{}}};TextExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_text_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_text_defProp(target,key,result),result})([(0,remirror_core.extension)({disableExtraAttributes:!0,defaultPriority:remirror_core_constants.xV.Medium})],TextExtension);var defaultOptions={...DocExtension.defaultOptions,...ParagraphExtension.defaultOptions,...HistoryExtension.defaultOptions,excludeExtensions:[]},remirror_extension_placeholder=__webpack_require__(46669),nanoevents=__webpack_require__(73577),react_dom=__webpack_require__(28316),index_es=__webpack_require__(90404),remirror_extension_react_component_defProp=Object.defineProperty,remirror_extension_react_component_getOwnPropDesc=Object.getOwnPropertyDescriptor,remirror_extension_react_component_defNormalProp=(obj,key,value)=>key in obj?remirror_extension_react_component_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,remirror_extension_react_component_publicField=(obj,key,value)=>(remirror_extension_react_component_defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),PortalContainer=class{constructor(){remirror_extension_react_component_publicField(this,"portals",new Map),__privateAdd(this,_events,(0,nanoevents.i)()),remirror_extension_react_component_publicField(this,"on",callback=>__privateGet(this,_events).on("update",callback)),remirror_extension_react_component_publicField(this,"once",callback=>{let unbind=__privateGet(this,_events).on("update",portals=>{unbind(),callback(portals)});return unbind})}update(){__privateGet(this,_events).emit("update",this.portals)}render({Component,container}){var _a;let portal=this.portals.get(container);this.portals.set(container,{Component,key:null!=(_a=null==portal?void 0:portal.key)?_a:(0,remirror_core_helpers.EL)()}),this.update()}forceUpdate(){for(let[container,{Component}]of this.portals)this.portals.set(container,{Component,key:(0,remirror_core_helpers.EL)()})}remove(container){this.portals.delete(container),this.update()}};_events=new WeakMap;var RemirrorPortals=props=>{let{portals}=props;return react.createElement(react.Fragment,null,portals.map(([container,{Component,key}])=>(0,react_dom.createPortal)(react.createElement(Component,null),container,key)))},_ReactNodeView=class{constructor({getPosition,node,portalContainer,view,ReactComponent,options}){var _a;__privateAdd(this,_node,void 0),__privateAdd(this,_decorations,[]),__privateAdd(this,_view,void 0),__privateAdd(this,_portalContainer,void 0),__privateAdd(this,_Component,void 0),__privateAdd(this,_getPosition,void 0),__privateAdd(this,_options,void 0),__privateAdd(this,_selected,!1),__privateAdd(this,_contentDOM,void 0),__privateAdd(this,_contentDOMWrapper,void 0),__privateAdd(this,_dom,void 0),__privateAdd(this,_forwardRef,node=>{node&&((0,remirror_core_helpers.kG)(__privateGet(this,_contentDOMWrapper),{code:remirror_core_constants.mA.REACT_NODE_VIEW,message:`You have applied a ref to a node view provided for '${__privateGet(this,_node).type.name}' which doesn't support content.`}),node.append(__privateGet(this,_contentDOMWrapper)))}),remirror_extension_react_component_publicField(this,"Component",()=>{let ReactComponent=__privateGet(this,_Component);return(0,remirror_core_helpers.kG)(ReactComponent,{code:remirror_core_constants.mA.REACT_NODE_VIEW,message:`The custom react node view provided for ${__privateGet(this,_node).type.name} doesn't have a valid ReactComponent`}),react.createElement(ReactComponent,{updateAttributes:this.updateAttributes,selected:this.selected,view:__privateGet(this,_view),getPosition:__privateGet(this,_getPosition),node:__privateGet(this,_node),forwardRef:__privateGet(this,_forwardRef),decorations:__privateGet(this,_decorations)})}),remirror_extension_react_component_publicField(this,"updateAttributes",attrs=>{if(!__privateGet(this,_view).editable)return;let tr=__privateGet(this,_view).state.tr.setNodeMarkup(__privateGet(this,_getPosition).call(this),void 0,{...__privateGet(this,_node).attrs,...attrs});__privateGet(this,_view).dispatch(tr)}),(0,remirror_core_helpers.kG)((0,remirror_core_helpers.mf)(getPosition),{message:"You are attempting to use a node view for a mark type. This is not supported yet. Please check your configuration."}),__privateSet(this,_node,node),__privateSet(this,_view,view),__privateSet(this,_portalContainer,portalContainer),__privateSet(this,_Component,ReactComponent),__privateSet(this,_getPosition,getPosition),__privateSet(this,_options,options),__privateSet(this,_dom,this.createDom());let{contentDOM,wrapper}=null!=(_a=this.createContentDom())?_a:{};__privateSet(this,_contentDOM,null!=contentDOM?contentDOM:void 0),__privateSet(this,_contentDOMWrapper,wrapper),__privateGet(this,_contentDOMWrapper)&&__privateGet(this,_dom).append(__privateGet(this,_contentDOMWrapper)),this.setDomAttributes(__privateGet(this,_node),__privateGet(this,_dom)),this.Component.displayName=(0,index_es.Ho)(`${__privateGet(this,_node).type.name}NodeView`),this.renderComponent()}static create(props){let{portalContainer,ReactComponent,options}=props;return(node,view,getPosition)=>new _ReactNodeView({options,node,view,getPosition,portalContainer,ReactComponent})}get selected(){return __privateGet(this,_selected)}get contentDOM(){return __privateGet(this,_contentDOM)}get dom(){return __privateGet(this,_dom)}renderComponent(){__privateGet(this,_portalContainer).render({Component:this.Component,container:__privateGet(this,_dom)})}createDom(){let{defaultBlockNode,defaultInlineNode}=__privateGet(this,_options),element=__privateGet(this,_node).isInline?document.createElement(defaultInlineNode):document.createElement(defaultBlockNode);return element.classList.add(`${(0,index_es.GL)(__privateGet(this,_node).type.name)}-node-view-wrapper`),element}createContentDom(){var _a,_b;let wrapper;if(__privateGet(this,_node).isLeaf)return;let domSpec=null==(_b=(_a=__privateGet(this,_node).type.spec).toDOM)?void 0:_b.call(_a,__privateGet(this,_node));if(!domSpec)return;let{contentDOM,dom}=prosemirror_model_dist.PW.renderSpec(document,domSpec);if((0,remirror_core_utils.jd)(dom))return wrapper=dom,dom===contentDOM&&((wrapper=document.createElement("span")).classList.add(`${(0,index_es.GL)(__privateGet(this,_node).type.name)}-node-view-content-wrapper`),wrapper.append(contentDOM)),(0,remirror_core_utils.jd)(contentDOM),{wrapper,contentDOM}}update(node,decorations){return!!(0,remirror_core_utils.$9)({types:__privateGet(this,_node).type,node})&&(__privateGet(this,_node)===node&&__privateGet(this,_decorations)===decorations||(__privateGet(this,_node).sameMarkup(node)||this.setDomAttributes(node,__privateGet(this,_dom)),__privateSet(this,_node,node),__privateSet(this,_decorations,decorations),this.renderComponent(),!0))}setDomAttributes(node,element){let{toDOM}=__privateGet(this,_node).type.spec,attributes=node.attrs;if(toDOM){let domSpec=toDOM(node);if((0,remirror_core_helpers.HD)(domSpec)||(0,remirror_core_utils.mV)(domSpec)||(0,remirror_core_helpers.PO)(domSpec)&&(0,remirror_core_utils.mV)(domSpec.dom))return;(0,remirror_core_helpers.PO)(domSpec[1])&&(attributes=domSpec[1])}for(let[attribute,value]of(0,remirror_core_helpers.qh)(attributes))element.setAttribute(attribute,value)}selectNode(){__privateSet(this,_selected,!0),__privateGet(this,_dom)&&__privateGet(this,_dom).classList.add(remirror_core_constants.Eg),this.renderComponent()}deselectNode(){__privateSet(this,_selected,!1),__privateGet(this,_dom)&&__privateGet(this,_dom).classList.remove(remirror_core_constants.Eg),this.renderComponent()}destroy(){__privateGet(this,_portalContainer).remove(__privateGet(this,_dom))}ignoreMutation(mutation){return"selection"===mutation.type?!__privateGet(this,_node).type.spec.selectable:!__privateGet(this,_contentDOMWrapper)||!__privateGet(this,_contentDOMWrapper).contains(mutation.target)}stopEvent(event){var _a;if(!__privateGet(this,_dom))return!1;if((0,remirror_core_helpers.mf)(__privateGet(this,_options).stopEvent))return __privateGet(this,_options).stopEvent({event});let target=event.target,isInElement=__privateGet(this,_dom).contains(target)&&!(null==(_a=this.contentDOM)?void 0:_a.contains(target));if(!isInElement)return!1;let isDropEvent="drop"===event.type,isInput=["INPUT","BUTTON","SELECT","TEXTAREA"].includes(target.tagName)||target.isContentEditable;if(isInput&&!isDropEvent)return!0;let isDraggable=!!__privateGet(this,_node).type.spec.draggable,isSelectable=prosemirror_state_dist.qv.isSelectable(__privateGet(this,_node)),isCopyEvent="copy"===event.type,isPasteEvent="paste"===event.type,isCutEvent="cut"===event.type,isClickEvent="mousedown"===event.type,isDragEvent=event.type.startsWith("drag");return!isDraggable&&isSelectable&&isDragEvent&&event.preventDefault(),!isDragEvent&&!isDropEvent&&!isCopyEvent&&!isPasteEvent&&!isCutEvent&&(!isClickEvent||!isSelectable)}};_node=new WeakMap,_decorations=new WeakMap,_view=new WeakMap,_portalContainer=new WeakMap,_Component=new WeakMap,_getPosition=new WeakMap,_options=new WeakMap,_selected=new WeakMap,_contentDOM=new WeakMap,_contentDOMWrapper=new WeakMap,_dom=new WeakMap,_forwardRef=new WeakMap;var ReactComponentExtension=class extends remirror_core.PlainExtension{constructor(){super(...arguments),remirror_extension_react_component_publicField(this,"portalContainer",new PortalContainer)}get name(){return"reactComponent"}onCreate(){this.store.setStoreKey("portalContainer",this.portalContainer)}createNodeViews(){var _a;let nodeViews=(0,remirror_core_helpers.Ry)(),managerComponents=null!=(_a=this.store.managerSettings.nodeViewComponents)?_a:{};for(let extension2 of this.store.extensions)extension2.ReactComponent&&(0,remirror_core.isNodeExtension)(extension2)&&"ssr"!==extension2.reactComponentEnvironment&&(nodeViews[extension2.name]=_ReactNodeView.create({options:this.options,ReactComponent:extension2.ReactComponent,portalContainer:this.portalContainer}));let namedComponents=(0,remirror_core_helpers.qh)({...this.options.nodeViewComponents,...managerComponents});for(let[name,ReactComponent]of namedComponents)nodeViews[name]=_ReactNodeView.create({options:this.options,ReactComponent,portalContainer:this.portalContainer});return nodeViews}};ReactComponentExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_extension_react_component_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_extension_react_component_defProp(target,key,result),result})([(0,remirror_core.extension)({defaultOptions:{defaultBlockNode:"div",defaultInlineNode:"span",defaultContentNode:"span",defaultEnvironment:"both",nodeViewComponents:{},stopEvent:null},staticKeys:["defaultBlockNode","defaultInlineNode","defaultContentNode","defaultEnvironment"]})],ReactComponentExtension);var remirror_preset_react_defProp=Object.defineProperty,remirror_preset_react_getOwnPropDesc=Object.getOwnPropertyDescriptor,DEFAULT_OPTIONS={...remirror_extension_placeholder.X.defaultOptions,...ReactComponentExtension.defaultOptions},STATIC_KEYS=[...remirror_extension_placeholder.X.staticKeys,...ReactComponentExtension.staticKeys],ReactExtension=class extends remirror_core.PlainExtension{get name(){return"react"}onSetOptions(props){let{pickChanged}=props;this.getExtension(remirror_extension_placeholder.X).setOptions(pickChanged(["placeholder"]))}createExtensions(){let{emptyNodeClass,placeholder,defaultBlockNode,defaultContentNode,defaultEnvironment,defaultInlineNode,nodeViewComponents}=this.options;return[new remirror_extension_placeholder.X({emptyNodeClass,placeholder,priority:remirror_core_constants.xV.Low}),new ReactComponentExtension({defaultBlockNode,defaultContentNode,defaultEnvironment,defaultInlineNode,nodeViewComponents})]}};ReactExtension=((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?remirror_preset_react_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&remirror_preset_react_defProp(target,key,result),result})([(0,remirror_core.extension)({defaultOptions:DEFAULT_OPTIONS,staticKeys:STATIC_KEYS})],ReactExtension);var composeRefs=__webpack_require__(42719),remirror_theme=__webpack_require__(12114),remirror_react_core_defProp=Object.defineProperty,remirror_react_core_defNormalProp=(obj,key,value)=>key in obj?remirror_react_core_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,remirror_react_core_publicField=(obj,key,value)=>(remirror_react_core_defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),remirror_react_core_accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},remirror_react_core_privateGet=(obj,member,getter)=>(remirror_react_core_accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),remirror_react_core_privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},remirror_react_core_privateSet=(obj,member,value,setter)=>(remirror_react_core_accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),RemirrorContext=(0,react.createContext)(null);function useRemirrorContext(handler){let context=(0,react.useContext)(RemirrorContext),forceUpdate=(0,react.useRef)(function(){let[,setState]=(0,react.useState)((0,remirror_core_helpers.Ry)());return(0,react.useCallback)(()=>{setState((0,remirror_core_helpers.Ry)())},[])}());(0,remirror_core_helpers.kG)(context,{code:remirror_core_constants.mA.REACT_PROVIDER_CONTEXT});let{addHandler}=context;return(0,react.useEffect)(()=>{let updateHandler=handler;if(updateHandler){if((0,remirror_core_helpers.PO)(updateHandler)){let{autoUpdate}=updateHandler;updateHandler=autoUpdate?()=>forceUpdate.current():void 0}if((0,remirror_core_helpers.mf)(updateHandler))return addHandler("updated",updateHandler)}},[addHandler,handler]),context}function useActive(autoUpdate=!0){return useRemirrorContext({autoUpdate}).active}function useAttrs(update=!1){return useRemirrorContext(update?{autoUpdate:!0}:void 0).attrs}function useChainedCommands(){return useRemirrorContext().chain}function useCommands(){return useRemirrorContext().commands}function useCurrentSelection(){return useRemirrorContext({autoUpdate:!0}).getState().selection}function useExtension(Constructor,optionsOrCallback,dependencies){let deps;let{getExtension}=useRemirrorContext(),extension=(0,react.useMemo)(()=>getExtension(Constructor),[Constructor,getExtension]);if(deps=(0,remirror_core_helpers.mf)(optionsOrCallback)?dependencies?[extension,...dependencies]:[extension,optionsOrCallback]:optionsOrCallback?[extension,...Object.values(optionsOrCallback)]:[],(0,react.useEffect)(()=>{!(0,remirror_core_helpers.mf)(optionsOrCallback)&&optionsOrCallback&&extension.setOptions(optionsOrCallback)},deps),(0,react.useEffect)(()=>{if((0,remirror_core_helpers.mf)(optionsOrCallback))return optionsOrCallback({addHandler:extension.addHandler.bind(extension),addCustomHandler:extension.addCustomHandler.bind(extension),extension})},deps),!optionsOrCallback)return extension}function useExtensionEvent(extension,event,memoizedHandler){let callback=(0,react.useCallback)(({addHandler})=>addHandler(event,memoizedHandler),[memoizedHandler,event]);return useExtension(extension,callback)}function useExtensionCustomEvent(extension,event,memoizedCustomHandler){let callback=(0,react.useCallback)(({addCustomHandler})=>addCustomHandler(event,memoizedCustomHandler),[memoizedCustomHandler,event]);return useExtension(extension,callback)}function useHelpers(update=!1){return useRemirrorContext(update?{autoUpdate:!0}:void 0).helpers}var[I18nProvider,useI18n]=(creator=({props})=>{var _a,_b,_c;let locale=null!=(_a=props.locale)?_a:"en",i18n=null!=(_b=props.i18n)?_b:esm_i18n,supportedLocales=null!=(_c=props.supportedLocales)?_c:[locale],t=(...args)=>i18n._(...args);return{locale,i18n,supportedLocales,t}},function(useHook){let DefaultContext=(0,react.createContext)(null),useHookContext=(selector,equalityCheck)=>{let context=(0,react.useContext)(DefaultContext),previousContext=function(value){let ref=(0,react.useRef)();return useIsomorphicLayoutEffect(()=>{ref.current=value}),ref.current}(context);if(!context)throw Error("`useContextHook` must be placed inside the `Provider` returned by the `createContextState` method");if(!selector)return context;if("function"!=typeof selector)throw TypeError("invalid arguments passed to `useContextHook`. This hook must be called with zero arguments, a getter function or a path string.");let value=selector(context);if(!previousContext||!equalityCheck)return value;let previousValue=selector(previousContext);return equalityCheck(previousValue,value)?previousValue:value},Provider=props=>{let context=useHook(props);return react.createElement(DefaultContext.Provider,{value:context},props.children)};return[Provider,useHookContext,DefaultContext]}(props=>{let contextRef=(0,react.useRef)(null),setContextRef=(0,react.useRef)(),state=null==hook?void 0:hook(props),[context,setContext]=(0,react.useState)(()=>creator({get:createGet(contextRef),set:createSet(setContextRef),previousContext:void 0,props,state})),dependencies=[...Object.values(props),state];return(0,react.useEffect)(()=>{0!==dependencies.length&&setContext(previousContext=>creator({get:createGet(contextRef),set:createSet(setContextRef),previousContext,props,state}))},dependencies),contextRef.current=context,setContextRef.current=setContext,context}));function createReactManager(extensions,options={}){let{core,react,...settings}=options;return(0,remirror_core.isRemirrorManager)(extensions)?extensions:remirror_core.RemirrorManager.create(()=>[...(0,remirror_core_helpers.r2)(extensions),new ReactExtension(react),...function(options={}){options={...defaultOptions,...options};let{content,depth,getDispatch,getState,newGroupDelay,excludeExtensions}=options,excludeMap={};for(let name of null!=excludeExtensions?excludeExtensions:[])excludeMap[name]=!0;let coreExtensions=[];if(!excludeMap.history){let historyExtension=new HistoryExtension({depth,getDispatch,getState,newGroupDelay});coreExtensions.push(historyExtension)}return excludeMap.doc||coreExtensions.push(new DocExtension({content})),excludeMap.text||coreExtensions.push(new TextExtension),excludeMap.paragraph||coreExtensions.push(new ParagraphExtension),excludeMap.positioner||coreExtensions.push(new remirror_extension_positioner.xv),excludeMap.gapCursor||coreExtensions.push(new GapCursorExtension),excludeMap.events||coreExtensions.push(new remirror_extension_events.Q),coreExtensions}(core)],settings)}var remirror_react_core_composeRefs="object"==typeof composeRefs.Z&&composeRefs.Z.__esModule&&composeRefs.Z.default?composeRefs.Z.default:composeRefs.Z,ReactFramework=class extends remirror_core.Framework{constructor(props){var _a;if(super(props),remirror_react_core_privateAdd(this,_editorRef,void 0),remirror_react_core_publicField(this,"rootPropsConfig",{called:!1,count:0}),remirror_react_core_publicField(this,"getRootProps",options=>this.internalGetRootProps(options,null)),remirror_react_core_publicField(this,"internalGetRootProps",(options,children)=>{this.rootPropsConfig.called=!0;let{refKey="ref",ref,...config}=null!=options?options:(0,remirror_core_helpers.Ry)();return{[refKey]:remirror_react_core_composeRefs(ref,this.onRef),key:this.uid,...config,children}}),remirror_react_core_publicField(this,"onRef",element=>{element&&(this.rootPropsConfig.count+=1,(0,remirror_core_helpers.kG)(this.rootPropsConfig.count<=1,{code:remirror_core_constants.mA.REACT_GET_ROOT_PROPS,message:`Called ${this.rootPropsConfig.count} times`}),remirror_react_core_privateSet(this,_editorRef,element),this.onRefLoad())}),this.manager.view){this.manager.view.setProps({state:this.manager.view.state,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var _a2;return null==(_a2=this.props.editable)||_a2}});return}this.manager.getExtension(remirror_extension_placeholder.X).setOptions({placeholder:null!=(_a=this.props.placeholder)?_a:""})}get name(){return"react"}update(props){return super.update(props),this}createView(state){return new prosemirror_view_dist.tk(null,{state,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var _a;return null==(_a=this.props.editable)||_a},plugins:[]})}updateState({state,...rest}){let{triggerChange=!0,tr,transactions}=rest;if(this.props.state){let{onChange}=this.props;(0,remirror_core_helpers.kG)(onChange,{code:remirror_core_constants.mA.REACT_CONTROLLED,message:"You are required to provide the `onChange` handler when creating a controlled editor."}),(0,remirror_core_helpers.kG)(triggerChange,{code:remirror_core_constants.mA.REACT_CONTROLLED,message:"Controlled editors do not support `clearContent` or `setContent` where `triggerChange` is `true`. Update the `state` prop instead."}),this.previousStateOverride||(this.previousStateOverride=this.getState()),this.onChange({state,tr,transactions});return}tr||transactions||(state=state.apply(state.tr.setMeta(remirror_core_constants.zr,{}))),this.view.updateState(state),triggerChange&&(null==transactions?void 0:transactions.length)!==0&&this.onChange({state,tr,transactions}),this.manager.onStateUpdate({previousState:this.previousState,state,tr,transactions})}updateControlledState(state,previousState){this.previousStateOverride=previousState,state=state.apply(state.tr.setMeta(remirror_core_constants.zr,{})),this.view.updateState(state),this.manager.onStateUpdate({previousState:this.previousState,state}),this.previousStateOverride=void 0}addProsemirrorViewToDom(element,viewDom){"start"===this.props.insertPosition?element.insertBefore(viewDom,element.firstChild):element.append(viewDom)}onRefLoad(){(0,remirror_core_helpers.kG)(remirror_react_core_privateGet(this,_editorRef),{code:remirror_core_constants.mA.REACT_EDITOR_VIEW,message:"Something went wrong when initializing the text editor. Please check your setup."});let{autoFocus}=this.props;this.addProsemirrorViewToDom(remirror_react_core_privateGet(this,_editorRef),this.view.dom),autoFocus&&this.focus(autoFocus),this.onChange(),this.addFocusListeners()}onUpdate(){this.view&&remirror_react_core_privateGet(this,_editorRef)&&this.view.setProps({...this.view.props,editable:()=>{var _a;return null==(_a=this.props.editable)||_a}})}get frameworkOutput(){return{...this.baseOutput,getRootProps:this.getRootProps,portalContainer:this.manager.store.portalContainer}}resetRender(){this.rootPropsConfig.called=!1,this.rootPropsConfig.count=0}};_editorRef=new WeakMap;var remirror_react_core_useIsomorphicLayoutEffect="undefined"!=typeof document?react.useLayoutEffect:react.useEffect;function useRemirror(props={}){let{content,document:document2,selection,extensions,...settings}=props,manager=function(extensions,options={}){let extensionsRef=(0,react.useRef)(extensions),optionsRef=(0,react.useRef)(options),[manager,setManager]=(0,react.useState)(()=>createReactManager(extensions,options));return extensionsRef.current=extensions,optionsRef.current=options,(0,react.useEffect)(()=>manager.addHandler("destroy",()=>{setManager(()=>createReactManager(extensionsRef.current,optionsRef.current))}),[manager]),manager}(null!=extensions?extensions:()=>[],settings),[state,setState]=(0,react.useState)(()=>manager.createState({selection,content:null!=content?content:manager.createEmptyDoc()})),onChange=(0,react.useCallback)(({state:state2})=>{setState(state2)},[]),getContext=(0,react.useCallback)(()=>{let context=manager.output;return context},[manager]);return(0,react.useMemo)(()=>({state,setState,manager,onChange,getContext}),[getContext,manager,onChange,state])}var noReason={doc:!1,selection:!1,storedMark:!1};function useUpdateReason(){let[updateReason,setUpdateReason]=(0,react.useState)(noReason);return useExtensionEvent(remirror_core.PluginsExtension,"applyState",(0,react.useCallback)(({tr})=>{let reason={...noReason};tr.docChanged&&(reason.doc=!0),tr.selectionSet&&(reason.selection=!0),tr.storedMarksSet&&(reason.storedMark=!0),setUpdateReason(reason)},[])),updateReason}var EditorComponent=()=>react.createElement("div",{className:remirror_theme.kd.EDITOR_WRAPPER,...useRemirrorContext().getRootProps()}),HookComponent=props=>(props.hook(),null);function Remirror(props){let{children,autoRender,i18n,locale,supportedLocales,hooks=[],...frameworkProps}=props,context=function(props){let{manager,state}=props,{placeholder,editable}=props,firstUpdate=(0,react.useRef)(!0);firstUpdate.current&&!(0,remirror_core_helpers.le)(placeholder)&&manager.getExtension(ReactExtension).setOptions({placeholder}),(0,react.useEffect)(()=>{null!=placeholder&&manager.getExtension(ReactExtension).setOptions({placeholder})},[placeholder,manager]);let[initialEditorState]=(0,react.useState)(()=>{var _a;if(state)return state;let fallback=manager.createEmptyDoc(),[initialContent,initialSelection]=(0,remirror_core_helpers.kJ)(props.initialContent)?props.initialContent:[null!=(_a=props.initialContent)?_a:fallback];return manager.createState({content:initialContent,selection:initialSelection})}),framework=function(props){let propsRef=(0,react.useRef)(props);propsRef.current=props;let framework=(0,react.useMemo)(()=>new ReactFramework(propsRef.current),[]);return framework.update(props),framework}({initialEditorState,getProps:()=>props});return(0,react.useEffect)(()=>()=>{framework.destroy()},[framework]),(0,react.useEffect)(()=>{framework.onUpdate()},[editable,framework]),function(framework){let{state}=framework.props,isControlledRef=(0,react.useRef)(!!state),previousValue=function(value){let ref=(0,react.useRef)();return remirror_react_core_useIsomorphicLayoutEffect(()=>{ref.current=value}),ref.current}(state);remirror_react_core_useIsomorphicLayoutEffect(()=>{let validUpdate=state?!0===isControlledRef.current:!1===isControlledRef.current;(0,remirror_core_helpers.kG)(validUpdate,{code:remirror_core_constants.mA.REACT_CONTROLLED,message:isControlledRef.current?"You have attempted to switch from a controlled to an uncontrolled editor. Once you set up an editor as a controlled editor it must always provide a `state` prop.":"You have provided a `state` prop to an uncontrolled editor. In order to set up your editor as controlled you must provide the `state` prop from the very first render."}),state&&state!==previousValue&&framework.updateControlledState(state,null!=previousValue?previousValue:void 0)},[state,previousValue,framework])}(framework),framework.frameworkOutput}(frameworkProps),portals=function(portalContainer){let[portals,setPortals]=(0,react.useState)(()=>Array.from(portalContainer.portals.entries()));return(0,react.useEffect)(()=>portalContainer.on(portalMap=>{setPortals(Array.from(portalMap.entries()))}),[portalContainer]),(0,react.useMemo)(()=>portals,[portals])}(context.portalContainer),autoRenderAtStart="start"===autoRender||!0===autoRender||!children&&(0,remirror_core_helpers.le)(autoRender);return react.createElement(I18nProvider,{i18n,locale,supportedLocales},react.createElement(RemirrorContext.Provider,{value:context},react.createElement(RemirrorPortals,{portals}),hooks.map((hook,index)=>react.createElement(HookComponent,{hook,key:index})),autoRenderAtStart&&react.createElement(EditorComponent,null),children,"end"===autoRender&&react.createElement(EditorComponent,null)))}},12114:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function guard(low,high,value){return Math.min(Math.max(low,value),high)}__webpack_require__.d(__webpack_exports__,{kd:function(){return componentsTheme},uV:function(){return extensionCodeBlockTheme},Jl:function(){return extensionImageTheme},MQ:function(){return extensionListTheme},T4:function(){return extensionMentionAtomTheme},_x:function(){return extensionPlaceholderTheme},bu:function(){return extensionPositionerTheme}});var ColorError$1=class extends Error{constructor(color){super(`Failed to parse color: "${color}"`)}};function parseToRgba(color){if("string"!=typeof color)throw new ColorError$1(color);if("transparent"===color.trim().toLowerCase())return[0,0,0,0];let normalizedColor=color.trim();normalizedColor=namedColorRegex.test(color)?function(color){let normalizedColorName=color.toLowerCase().trim(),result=compressedColorMap[function(str){let hash=5381,i=str.length;for(;i;)hash=33*hash^str.charCodeAt(--i);return(hash>>>0)%2341}(normalizedColorName)];if(!result)throw new ColorError$1(color);return`#${result}`}(color):color;let reducedHexMatch=reducedHexRegex.exec(normalizedColor);if(reducedHexMatch){let arr=Array.from(reducedHexMatch).slice(1);return[...arr.slice(0,3).map(x=>parseInt(r(x,2),16)),parseInt(r(arr[3]||"f",2),16)/255]}let hexMatch=hexRegex.exec(normalizedColor);if(hexMatch){let arr1=Array.from(hexMatch).slice(1);return[...arr1.slice(0,3).map(x=>parseInt(x,16)),parseInt(arr1[3]||"ff",16)/255]}let rgbaMatch=rgbaRegex.exec(normalizedColor);if(rgbaMatch){let arr2=Array.from(rgbaMatch).slice(1);return[...arr2.slice(0,3).map(x=>parseInt(x,10)),parseFloat(arr2[3]||"1")]}let hslaMatch=hslaRegex.exec(normalizedColor);if(hslaMatch){let[h,s,l,a]=Array.from(hslaMatch).slice(1).map(parseFloat);if(guard(0,100,s)!==s||guard(0,100,l)!==l)throw new ColorError$1(color);return[...hslToRgb(h,s,l),Number.isNaN(a)?1:a]}throw new ColorError$1(color)}let colorToInt=x=>parseInt(x.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((acc,next)=>{let key=colorToInt(next.substring(0,3)),hex=colorToInt(next.substring(3)).toString(16),prefix="";for(let i=0;i<6-hex.length;i++)prefix+="0";return acc[key]=`${prefix}${hex}`,acc},{}),r=(str,amount)=>Array.from(Array(amount)).map(()=>str).join(""),reducedHexRegex=RegExp(`^#${r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=RegExp(`^#${r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=color=>Math.round(255*color),hslToRgb=(hue,saturation,lightness)=>{let l=lightness/100;if(0===saturation)return[l,l,l].map(roundColor);let huePrime=(hue%360+360)%360/60,chroma=(1-Math.abs(2*l-1))*(saturation/100),secondComponent=chroma*(1-Math.abs(huePrime%2-1)),red=0,green=0,blue=0;huePrime>=0&&huePrime<1?(red=chroma,green=secondComponent):huePrime>=1&&huePrime<2?(red=secondComponent,green=chroma):huePrime>=2&&huePrime<3?(green=chroma,blue=secondComponent):huePrime>=3&&huePrime<4?(green=secondComponent,blue=chroma):huePrime>=4&&huePrime<5?(red=secondComponent,blue=chroma):huePrime>=5&&huePrime<6&&(red=chroma,blue=secondComponent);let lightnessModification=l-chroma/2,finalRed=red+lightnessModification,finalGreen=green+lightnessModification,finalBlue=blue+lightnessModification;return[finalRed,finalGreen,finalBlue].map(roundColor)};function darken(color,amount){let[hue,saturation,lightness,alpha]=function(color){let[red,green,blue,alpha]=parseToRgba(color).map((value,index)=>3===index?value:value/255),max=Math.max(red,green,blue),min=Math.min(red,green,blue),lightness=(max+min)/2;if(max===min)return[0,0,lightness,alpha];let delta=max-min;return[60*(red===max?(green-blue)/delta+(green<blue?6:0):green===max?(blue-red)/delta+2:(red-green)/delta+4),lightness>.5?delta/(2-max-min):delta/(max+min),lightness,alpha]}(color);return`hsla(${(hue%360).toFixed()}, ${guard(0,100,100*saturation).toFixed()}%, ${guard(0,100,100*(lightness-amount)).toFixed()}%, ${parseFloat(guard(0,1,alpha).toFixed(3))})`}function transparentize(color,amount){let[r,g,b,a]=parseToRgba(color);return`rgba(${guard(0,255,r).toFixed()}, ${guard(0,255,g).toFixed()}, ${guard(0,255,b).toFixed()}, ${parseFloat(guard(0,1,a-amount).toFixed(3))})`}function simpleKebabCase(str){return str.replace(/([a-z])([\dA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}function getThemeVar(...args){return`var(--rmr-${args.map(p=>p.toString()).map(simpleKebabCase).join("-")})`}let defaultRemirrorThemeHue={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},foreground="#000000",background="#ffffff",border=transparentize(foreground,.75),primary="#7963d2",secondary="#bcd263",muted=defaultRemirrorThemeHue.gray[1],faded=darken(transparentize(foreground,.1),-.13);darken(background,.15),darken(border,.15),darken(foreground,.15),darken(muted,.15),darken(primary,.15),darken(secondary,.15),darken(background,.075),darken(border,.075),darken(foreground,.075),darken(muted,.075),darken(primary,.075),darken(secondary,.075),transparentize(foreground,.1),transparentize(primary,.6),darken(foreground,-.8),darken(foreground,-.4),defaultRemirrorThemeHue.gray[3],defaultRemirrorThemeHue.blue[7],defaultRemirrorThemeHue.blue[1],defaultRemirrorThemeHue.blue[5],defaultRemirrorThemeHue.blue[7],darken(foreground,-.4),defaultRemirrorThemeHue.blue[5],defaultRemirrorThemeHue.red[7],defaultRemirrorThemeHue.red[1],defaultRemirrorThemeHue.red[5],getThemeVar("color","foreground"),getThemeVar("color","text"),getThemeVar("color","background"),getThemeVar("color","backdrop"),getThemeVar("color","border"),getThemeVar("color","shadow1"),getThemeVar("color","hover","border"),getThemeVar("color","active","border"),getThemeVar("color","primary"),getThemeVar("color","primaryText"),getThemeVar("color","hover","primary"),getThemeVar("color","hover","primaryText"),getThemeVar("color","active","primary"),getThemeVar("color","active","primaryText");var componentsTheme=Object.freeze({__proto__:null,EDITOR_WRAPPER:"remirror-editor-wrapper",BUTTON_ACTIVE:"remirror-button-active",BUTTON:"remirror-button",COMPOSITE:"remirror-composite",DIALOG:"remirror-dialog",DIALOG_BACKDROP:"remirror-dialog-backdrop",FORM:"remirror-form",FORM_MESSAGE:"remirror-form-message",FORM_LABEL:"remirror-form-label",FORM_GROUP:"remirror-form-group",GROUP:"remirror-group",INPUT:"remirror-input",MENU:"remirror-menu",MENU_PANE:"remirror-menu-pane",MENU_PANE_ACTIVE:"remirror-menu-pane-active",MENU_DROPDOWN_LABEL:"remirror-menu-dropdown-label",MENU_PANE_ICON:"remirror-menu-pane-icon",MENU_PANE_LABEL:"remirror-menu-pane-label",MENU_PANE_SHORTCUT:"remirror-menu-pane-shortcut",MENU_BUTTON_LEFT:"remirror-menu-button-left",MENU_BUTTON_RIGHT:"remirror-menu-button-right",MENU_BUTTON_NESTED_LEFT:"remirror-menu-button-nested-left",MENU_BUTTON_NESTED_RIGHT:"remirror-menu-button-nested-right",MENU_BUTTON:"remirror-menu-button",MENU_BAR:"remirror-menu-bar",FLEX_COLUMN:"remirror-flex-column",FLEX_ROW:"remirror-flex-row",MENU_ITEM:"remirror-menu-item",MENU_ITEM_ROW:"remirror-menu-item-row",MENU_ITEM_COLUMN:"remirror-menu-item-column",MENU_ITEM_CHECKBOX:"remirror-menu-item-checkbox",MENU_ITEM_RADIO:"remirror-menu-item-radio",MENU_GROUP:"remirror-menu-group",FLOATING_POPOVER:"remirror-floating-popover",POPOVER:"remirror-popover",ANIMATED_POPOVER:"remirror-animated-popover",ROLE:"remirror-role",SEPARATOR:"remirror-separator",TAB:"remirror-tab",TAB_LIST:"remirror-tab-list",TABBABLE:"remirror-tabbable",TOOLBAR:"remirror-toolbar",TOOLTIP:"remirror-tooltip",TABLE_SIZE_EDITOR:"remirror-table-size-editor",TABLE_SIZE_EDITOR_BODY:"remirror-table-size-editor-body",TABLE_SIZE_EDITOR_CELL:"remirror-table-size-editor-cell",TABLE_SIZE_EDITOR_CELL_SELECTED:"remirror-table-size-editor-cell-selected",TABLE_SIZE_EDITOR_FOOTER:"remirror-table-size-editor-footer",COLOR_PICKER:"remirror-color-picker",COLOR_PICKER_CELL:"remirror-color-picker-cell",COLOR_PICKER_CELL_SELECTED:"remirror-color-picker-cell-selected"}),extensionCodeBlockTheme=Object.freeze({__proto__:null,WRAP:"remirror-wrap",A11Y_DARK:"remirror-a11y-dark",ATOM_DARK:"remirror-atom-dark",BASE16_ATELIERSULPHURPOOL_LIGHT:"remirror-base16-ateliersulphurpool-light",CB:"remirror-cb",DARCULA:"remirror-darcula",DRACULA:"remirror-dracula",DUOTONE_DARK:"remirror-duotone-dark",DUOTONE_EARTH:"remirror-duotone-earth",DUOTONE_FOREST:"remirror-duotone-forest",DUOTONE_LIGHT:"remirror-duotone-light",DUOTONE_SEA:"remirror-duotone-sea",DUOTONE_SPACE:"remirror-duotone-space",GH_COLORS:"remirror-gh-colors",HOPSCOTCH:"remirror-hopscotch",POJOAQUE:"remirror-pojoaque",VS:"remirror-vs",XONOKAI:"remirror-xonokai"}),extensionImageTheme=Object.freeze({__proto__:null,IMAGE_LOADER:"remirror-image-loader"}),extensionListTheme=Object.freeze({__proto__:null,LIST_ITEM_WITH_CUSTOM_MARKER:"remirror-list-item-with-custom-mark",UL_LIST_CONTENT:"remirror-ul-list-content",EDITOR:"remirror-editor",LIST_ITEM_MARKER_CONTAINER:"remirror-list-item-marker-container",LIST_ITEM_CHECKBOX:"remirror-list-item-checkbox",COLLAPSIBLE_LIST_ITEM_CLOSED:"remirror-collapsible-list-item-closed",COLLAPSIBLE_LIST_ITEM_BUTTON:"remirror-collapsible-list-item-button",LIST_SPINE:"remirror-list-spine"}),extensionMentionAtomTheme=Object.freeze({__proto__:null,MENTION_ATOM:"remirror-mention-atom",SUGGEST_ATOM:"remirror-suggest-atom",MENTION_ATOM_POPUP_ITEM:"remirror-mention-atom-popup-item",MENTION_ATOM_POPUP_HOVERED:"remirror-mention-atom-popup-hovered",MENTION_ATOM_POPUP_HIGHLIGHT:"remirror-mention-atom-popup-highlight",MENTION_ATOM_POPUP_WRAPPER:"remirror-mention-atom-popup-wrapper",MENTION_ATOM_POPUP_NAME:"remirror-mention-atom-popup-name",MENTION_ATOM_ZERO_ITEMS:"remirror-mention-atom-zero-items",MENTION_ATOM_POPUP_CHAR:"remirror-mention-atom-popup-char"}),extensionPlaceholderTheme=Object.freeze({__proto__:null,IS_EMPTY:"remirror-is-empty"}),extensionPositionerTheme=Object.freeze({__proto__:null,EDITOR:"remirror-editor",POSITIONER:"remirror-positioner",POSITIONER_WIDGET:"remirror-positioner-widget"});let TABLE_CONTROLLER_WRAPPER="remirror-table-controller-wrapper",TABLE_CONTROLLER_TRIGGER_AREA="remirror-table-controller-trigger-area",TABLE_CONTROLLER_MARK_ROW_CORNER="remirror-table-controller-mark-row-corner",TABLE_CONTROLLER_MARK_COLUMN_CORNER="remirror-table-controller-mark-column-corner";(()=>{let css=String.raw,tableController=css`
    overflow: visible;
    padding: 0;
    cursor: pointer;
    z-index: 15;
    position: relative;
  `,tableControllerTriggerArea=css`
    flex: 1;
    position: relative;
    z-index: 10;

    /* Style for debug. Use linear-gradient as background so that we can differentiate two neighbor areas. */
    /* background: linear-gradient(to left top, rgba(0, 255, 100, 0.2), rgba(200, 100, 255, 0.2)); */
  `,tableControllerWrapper=css`
    overflow: visible;
    display: flex;
    justify-content: flex-end;
    align-items: flex-end;
  `,tableControllerMark=css`
    position: absolute;
    width: 0px;
    height: 0px;
    border-radius: 50%;
    border-style: solid;
    border-color: ${getThemeVar("color","table","mark")};
    border-width: ${2}px;
  `,tableControllerMarkRowCorner=css`
    bottom: -${2}px;
    left: -12px;

    ${tableControllerMark}
  `,tableControllerMarkColumnCorner=css`
    ${tableControllerMark}

    right: -${2}px;
    top: -12px;
  `;css`
    ${tableController}

    height: ${12}px;
    width: ${12}px;

    & div.${TABLE_CONTROLLER_WRAPPER} {
      ${tableControllerWrapper}

      width: ${12}px;
      height: ${12}px;
    }

    & div.${TABLE_CONTROLLER_TRIGGER_AREA} {
      ${tableControllerTriggerArea}

      display: none;
    }

    & div.${TABLE_CONTROLLER_MARK_ROW_CORNER} {
      ${tableControllerMarkRowCorner}
    }
    & div.${TABLE_CONTROLLER_MARK_COLUMN_CORNER} {
      ${tableControllerMarkColumnCorner}
    }
  `,css`
    ${tableController}

    height: ${12}px;

    & div.${TABLE_CONTROLLER_WRAPPER} {
      ${tableControllerWrapper}

      width: 100%;
      height: ${12}px;
      flex-direction: row;
    }

    & div.${TABLE_CONTROLLER_TRIGGER_AREA} {
      ${tableControllerTriggerArea}

      height: 36px;
    }

    & div.${TABLE_CONTROLLER_MARK_ROW_CORNER} {
      display: none;
    }
    & div.${TABLE_CONTROLLER_MARK_COLUMN_CORNER} {
      ${tableControllerMarkColumnCorner}
    }
  `,css`
    ${tableController}

    width: ${12}px;

    & div.${TABLE_CONTROLLER_WRAPPER} {
      ${tableControllerWrapper}

      height: 100%;
      width: ${12}px;
      flex-direction: column;
    }

    & div.${TABLE_CONTROLLER_TRIGGER_AREA} {
      ${tableControllerTriggerArea}

      width: 36px;
    }

    & div.${TABLE_CONTROLLER_MARK_ROW_CORNER} {
      ${tableControllerMarkRowCorner}
    }
    & div.${TABLE_CONTROLLER_MARK_COLUMN_CORNER} {
      display: none;
    }
  `})()},42719:function(__unused_webpack_module,exports){"use strict";exports.Z=function(){for(var refs=[],_i=0;_i<arguments.length;_i++)refs[_i]=arguments[_i];return 2===refs.length?composeTwoRefs(refs[0],refs[1])||null:refs.slice(1).reduce(function(semiCombinedRef,refToInclude){return composeTwoRefs(semiCombinedRef,refToInclude)},refs[0])||null};var composedRefCache=new WeakMap;function composeTwoRefs(ref1,ref2){if(ref1&&ref2){var ref1Cache=composedRefCache.get(ref1)||new WeakMap;composedRefCache.set(ref1,ref1Cache);var composedRef=ref1Cache.get(ref2)||function(instance){updateRef(ref1,instance),updateRef(ref2,instance)};return ref1Cache.set(ref2,composedRef),composedRef}return ref1||ref2}function updateRef(ref,instance){"function"==typeof ref?ref(instance):ref.current=instance}},90404:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{GL:function(){return kebabCase},Ho:function(){return pascalCase}});let magicSplit=/^[a-zà-öø-ÿ]+|[A-ZÀ-ÖØ-ß][a-zà-öø-ÿ]+|[a-zà-öø-ÿ]+|[0-9]+|[A-ZÀ-ÖØ-ß]+(?![a-zà-öø-ÿ])/g,spaceSplit=/\S+/g;function splitAndPrefix(string,options){let{keepSpecialCharacters=!1,keep,prefix=""}=options||{},normalString=string.trim().normalize("NFC"),hasSpaces=normalString.includes(" "),partsAndIndexes=function(string,splitRegex){let result={parts:[],prefixes:[]},matches=string.matchAll(splitRegex),lastWordEndIndex=0;for(let match of matches){if("number"!=typeof match.index)continue;let word=match[0];result.parts.push(word);let prefix=string.slice(lastWordEndIndex,match.index).trim();result.prefixes.push(prefix),lastWordEndIndex=match.index+word.length}let tail=string.slice(lastWordEndIndex).trim();return tail&&(result.parts.push(""),result.prefixes.push(tail)),result}(normalString,hasSpaces?spaceSplit:magicSplit);return partsAndIndexes.parts.map((_part,i)=>{let foundPrefix=partsAndIndexes.prefixes[i]||"",part=_part;return(!1!==keepSpecialCharacters||(keep&&(part=part.normalize("NFD").replace(RegExp(`[^a-zA-Z\xd8\xdf\xf80-9${keep.join("")}]`,"g"),"")),keep||(part=part.normalize("NFD").replace(/[^a-zA-ZØßø0-9]/g,""),foundPrefix="")),keep&&(foundPrefix=foundPrefix.replace(RegExp(`[^${keep.join("")}]`,"g"),"")),0===i)?foundPrefix+part:foundPrefix||part?hasSpaces&&!foundPrefix&&prefix.match(/\s/)?" "+part:(foundPrefix||prefix)+part:""}).filter(Boolean)}function pascalCase(string,options){return splitAndPrefix(string,options).reduce((result,word)=>result+function(string){var _a;let firstLetterIndex=(null===(_a=string.matchAll(magicSplit).next().value)||void 0===_a?void 0:_a.index)||0;return string.slice(0,firstLetterIndex+1).toUpperCase()+string.slice(firstLetterIndex+1).toLowerCase()}(word),"")}function kebabCase(string,options){return splitAndPrefix(string,{...options,prefix:"-"}).join("").toLowerCase()}},43264:function(module){"undefined"!=typeof self&&self,module.exports=function(d){function a(c){if(e[c])return e[c].exports;var b=e[c]={i:c,l:!1,exports:{}};return d[c].call(b.exports,b,b.exports,a),b.l=!0,b.exports}var e={};return a.m=d,a.c=e,a.d=function(c,b,d){a.o(c,b)||Object.defineProperty(c,b,{configurable:!1,enumerable:!0,get:d})},a.n=function(c){var b=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(b,"a",b),b},a.o=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)},a.p="",a(a.s=0)}([function(d,a,e){function c(){throw TypeError("The given URL is not a string. Please verify your string|array.")}function b(a){"string"!=typeof a&&c();for(var b=0,d=0,g=0,e=a.length,f=0;e--&&++f&&!(b&&-1<h.indexOf(a[f]));)"."===a[f]&&(++b,d=f);for(b=f,f=d;f--;)if(-1!==k.indexOf(a[f])){g=f+1;break}return 2>g?"":a.slice(g,b)}var h=["/",":","?","#"],k=[".","/","@"];d.exports=function(a){if("string"==typeof a)return b(a);if(Array.isArray(a)){var e,d=[],g=0;for(e=a.length;g<e;g++)d.push(b(a[g]));return d}c()}}])},42569:function(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__,factory;void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(factory=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,hasSticky="boolean"==typeof RegExp().sticky;function isRegExp(o){return o&&"[object RegExp]"===toString.call(o)}function isObject(o){return o&&"object"==typeof o&&!isRegExp(o)&&!Array.isArray(o)}function reUnion(regexps){return regexps.length?"(?:"+regexps.map(function(s){return"(?:"+s+")"}).join("|")+")":"(?!)"}function regexpOrLiteral(obj){if("string"==typeof obj)return"(?:"+obj.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(isRegExp(obj)){if(obj.ignoreCase)throw Error("RegExp /i flag not allowed");if(obj.global)throw Error("RegExp /g flag is implied");if(obj.sticky)throw Error("RegExp /y flag is implied");if(obj.multiline)throw Error("RegExp /m flag is implied");return obj.source}throw Error("Not a pattern: "+obj)}function pad(s,length){return s.length>length?s:Array(length-s.length+1).join(" ")+s}function ruleOptions(type,obj){if(isObject(obj)||(obj={match:obj}),obj.include)throw Error("Matching rules cannot also include states");var options={defaultType:type,lineBreaks:!!obj.error||!!obj.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var key in obj)hasOwnProperty.call(obj,key)&&(options[key]=obj[key]);if("string"==typeof options.type&&type!==options.type)throw Error("Type transform cannot be a string (type '"+options.type+"' for token '"+type+"')");var match=options.match;return options.match=Array.isArray(match)?match:match?[match]:[],options.match.sort(function(a,b){return isRegExp(a)&&isRegExp(b)?0:isRegExp(b)?-1:isRegExp(a)?1:b.length-a.length}),options}function toRules(spec){return Array.isArray(spec)?function(array){for(var result=[],i=0;i<array.length;i++){var obj=array[i];if(obj.include){for(var include=[].concat(obj.include),j=0;j<include.length;j++)result.push({include:include[j]});continue}if(!obj.type)throw Error("Rule has no type: "+JSON.stringify(obj));result.push(ruleOptions(obj.type,obj))}return result}(spec):function(object){for(var keys=Object.getOwnPropertyNames(object),result=[],i=0;i<keys.length;i++){var key=keys[i],rules=[].concat(object[key]);if("include"===key){for(var j=0;j<rules.length;j++)result.push({include:rules[j]});continue}var match=[];rules.forEach(function(rule){isObject(rule)?(match.length&&result.push(ruleOptions(key,match)),result.push(ruleOptions(key,rule)),match=[]):match.push(rule)}),match.length&&result.push(ruleOptions(key,match))}return result}(spec)}var defaultErrorRule=ruleOptions("error",{lineBreaks:!0,shouldThrow:!0});function compileRules(rules,hasStates){for(var errorRule=null,fast=Object.create(null),fastAllowed=!0,unicodeFlag=null,groups=[],parts=[],i=0;i<rules.length;i++)rules[i].fallback&&(fastAllowed=!1);for(var i=0;i<rules.length;i++){var options=rules[i];if(options.include)throw Error("Inheritance is not allowed in stateless lexers");if(options.error||options.fallback){if(errorRule){if(!options.fallback==!errorRule.fallback)throw Error("Multiple "+(options.fallback?"fallback":"error")+" rules not allowed (for token '"+options.defaultType+"')");throw Error("fallback and error are mutually exclusive (for token '"+options.defaultType+"')")}errorRule=options}var match=options.match.slice();if(fastAllowed)for(;match.length&&"string"==typeof match[0]&&1===match[0].length;)fast[match.shift().charCodeAt(0)]=options;if(options.pop||options.push||options.next){if(!hasStates)throw Error("State-switching options are not allowed in stateless lexers (for token '"+options.defaultType+"')");if(options.fallback)throw Error("State-switching options are not allowed on fallback tokens (for token '"+options.defaultType+"')")}if(0!==match.length){fastAllowed=!1,groups.push(options);for(var j=0;j<match.length;j++){var obj=match[j];if(isRegExp(obj)){if(null===unicodeFlag)unicodeFlag=obj.unicode;else if(unicodeFlag!==obj.unicode&&!1===options.fallback)throw Error("If one rule is /u then all must be")}}var pat=reUnion(match.map(regexpOrLiteral)),regexp=RegExp(pat);if(regexp.test(""))throw Error("RegExp matches empty string: "+regexp);if(RegExp("|"+pat).exec("").length-1>0)throw Error("RegExp has capture groups: "+regexp+"\nUse (?: … ) instead");if(!options.lineBreaks&&regexp.test("\n"))throw Error("Rule should declare lineBreaks: "+regexp);parts.push("("+pat+")")}}var fallbackRule=errorRule&&errorRule.fallback,flags=hasSticky&&!fallbackRule?"ym":"gm";return!0===unicodeFlag&&(flags+="u"),{regexp:RegExp(reUnion(parts)+(hasSticky||fallbackRule?"":"|"),flags),groups:groups,fast:fast,error:errorRule||defaultErrorRule}}function checkStateGroup(g,name,map){var state=g&&(g.push||g.next);if(state&&!map[state])throw Error("Missing state '"+state+"' (in token '"+g.defaultType+"' of state '"+name+"')");if(g&&g.pop&&1!=+g.pop)throw Error("pop must be 1 (in token '"+g.defaultType+"' of state '"+name+"')")}var Lexer=function(states,state){this.startState=state,this.states=states,this.buffer="",this.stack=[],this.reset()};Lexer.prototype.reset=function(data,info){return this.buffer=data||"",this.index=0,this.line=info?info.line:1,this.col=info?info.col:1,this.queuedToken=info?info.queuedToken:null,this.queuedText=info?info.queuedText:"",this.queuedThrow=info?info.queuedThrow:null,this.setState(info?info.state:this.startState),this.stack=info&&info.stack?info.stack.slice():[],this},Lexer.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Lexer.prototype.setState=function(state){if(state&&this.state!==state){this.state=state;var info=this.states[state];this.groups=info.groups,this.error=info.error,this.re=info.regexp,this.fast=info.fast}},Lexer.prototype.popState=function(){this.setState(this.stack.pop())},Lexer.prototype.pushState=function(state){this.stack.push(this.state),this.setState(state)};var eat=hasSticky?function(re,buffer){return re.exec(buffer)}:function(re,buffer){var match=re.exec(buffer);return 0===match[0].length?null:match};function tokenToString(){return this.value}if(Lexer.prototype._getGroup=function(match){for(var groupCount=this.groups.length,i=0;i<groupCount;i++)if(void 0!==match[i+1])return this.groups[i];throw Error("Cannot find token type for matched text")},Lexer.prototype.next=function(){var index=this.index;if(this.queuedGroup){var token=this._token(this.queuedGroup,this.queuedText,index);return this.queuedGroup=null,this.queuedText="",token}var buffer=this.buffer;if(index!==buffer.length){var group=this.fast[buffer.charCodeAt(index)];if(group)return this._token(group,buffer.charAt(index),index);var re=this.re;re.lastIndex=index;var match=eat(re,buffer),error=this.error;if(null==match)return this._token(error,buffer.slice(index,buffer.length),index);var group=this._getGroup(match),text=match[0];return error.fallback&&match.index!==index?(this.queuedGroup=group,this.queuedText=text,this._token(error,buffer.slice(index,match.index),index)):this._token(group,text,index)}},Lexer.prototype._token=function(group,text,offset){var lineBreaks=0;if(group.lineBreaks){var matchNL=/\n/g,nl=1;if("\n"===text)lineBreaks=1;else for(;matchNL.exec(text);)lineBreaks++,nl=matchNL.lastIndex}var token={type:"function"==typeof group.type&&group.type(text)||group.defaultType,value:"function"==typeof group.value?group.value(text):text,text:text,toString:tokenToString,offset:offset,lineBreaks:lineBreaks,line:this.line,col:this.col},size=text.length;if(this.index+=size,this.line+=lineBreaks,0!==lineBreaks?this.col=size-nl+1:this.col+=size,group.shouldThrow)throw Error(this.formatError(token,"invalid syntax"));return group.pop?this.popState():group.push?this.pushState(group.push):group.next&&this.setState(group.next),token},"undefined"!=typeof Symbol&&Symbol.iterator){var LexerIterator=function(lexer){this.lexer=lexer};LexerIterator.prototype.next=function(){var token=this.lexer.next();return{value:token,done:!token}},LexerIterator.prototype[Symbol.iterator]=function(){return this},Lexer.prototype[Symbol.iterator]=function(){return new LexerIterator(this)}}return Lexer.prototype.formatError=function(token,message){if(null==token)var text=this.buffer.slice(this.index),token={text:text,offset:this.index,lineBreaks:-1===text.indexOf("\n")?0:1,line:this.line,col:this.col};var firstDisplayedLine=Math.max(token.line-2,1),lastLineDigits=String(token.line+2).length,displayedLines=(function(string,numLines){for(var position=string.length,lineBreaks=0;;){var idx=string.lastIndexOf("\n",position-1);if(-1===idx||(lineBreaks++,position=idx,lineBreaks===numLines||0===position))break}var startPosition=lineBreaks<numLines?0:position+1;return string.substring(startPosition).split("\n")})(this.buffer,this.line-token.line+2+1).slice(0,5),errorLines=[];errorLines.push(message+" at line "+token.line+" col "+token.col+":"),errorLines.push("");for(var i=0;i<displayedLines.length;i++){var line=displayedLines[i],lineNo=firstDisplayedLine+i;errorLines.push(pad(String(lineNo),lastLineDigits)+"  "+line),lineNo===token.line&&errorLines.push(pad("",lastLineDigits+token.col+1)+"^")}return errorLines.join("\n")},Lexer.prototype.clone=function(){return new Lexer(this.states,this.state)},Lexer.prototype.has=function(tokenType){return!0},{compile:function(rules){var result=compileRules(toRules(rules));return new Lexer({start:result},"start")},states:function(states,start){var all=states.$all?toRules(states.$all):[];delete states.$all;var keys=Object.getOwnPropertyNames(states);start||(start=keys[0]);for(var ruleMap=Object.create(null),i=0;i<keys.length;i++){var key=keys[i];ruleMap[key]=toRules(states[key]).concat(all)}for(var i=0;i<keys.length;i++)for(var key=keys[i],rules=ruleMap[key],included=Object.create(null),j=0;j<rules.length;j++){var rule=rules[j];if(rule.include){var splice=[j,1];if(rule.include!==key&&!included[rule.include]){included[rule.include]=!0;var newRules=ruleMap[rule.include];if(!newRules)throw Error("Cannot include nonexistent state '"+rule.include+"' (in state '"+key+"')");for(var k=0;k<newRules.length;k++){var newRule=newRules[k];-1===rules.indexOf(newRule)&&splice.push(newRule)}}rules.splice.apply(rules,splice),j--}}for(var map=Object.create(null),i=0;i<keys.length;i++){var key=keys[i];map[key]=compileRules(ruleMap[key],!0)}for(var i=0;i<keys.length;i++){for(var name=keys[i],state=map[name],groups=state.groups,j=0;j<groups.length;j++)checkStateGroup(groups[j],name,map);for(var fastKeys=Object.getOwnPropertyNames(state.fast),j=0;j<fastKeys.length;j++)checkStateGroup(state.fast[fastKeys[j]],name,map)}return new Lexer(map,start)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(map){for(var isMap="undefined"!=typeof Map,reverseMap=isMap?new Map:Object.create(null),types=Object.getOwnPropertyNames(map),i=0;i<types.length;i++){var tokenType=types[i],item=map[tokenType];(Array.isArray(item)?item:[item]).forEach(function(keyword){if("string"!=typeof keyword)throw Error("keyword must be string (in keyword '"+tokenType+"')");isMap?reverseMap.set(keyword,tokenType):reverseMap[keyword]=tokenType})}return function(k){return isMap?reverseMap.get(k):reverseMap[k]}}}})?factory.apply(exports,[]):factory)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},73577:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createNanoEvents}});let createNanoEvents=()=>({events:{},emit(event,...args){(this.events[event]||[]).forEach(i=>i(...args))},on(event,cb){return(this.events[event]=this.events[event]||[]).push(cb),()=>this.events[event]=(this.events[event]||[]).filter(i=>i!==cb)}})},53712:function(module,__unused_webpack_exports,__webpack_require__){/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */ var Prism=function(_self){var lang=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,uniqueId=0,plainTextGrammar={},_={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function encode(tokens){return tokens instanceof Token?new Token(tokens.type,encode(tokens.content),tokens.alias):Array.isArray(tokens)?tokens.map(encode):tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(obj){return obj.__id||Object.defineProperty(obj,"__id",{value:++uniqueId}),obj.__id},clone:function deepClone(o,visited){var clone,id;switch(visited=visited||{},_.util.type(o)){case"Object":if(visited[id=_.util.objId(o)])return visited[id];for(var key in clone={},visited[id]=clone,o)o.hasOwnProperty(key)&&(clone[key]=deepClone(o[key],visited));return clone;case"Array":if(visited[id=_.util.objId(o)])return visited[id];return clone=[],visited[id]=clone,o.forEach(function(v,i){clone[i]=deepClone(v,visited)}),clone;default:return o}},getLanguage:function(element){for(;element;){var m=lang.exec(element.className);if(m)return m[1].toLowerCase();element=element.parentElement}return"none"},setLanguage:function(element,language){element.className=element.className.replace(RegExp(lang,"gi"),""),element.classList.add("language-"+language)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw Error()}catch(err){var src=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(err.stack)||[])[1];if(src){var scripts=document.getElementsByTagName("script");for(var i in scripts)if(scripts[i].src==src)return scripts[i]}return null}},isActive:function(element,className,defaultActivation){for(var no="no-"+className;element;){var classList=element.classList;if(classList.contains(className))return!0;if(classList.contains(no))return!1;element=element.parentElement}return!!defaultActivation}},languages:{plain:plainTextGrammar,plaintext:plainTextGrammar,text:plainTextGrammar,txt:plainTextGrammar,extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef)lang[key]=redef[key];return lang},insertBefore:function(inside,before,insert,root){var grammar=(root=root||_.languages)[inside],ret={};for(var token in grammar)if(grammar.hasOwnProperty(token)){if(token==before)for(var newToken in insert)insert.hasOwnProperty(newToken)&&(ret[newToken]=insert[newToken]);insert.hasOwnProperty(token)||(ret[token]=grammar[token])}var old=root[inside];return root[inside]=ret,_.languages.DFS(_.languages,function(key,value){value===old&&key!=inside&&(this[key]=ret)}),ret},DFS:function DFS(o,callback,type,visited){visited=visited||{};var objId=_.util.objId;for(var i in o)if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);var property=o[i],propertyType=_.util.type(property);"Object"!==propertyType||visited[objId(property)]?"Array"!==propertyType||visited[objId(property)]||(visited[objId(property)]=!0,DFS(property,callback,i,visited)):(visited[objId(property)]=!0,DFS(property,callback,null,visited))}}},plugins:{},highlightAll:function(async,callback){_.highlightAllUnder(document,async,callback)},highlightAllUnder:function(container,async,callback){var env={callback:callback,container:container,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run("before-highlightall",env),env.elements=Array.prototype.slice.apply(env.container.querySelectorAll(env.selector)),_.hooks.run("before-all-elements-highlight",env);for(var element,i=0;element=env.elements[i++];)_.highlightElement(element,!0===async,env.callback)},highlightElement:function(element,async,callback){var language=_.util.getLanguage(element),grammar=_.languages[language];_.util.setLanguage(element,language);var parent=element.parentElement;parent&&"pre"===parent.nodeName.toLowerCase()&&_.util.setLanguage(parent,language);var code=element.textContent,env={element:element,language:language,grammar:grammar,code:code};function insertHighlightedCode(highlightedCode){env.highlightedCode=highlightedCode,_.hooks.run("before-insert",env),env.element.innerHTML=env.highlightedCode,_.hooks.run("after-highlight",env),_.hooks.run("complete",env),callback&&callback.call(env.element)}if(_.hooks.run("before-sanity-check",env),(parent=env.element.parentElement)&&"pre"===parent.nodeName.toLowerCase()&&!parent.hasAttribute("tabindex")&&parent.setAttribute("tabindex","0"),!env.code){_.hooks.run("complete",env),callback&&callback.call(env.element);return}if(_.hooks.run("before-highlight",env),!env.grammar){insertHighlightedCode(_.util.encode(env.code));return}if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){insertHighlightedCode(evt.data)},worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:!0}))}else insertHighlightedCode(_.highlight(env.code,env.grammar,env.language))},highlight:function(text,grammar,language){var env={code:text,grammar:grammar,language:language};if(_.hooks.run("before-tokenize",env),!env.grammar)throw Error('The language "'+env.language+'" has no grammar.');return env.tokens=_.tokenize(env.code,env.grammar),_.hooks.run("after-tokenize",env),Token.stringify(_.util.encode(env.tokens),env.language)},tokenize:function(text,grammar){var rest=grammar.rest;if(rest){for(var token in rest)grammar[token]=rest[token];delete grammar.rest}var tokenList=new LinkedList;return addAfter(tokenList,tokenList.head,text),function matchGrammar(text,tokenList,grammar,startNode,startPos,rematch){for(var token in grammar)if(grammar.hasOwnProperty(token)&&grammar[token]){var patterns=grammar[token];patterns=Array.isArray(patterns)?patterns:[patterns];for(var j=0;j<patterns.length;++j){if(rematch&&rematch.cause==token+","+j)return;var patternObj=patterns[j],inside=patternObj.inside,lookbehind=!!patternObj.lookbehind,greedy=!!patternObj.greedy,alias=patternObj.alias;if(greedy&&!patternObj.pattern.global){var flags=patternObj.pattern.toString().match(/[imsuy]*$/)[0];patternObj.pattern=RegExp(patternObj.pattern.source,flags+"g")}for(var pattern=patternObj.pattern||patternObj,currentNode=startNode.next,pos=startPos;currentNode!==tokenList.tail&&(!rematch||!(pos>=rematch.reach));pos+=currentNode.value.length,currentNode=currentNode.next){var match,str=currentNode.value;if(tokenList.length>text.length)return;if(!(str instanceof Token)){var removeCount=1;if(greedy){if(!(match=matchPattern(pattern,pos,text,lookbehind))||match.index>=text.length)break;var from=match.index,to=match.index+match[0].length,p=pos;for(p+=currentNode.value.length;from>=p;)p+=(currentNode=currentNode.next).value.length;if(p-=currentNode.value.length,pos=p,currentNode.value instanceof Token)continue;for(var k=currentNode;k!==tokenList.tail&&(p<to||"string"==typeof k.value);k=k.next)removeCount++,p+=k.value.length;removeCount--,str=text.slice(pos,p),match.index-=pos}else if(!(match=matchPattern(pattern,0,str,lookbehind)))continue;var from=match.index,matchStr=match[0],before=str.slice(0,from),after=str.slice(from+matchStr.length),reach=pos+str.length;rematch&&reach>rematch.reach&&(rematch.reach=reach);var removeFrom=currentNode.prev;before&&(removeFrom=addAfter(tokenList,removeFrom,before),pos+=before.length),function(list,node,count){for(var next=node.next,i=0;i<count&&next!==list.tail;i++)next=next.next;node.next=next,next.prev=node,list.length-=i}(tokenList,removeFrom,removeCount);var wrapped=new Token(token,inside?_.tokenize(matchStr,inside):matchStr,alias,matchStr);if(currentNode=addAfter(tokenList,removeFrom,wrapped),after&&addAfter(tokenList,currentNode,after),removeCount>1){var nestedRematch={cause:token+","+j,reach:reach};matchGrammar(text,tokenList,grammar,currentNode.prev,pos,nestedRematch),rematch&&nestedRematch.reach>rematch.reach&&(rematch.reach=nestedRematch.reach)}}}}}}(text,tokenList,grammar,tokenList.head,0),function(list){for(var array=[],node=list.head.next;node!==list.tail;)array.push(node.value),node=node.next;return array}(tokenList)},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[],hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(callbacks&&callbacks.length)for(var callback,i=0;callback=callbacks[i++];)callback(env)}},Token:Token};function Token(type,content,alias,matchedStr){this.type=type,this.content=content,this.alias=alias,this.length=0|(matchedStr||"").length}function matchPattern(pattern,pos,text,lookbehind){pattern.lastIndex=pos;var match=pattern.exec(text);if(match&&lookbehind&&match[1]){var lookbehindLength=match[1].length;match.index+=lookbehindLength,match[0]=match[0].slice(lookbehindLength)}return match}function LinkedList(){var head={value:null,prev:null,next:null},tail={value:null,prev:head,next:null};head.next=tail,this.head=head,this.tail=tail,this.length=0}function addAfter(list,node,value){var next=node.next,newNode={value:value,prev:node,next:next};return node.next=newNode,next.prev=newNode,list.length++,newNode}if(_self.Prism=_,Token.stringify=function stringify(o,language){if("string"==typeof o)return o;if(Array.isArray(o)){var s="";return o.forEach(function(e){s+=stringify(e,language)}),s}var env={type:o.type,content:stringify(o.content,language),tag:"span",classes:["token",o.type],attributes:{},language:language},aliases=o.alias;aliases&&(Array.isArray(aliases)?Array.prototype.push.apply(env.classes,aliases):env.classes.push(aliases)),_.hooks.run("wrap",env);var attributes="";for(var name in env.attributes)attributes+=" "+name+'="'+(env.attributes[name]||"").replace(/"/g,"&quot;")+'"';return"<"+env.tag+' class="'+env.classes.join(" ")+'"'+attributes+">"+env.content+"</"+env.tag+">"},!_self.document)return _self.addEventListener&&(_.disableWorkerMessageHandler||_self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang)),immediateClose&&_self.close()},!1)),_;var script=_.util.currentScript();function highlightAutomaticallyCallback(){_.manual||_.highlightAll()}if(script&&(_.filename=script.src,script.hasAttribute("data-manual")&&(_.manual=!0)),!_.manual){var readyState=document.readyState;"loading"===readyState||"interactive"===readyState&&script&&script.defer?document.addEventListener("DOMContentLoaded",highlightAutomaticallyCallback):window.requestAnimationFrame?window.requestAnimationFrame(highlightAutomaticallyCallback):window.setTimeout(highlightAutomaticallyCallback,16)}return _}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});module.exports&&(module.exports=Prism),void 0!==__webpack_require__.g&&(__webpack_require__.g.Prism=Prism)},10746:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N0:function(){return selectParentNode},QF:function(){return chainCommands},YR:function(){return baseKeymap},al:function(){return joinBackward},uo:function(){return exitCode},w9:function(){return toggleMark}});var splitNode,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21692),prosemirror_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57981),prosemirror_state__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39451);let deleteSelection=(state,dispatch)=>!state.selection.empty&&(dispatch&&dispatch(state.tr.deleteSelection().scrollIntoView()),!0),joinBackward=(state,dispatch,view)=>{let $cursor=function(state,view){let{$cursor}=state.selection;return $cursor&&(view?view.endOfTextblock("backward",state):!($cursor.parentOffset>0))?$cursor:null}(state,view);if(!$cursor)return!1;let $cut=findCutBefore($cursor);if(!$cut){let range=$cursor.blockRange(),target=range&&(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.k9)(range);return null!=target&&(dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0)}let before=$cut.nodeBefore;if(!before.type.spec.isolating&&deleteBarrier(state,$cut,dispatch))return!0;if(0==$cursor.parent.content.size&&(textblockAt(before,"end")||prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.isSelectable(before))){let delStep=(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.dR)(state.doc,$cursor.before(),$cursor.after(),prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.p2.empty);if(delStep&&delStep.slice.size<delStep.to-delStep.from){if(dispatch){let tr=state.tr.step(delStep);tr.setSelection(textblockAt(before,"end")?prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Y1.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos,-1)),-1):prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.create(tr.doc,$cut.pos-before.nodeSize)),dispatch(tr.scrollIntoView())}return!0}}return!!before.isAtom&&$cut.depth==$cursor.depth-1&&(dispatch&&dispatch(state.tr.delete($cut.pos-before.nodeSize,$cut.pos).scrollIntoView()),!0)};function textblockAt(node,side,only=!1){for(let scan=node;scan;scan="start"==side?scan.firstChild:scan.lastChild){if(scan.isTextblock)return!0;if(only&&1!=scan.childCount)break}return!1}let selectNodeBackward=(state,dispatch,view)=>{let{$head,empty}=state.selection,$cut=$head;if(!empty)return!1;if($head.parent.isTextblock){if(view?!view.endOfTextblock("backward",state):$head.parentOffset>0)return!1;$cut=findCutBefore($head)}let node=$cut&&$cut.nodeBefore;return!!(node&&prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.isSelectable(node))&&(dispatch&&dispatch(state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.create(state.doc,$cut.pos-node.nodeSize)).scrollIntoView()),!0)};function findCutBefore($pos){if(!$pos.parent.type.spec.isolating)for(let i=$pos.depth-1;i>=0;i--){if($pos.index(i)>0)return $pos.doc.resolve($pos.before(i+1));if($pos.node(i).type.spec.isolating)break}return null}let joinForward=(state,dispatch,view)=>{let $cursor=function(state,view){let{$cursor}=state.selection;return $cursor&&(view?view.endOfTextblock("forward",state):!($cursor.parentOffset<$cursor.parent.content.size))?$cursor:null}(state,view);if(!$cursor)return!1;let $cut=findCutAfter($cursor);if(!$cut)return!1;let after=$cut.nodeAfter;if(deleteBarrier(state,$cut,dispatch))return!0;if(0==$cursor.parent.content.size&&(textblockAt(after,"start")||prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.isSelectable(after))){let delStep=(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.dR)(state.doc,$cursor.before(),$cursor.after(),prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.p2.empty);if(delStep&&delStep.slice.size<delStep.to-delStep.from){if(dispatch){let tr=state.tr.step(delStep);tr.setSelection(textblockAt(after,"start")?prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Y1.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)),1):prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.create(tr.doc,tr.mapping.map($cut.pos))),dispatch(tr.scrollIntoView())}return!0}}return!!after.isAtom&&$cut.depth==$cursor.depth-1&&(dispatch&&dispatch(state.tr.delete($cut.pos,$cut.pos+after.nodeSize).scrollIntoView()),!0)},selectNodeForward=(state,dispatch,view)=>{let{$head,empty}=state.selection,$cut=$head;if(!empty)return!1;if($head.parent.isTextblock){if(view?!view.endOfTextblock("forward",state):$head.parentOffset<$head.parent.content.size)return!1;$cut=findCutAfter($head)}let node=$cut&&$cut.nodeAfter;return!!(node&&prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.isSelectable(node))&&(dispatch&&dispatch(state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.create(state.doc,$cut.pos)).scrollIntoView()),!0)};function findCutAfter($pos){if(!$pos.parent.type.spec.isolating)for(let i=$pos.depth-1;i>=0;i--){let parent=$pos.node(i);if($pos.index(i)+1<parent.childCount)return $pos.doc.resolve($pos.after(i+1));if(parent.type.spec.isolating)break}return null}let newlineInCode=(state,dispatch)=>{let{$head,$anchor}=state.selection;return!!($head.parent.type.spec.code&&$head.sameParent($anchor))&&(dispatch&&dispatch(state.tr.insertText("\n").scrollIntoView()),!0)};function defaultBlockAt(match){for(let i=0;i<match.edgeCount;i++){let{type}=match.edge(i);if(type.isTextblock&&!type.hasRequiredAttrs())return type}return null}let exitCode=(state,dispatch)=>{let{$head,$anchor}=state.selection;if(!$head.parent.type.spec.code||!$head.sameParent($anchor))return!1;let above=$head.node(-1),after=$head.indexAfter(-1),type=defaultBlockAt(above.contentMatchAt(after));if(!type||!above.canReplaceWith(after,after,type))return!1;if(dispatch){let pos=$head.after(),tr=state.tr.replaceWith(pos,pos,type.createAndFill());tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Y1.near(tr.doc.resolve(pos),1)),dispatch(tr.scrollIntoView())}return!0},createParagraphNear=(state,dispatch)=>{let sel=state.selection,{$from,$to}=sel;if(sel instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.C1||$from.parent.inlineContent||$to.parent.inlineContent)return!1;let type=defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));if(!type||!type.isTextblock)return!1;if(dispatch){let side=(!$from.parentOffset&&$to.index()<$to.parent.childCount?$from:$to).pos,tr=state.tr.insert(side,type.createAndFill());tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Bs.create(tr.doc,side+1)),dispatch(tr.scrollIntoView())}return!0},liftEmptyBlock=(state,dispatch)=>{let{$cursor}=state.selection;if(!$cursor||$cursor.parent.content.size)return!1;if($cursor.depth>1&&$cursor.after()!=$cursor.end(-1)){let before=$cursor.before();if((0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Ax)(state.doc,before))return dispatch&&dispatch(state.tr.split(before).scrollIntoView()),!0}let range=$cursor.blockRange(),target=range&&(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.k9)(range);return null!=target&&(dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0)},splitBlock=(state,dispatch)=>{let{$from,$to}=state.selection;if(state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv&&state.selection.node.isBlock)return!!($from.parentOffset&&(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Ax)(state.doc,$from.pos))&&(dispatch&&dispatch(state.tr.split($from.pos).scrollIntoView()),!0);if(!$from.parent.isBlock)return!1;if(dispatch){let atEnd=$to.parentOffset==$to.parent.content.size,tr=state.tr;(state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Bs||state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.C1)&&tr.deleteSelection();let deflt=0==$from.depth?null:defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1))),splitType=splitNode&&splitNode($to.parent,atEnd),types=splitType?[splitType]:atEnd&&deflt?[{type:deflt}]:void 0,can=(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Ax)(tr.doc,tr.mapping.map($from.pos),1,types);if(!types&&!can&&(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Ax)(tr.doc,tr.mapping.map($from.pos),1,deflt?[{type:deflt}]:void 0)&&(deflt&&(types=[{type:deflt}]),can=!0),can&&(tr.split(tr.mapping.map($from.pos),1,types),!atEnd&&!$from.parentOffset&&$from.parent.type!=deflt)){let first=tr.mapping.map($from.before()),$first=tr.doc.resolve(first);deflt&&$from.node(-1).canReplaceWith($first.index(),$first.index()+1,deflt)&&tr.setNodeMarkup(tr.mapping.map($from.before()),deflt)}dispatch(tr.scrollIntoView())}return!0},selectParentNode=(state,dispatch)=>{let{$from,to}=state.selection,pos,same=$from.sharedDepth(to);return 0!=same&&(pos=$from.before(same),dispatch&&dispatch(state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.qv.create(state.doc,pos))),!0)},selectAll=(state,dispatch)=>(dispatch&&dispatch(state.tr.setSelection(new prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.C1(state.doc))),!0);function deleteBarrier(state,$cut,dispatch){let before,after,index,before1=$cut.nodeBefore,after1=$cut.nodeAfter,conn,match;if(before1.type.spec.isolating||after1.type.spec.isolating)return!1;if(before=$cut.nodeBefore,after=$cut.nodeAfter,index=$cut.index(),before&&after&&before.type.compatibleContent(after.type)&&(!before.content.size&&$cut.parent.canReplace(index-1,index)?(dispatch&&dispatch(state.tr.delete($cut.pos-before.nodeSize,$cut.pos).scrollIntoView()),!0):!!($cut.parent.canReplace(index,index+1)&&(after.isTextblock||(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Mn)(state.doc,$cut.pos)))&&(dispatch&&dispatch(state.tr.clearIncompatible($cut.pos,before.type,before.contentMatchAt(before.childCount)).join($cut.pos).scrollIntoView()),!0)))return!0;let canDelAfter=$cut.parent.canReplace($cut.index(),$cut.index()+1);if(canDelAfter&&(conn=(match=before1.contentMatchAt(before1.childCount)).findWrapping(after1.type))&&match.matchType(conn[0]||after1.type).validEnd){if(dispatch){let end=$cut.pos+after1.nodeSize,wrap=prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.HY.empty;for(let i=conn.length-1;i>=0;i--)wrap=prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.HY.from(conn[i].create(null,wrap));wrap=prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.HY.from(before1.copy(wrap));let tr=state.tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.FC($cut.pos-1,end,$cut.pos,end,new prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.p2(wrap,1,0),conn.length,!0)),joinAt=end+2*conn.length;(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Mn)(tr.doc,joinAt)&&tr.join(joinAt),dispatch(tr.scrollIntoView())}return!0}let selAfter=prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Y1.findFrom($cut,1),range=selAfter&&selAfter.$from.blockRange(selAfter.$to),target=range&&(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.k9)(range);if(null!=target&&target>=$cut.depth)return dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0;if(canDelAfter&&textblockAt(after1,"start",!0)&&textblockAt(before1,"end")){let at=before1,wrap1=[];for(;wrap1.push(at),!at.isTextblock;)at=at.lastChild;let afterText=after1,afterDepth=1;for(;!afterText.isTextblock;afterText=afterText.firstChild)afterDepth++;if(at.canReplace(at.childCount,at.childCount,afterText.content)){if(dispatch){let end1=prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.HY.empty;for(let i1=wrap1.length-1;i1>=0;i1--)end1=prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.HY.from(wrap1[i1].copy(end1));dispatch(state.tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.FC($cut.pos-wrap1.length,$cut.pos+after1.nodeSize,$cut.pos+afterDepth,$cut.pos+after1.nodeSize-afterDepth,new prosemirror_model__WEBPACK_IMPORTED_MODULE_2__.p2(end1,wrap1.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function selectTextblockSide(side){return function(state,dispatch){let sel=state.selection,$pos=side<0?sel.$from:sel.$to,depth=$pos.depth;for(;$pos.node(depth).isInline;){if(!depth)return!1;depth--}return!!$pos.node(depth).isTextblock&&(dispatch&&dispatch(state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_1__.Bs.create(state.doc,side<0?$pos.start(depth):$pos.end(depth)))),!0)}}let selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function toggleMark(markType,attrs=null){return function(state,dispatch){let{empty,$cursor,ranges}=state.selection;if(empty&&!$cursor||!function(doc,ranges,type){for(let i=0;i<ranges.length;i++){let{$from,$to}=ranges[i],can=0==$from.depth&&doc.inlineContent&&doc.type.allowsMarkType(type);if(doc.nodesBetween($from.pos,$to.pos,node=>{if(can)return!1;can=node.inlineContent&&node.type.allowsMarkType(type)}),can)return!0}return!1}(state.doc,ranges,markType))return!1;if(dispatch){if($cursor)dispatch(markType.isInSet(state.storedMarks||$cursor.marks())?state.tr.removeStoredMark(markType):state.tr.addStoredMark(markType.create(attrs)));else{let has=!1,tr=state.tr;for(let i=0;!has&&i<ranges.length;i++){let{$from,$to}=ranges[i];has=state.doc.rangeHasMark($from.pos,$to.pos,markType)}for(let i1=0;i1<ranges.length;i1++){let{$from:$from1,$to:$to1}=ranges[i1];if(has)tr.removeMark($from1.pos,$to1.pos,markType);else{let from=$from1.pos,to=$to1.pos,start=$from1.nodeAfter,end=$to1.nodeBefore,spaceStart=start&&start.isText?/^\s*/.exec(start.text)[0].length:0,spaceEnd=end&&end.isText?/\s*$/.exec(end.text)[0].length:0;from+spaceStart<to&&(from+=spaceStart,to-=spaceEnd),tr.addMark(from,to,markType.create(attrs))}}dispatch(tr.scrollIntoView())}}return!0}}function chainCommands(...commands){return function(state,dispatch,view){for(let i=0;i<commands.length;i++)if(commands[i](state,dispatch,view))return!0;return!1}}let backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward),pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":selectAll},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(let key in pcBaseKeymap)macBaseKeymap[key]=pcBaseKeymap[key];let mac="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&!!os.platform&&"darwin"==os.platform(),baseKeymap=mac?macBaseKeymap:pcBaseKeymap},8032:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m8:function(){return dist_history},KX:function(){return redo},AH:function(){return redoDepth},Yw:function(){return undo},of:function(){return undoDepth}});var RopeSequence=function(){};RopeSequence.prototype.append=function(other){return other.length?(other=RopeSequence.from(other),!this.length&&other||other.length<200&&this.leafAppend(other)||this.length<200&&other.leafPrepend(this)||this.appendInner(other)):this},RopeSequence.prototype.prepend=function(other){return other.length?RopeSequence.from(other).append(this):this},RopeSequence.prototype.appendInner=function(other){return new Append(this,other)},RopeSequence.prototype.slice=function(from,to){return(void 0===from&&(from=0),void 0===to&&(to=this.length),from>=to)?RopeSequence.empty:this.sliceInner(Math.max(0,from),Math.min(this.length,to))},RopeSequence.prototype.get=function(i){if(!(i<0)&&!(i>=this.length))return this.getInner(i)},RopeSequence.prototype.forEach=function(f,from,to){void 0===from&&(from=0),void 0===to&&(to=this.length),from<=to?this.forEachInner(f,from,to,0):this.forEachInvertedInner(f,from,to,0)},RopeSequence.prototype.map=function(f,from,to){void 0===from&&(from=0),void 0===to&&(to=this.length);var result=[];return this.forEach(function(elt,i){return result.push(f(elt,i))},from,to),result},RopeSequence.from=function(values){return values instanceof RopeSequence?values:values&&values.length?new Leaf(values):RopeSequence.empty};var Leaf=function(RopeSequence){function Leaf(values){RopeSequence.call(this),this.values=values}RopeSequence&&(Leaf.__proto__=RopeSequence),Leaf.prototype=Object.create(RopeSequence&&RopeSequence.prototype),Leaf.prototype.constructor=Leaf;var prototypeAccessors={length:{configurable:!0},depth:{configurable:!0}};return Leaf.prototype.flatten=function(){return this.values},Leaf.prototype.sliceInner=function(from,to){return 0==from&&to==this.length?this:new Leaf(this.values.slice(from,to))},Leaf.prototype.getInner=function(i){return this.values[i]},Leaf.prototype.forEachInner=function(f,from,to,start){for(var i=from;i<to;i++)if(!1===f(this.values[i],start+i))return!1},Leaf.prototype.forEachInvertedInner=function(f,from,to,start){for(var i=from-1;i>=to;i--)if(!1===f(this.values[i],start+i))return!1},Leaf.prototype.leafAppend=function(other){if(this.length+other.length<=200)return new Leaf(this.values.concat(other.flatten()))},Leaf.prototype.leafPrepend=function(other){if(this.length+other.length<=200)return new Leaf(other.flatten().concat(this.values))},prototypeAccessors.length.get=function(){return this.values.length},prototypeAccessors.depth.get=function(){return 0},Object.defineProperties(Leaf.prototype,prototypeAccessors),Leaf}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(RopeSequence){function Append(left,right){RopeSequence.call(this),this.left=left,this.right=right,this.length=left.length+right.length,this.depth=Math.max(left.depth,right.depth)+1}return RopeSequence&&(Append.__proto__=RopeSequence),Append.prototype=Object.create(RopeSequence&&RopeSequence.prototype),Append.prototype.constructor=Append,Append.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},Append.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},Append.prototype.forEachInner=function(f,from,to,start){var leftLen=this.left.length;if(from<leftLen&&!1===this.left.forEachInner(f,from,Math.min(to,leftLen),start)||to>leftLen&&!1===this.right.forEachInner(f,Math.max(from-leftLen,0),Math.min(this.length,to)-leftLen,start+leftLen))return!1},Append.prototype.forEachInvertedInner=function(f,from,to,start){var leftLen=this.left.length;if(from>leftLen&&!1===this.right.forEachInvertedInner(f,from-leftLen,Math.max(to,leftLen)-leftLen,start+leftLen)||to<leftLen&&!1===this.left.forEachInvertedInner(f,Math.min(from,leftLen),to,start))return!1},Append.prototype.sliceInner=function(from,to){if(0==from&&to==this.length)return this;var leftLen=this.left.length;return to<=leftLen?this.left.slice(from,to):from>=leftLen?this.right.slice(from-leftLen,to-leftLen):this.left.slice(from,leftLen).append(this.right.slice(0,to-leftLen))},Append.prototype.leafAppend=function(other){var inner=this.right.leafAppend(other);if(inner)return new Append(this.left,inner)},Append.prototype.leafPrepend=function(other){var inner=this.left.leafPrepend(other);if(inner)return new Append(inner,this.right)},Append.prototype.appendInner=function(other){return this.left.depth>=Math.max(this.right.depth,other.depth)+1?new Append(this.left,new Append(this.right,other)):new Append(this,other)},Append}(RopeSequence),dist=__webpack_require__(21692),prosemirror_state_dist=__webpack_require__(39451);class Branch{constructor(items,eventCount){this.items=items,this.eventCount=eventCount}popEvent(state,preserveItems){let remap,mapFrom,selection,remaining;if(0==this.eventCount)return null;let end=this.items.length;for(;;end--)if(this.items.get(end-1).selection){--end;break}preserveItems&&(mapFrom=(remap=this.remapping(end,this.items.length)).maps.length);let transform=state.tr,addAfter=[],addBefore=[];return this.items.forEach((item,i)=>{if(!item.step){remap||(mapFrom=(remap=this.remapping(end,i+1)).maps.length),mapFrom--,addBefore.push(item);return}if(remap){addBefore.push(new Item(item.map));let step=item.step.map(remap.slice(mapFrom)),map;step&&transform.maybeStep(step).doc&&(map=transform.mapping.maps[transform.mapping.maps.length-1],addAfter.push(new Item(map,void 0,void 0,addAfter.length+addBefore.length))),mapFrom--,map&&remap.appendMap(map,mapFrom)}else transform.maybeStep(item.step);if(item.selection)return selection=remap?item.selection.map(remap.slice(mapFrom)):item.selection,remaining=new Branch(this.items.slice(0,end).append(addBefore.reverse().concat(addAfter)),this.eventCount-1),!1},this.items.length,0),{remaining:remaining,transform,selection:selection}}addTransform(transform,selection,histOptions,preserveItems){var items,n;let cutPoint,newItems=[],eventCount=this.eventCount,oldItems=this.items,lastItem=!preserveItems&&oldItems.length?oldItems.get(oldItems.length-1):null;for(let i=0;i<transform.steps.length;i++){let step=transform.steps[i].invert(transform.docs[i]),item=new Item(transform.mapping.maps[i],step,selection),merged;(merged=lastItem&&lastItem.merge(item))&&(item=merged,i?newItems.pop():oldItems=oldItems.slice(0,oldItems.length-1)),newItems.push(item),selection&&(eventCount++,selection=void 0),preserveItems||(lastItem=item)}let overflow=eventCount-histOptions.depth;return overflow>DEPTH_OVERFLOW&&(items=oldItems,n=overflow,items.forEach((item,i)=>{if(item.selection&&0==n--)return cutPoint=i,!1}),oldItems=items.slice(cutPoint),eventCount-=overflow),new Branch(oldItems.append(newItems),eventCount)}remapping(from,to){let maps=new dist.vs;return this.items.forEach((item,i)=>{let mirrorPos=null!=item.mirrorOffset&&i-item.mirrorOffset>=from?maps.maps.length-item.mirrorOffset:void 0;maps.appendMap(item.map,mirrorPos)},from,to),maps}addMaps(array){return 0==this.eventCount?this:new Branch(this.items.append(array.map(map=>new Item(map))),this.eventCount)}rebased(rebasedTransform,rebasedCount){if(!this.eventCount)return this;let rebasedItems=[],start=Math.max(0,this.items.length-rebasedCount),mapping=rebasedTransform.mapping,newUntil=rebasedTransform.steps.length,eventCount=this.eventCount;this.items.forEach(item=>{item.selection&&eventCount--},start);let iRebased=rebasedCount;this.items.forEach(item=>{let pos=mapping.getMirror(--iRebased);if(null==pos)return;newUntil=Math.min(newUntil,pos);let map=mapping.maps[pos];if(item.step){let step=rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]),selection=item.selection&&item.selection.map(mapping.slice(iRebased+1,pos));selection&&eventCount++,rebasedItems.push(new Item(map,step,selection))}else rebasedItems.push(new Item(map))},start);let newMaps=[];for(let i=rebasedCount;i<newUntil;i++)newMaps.push(new Item(mapping.maps[i]));let items=this.items.slice(0,start).append(newMaps).append(rebasedItems),branch=new Branch(items,eventCount);return branch.emptyItemCount()>500&&(branch=branch.compress(this.items.length-rebasedItems.length)),branch}emptyItemCount(){let count=0;return this.items.forEach(item=>{!item.step&&count++}),count}compress(upto=this.items.length){let remap=this.remapping(0,upto),mapFrom=remap.maps.length,items=[],events=0;return this.items.forEach((item,i)=>{if(i>=upto)items.push(item),item.selection&&events++;else if(item.step){let step=item.step.map(remap.slice(mapFrom)),map=step&&step.getMap();if(mapFrom--,map&&remap.appendMap(map,mapFrom),step){let selection=item.selection&&item.selection.map(remap.slice(mapFrom));selection&&events++;let newItem=new Item(map.invert(),step,selection),merged,last=items.length-1;(merged=items.length&&items[last].merge(newItem))?items[last]=merged:items.push(newItem)}}else item.map&&mapFrom--},this.items.length,0),new Branch(RopeSequence.from(items.reverse()),events)}}Branch.empty=new Branch(RopeSequence.empty,0);class Item{constructor(map,step,selection,mirrorOffset){this.map=map,this.step=step,this.selection=selection,this.mirrorOffset=mirrorOffset}merge(other){if(this.step&&other.step&&!other.selection){let step=other.step.merge(this.step);if(step)return new Item(step.getMap().invert(),step,this.selection)}}}class HistoryState{constructor(done,undone,prevRanges,prevTime){this.done=done,this.undone=undone,this.prevRanges=prevRanges,this.prevTime=prevTime}}let DEPTH_OVERFLOW=20;function rangesFor(map){let result=[];return map.forEach((_from,_to,from,to)=>result.push(from,to)),result}function mapRanges(ranges,mapping){if(!ranges)return null;let result=[];for(let i=0;i<ranges.length;i+=2){let from=mapping.map(ranges[i],1),to=mapping.map(ranges[i+1],-1);from<=to&&result.push(from,to)}return result}function histTransaction(history,state,dispatch,redo){let preserveItems=mustPreserveItems(state),histOptions=historyKey.get(state).spec.config,pop=(redo?history.undone:history.done).popEvent(state,preserveItems);if(!pop)return;let selection=pop.selection.resolve(pop.transform.doc),added=(redo?history.done:history.undone).addTransform(pop.transform,state.selection.getBookmark(),histOptions,preserveItems),newHist=new HistoryState(redo?added:pop.remaining,redo?pop.remaining:added,null,0);dispatch(pop.transform.setSelection(selection).setMeta(historyKey,{redo,historyState:newHist}).scrollIntoView())}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(state){let plugins=state.plugins;if(cachedPreserveItemsPlugins!=plugins){cachedPreserveItems=!1,cachedPreserveItemsPlugins=plugins;for(let i=0;i<plugins.length;i++)if(plugins[i].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}let historyKey=new prosemirror_state_dist.H$("history"),closeHistoryKey=new prosemirror_state_dist.H$("closeHistory");function dist_history(config={}){return config={depth:config.depth||100,newGroupDelay:config.newGroupDelay||500},new prosemirror_state_dist.Sy({key:historyKey,state:{init:()=>new HistoryState(Branch.empty,Branch.empty,null,0),apply:(tr,hist,state)=>(function(history,state,tr,options){let historyTr=tr.getMeta(historyKey),rebased;if(historyTr)return historyTr.historyState;tr.getMeta(closeHistoryKey)&&(history=new HistoryState(history.done,history.undone,null,0));let appended=tr.getMeta("appendedTransaction");if(0==tr.steps.length)return history;if(appended&&appended.getMeta(historyKey))return appended.getMeta(historyKey).redo?new HistoryState(history.done.addTransform(tr,void 0,options,mustPreserveItems(state)),history.undone,rangesFor(tr.mapping.maps[tr.steps.length-1]),history.prevTime):new HistoryState(history.done,history.undone.addTransform(tr,void 0,options,mustPreserveItems(state)),null,history.prevTime);if(!1===tr.getMeta("addToHistory")||appended&&!1===appended.getMeta("addToHistory"))return(rebased=tr.getMeta("rebased"))?new HistoryState(history.done.rebased(tr,rebased),history.undone.rebased(tr,rebased),mapRanges(history.prevRanges,tr.mapping),history.prevTime):new HistoryState(history.done.addMaps(tr.mapping.maps),history.undone.addMaps(tr.mapping.maps),mapRanges(history.prevRanges,tr.mapping),history.prevTime);{let newGroup=0==history.prevTime||!appended&&(history.prevTime<(tr.time||0)-options.newGroupDelay||!function(transform,prevRanges){if(!prevRanges)return!1;if(!transform.docChanged)return!0;let adjacent=!1;return transform.mapping.maps[0].forEach((start,end)=>{for(let i=0;i<prevRanges.length;i+=2)start<=prevRanges[i+1]&&end>=prevRanges[i]&&(adjacent=!0)}),adjacent}(tr,history.prevRanges)),prevRanges=appended?mapRanges(history.prevRanges,tr.mapping):rangesFor(tr.mapping.maps[tr.steps.length-1]);return new HistoryState(history.done.addTransform(tr,newGroup?state.selection.getBookmark():void 0,options,mustPreserveItems(state)),Branch.empty,prevRanges,tr.time)}})(hist,state,tr,config)},config,props:{handleDOMEvents:{beforeinput(view,e){let inputType=e.inputType,command="historyUndo"==inputType?undo:"historyRedo"==inputType?redo:null;return!!command&&(e.preventDefault(),command(view.state,view.dispatch))}}}})}let undo=(state,dispatch)=>{let hist=historyKey.getState(state);return!!hist&&0!=hist.done.eventCount&&(dispatch&&histTransaction(hist,state,dispatch,!1),!0)},redo=(state,dispatch)=>{let hist=historyKey.getState(state);return!!hist&&0!=hist.undone.eventCount&&(dispatch&&histTransaction(hist,state,dispatch,!0),!0)};function undoDepth(state){let hist=historyKey.getState(state);return hist?hist.done.eventCount:0}function redoDepth(state){let hist=historyKey.getState(state);return hist?hist.undone.eventCount:0}},86271:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return keydownHandler}});var w3c_keyname__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(42142);let mac="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function modifiers(name,event,shift=!0){return event.altKey&&(name="Alt-"+name),event.ctrlKey&&(name="Ctrl-"+name),event.metaKey&&(name="Meta-"+name),shift&&event.shiftKey&&(name="Shift-"+name),name}function keydownHandler(bindings){let map=function(map){let copy=Object.create(null);for(let prop in map)copy[function(name){let alt,ctrl,shift,meta,parts=name.split(/-(?!$)/),result=parts[parts.length-1];"Space"==result&&(result=" ");for(let i=0;i<parts.length-1;i++){let mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))meta=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else if(/^s(hift)?$/i.test(mod))shift=!0;else if(/^mod$/i.test(mod))mac?meta=!0:ctrl=!0;else throw Error("Unrecognized modifier name: "+mod)}return alt&&(result="Alt-"+result),ctrl&&(result="Ctrl-"+result),meta&&(result="Meta-"+result),shift&&(result="Shift-"+result),result}(prop)]=map[prop];return copy}(bindings);return function(view,event){let name=(0,w3c_keyname__WEBPACK_IMPORTED_MODULE_0__.YG)(event),baseName,direct=map[modifiers(name,event)];if(direct&&direct(view.state,view.dispatch,view))return!0;if(1==name.length&&" "!=name){if(event.shiftKey){let noShift=map[modifiers(name,event,!1)];if(noShift&&noShift(view.state,view.dispatch,view))return!0}if((event.shiftKey||event.altKey||event.metaKey||name.charCodeAt(0)>127)&&(baseName=w3c_keyname__WEBPACK_IMPORTED_MODULE_0__.ue[event.keyCode])&&baseName!=name){let fromCode=map[modifiers(baseName,event)];if(fromCode&&fromCode(view.state,view.dispatch,view))return!0}}return!1}}},67507:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return ResizableRatioType},f:function(){return ResizableNodeView}});var ResizableRatioType2,_handle,_element,_node,_destroyList,_width,_height,_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43352),_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85775),__defProp=Object.defineProperty,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),leftCornerHandle=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="rotate(90)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>'),rightCornerHandle=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="matrix(0 1 1 0 0 0)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>'),ResizableHandle=class{constructor(type){__publicField(this,"dom"),__privateAdd(this,_handle,void 0),__publicField(this,"type");let wrapper=document.createElement("div"),handle=document.createElement("div");this.dom=wrapper,__privateSet(this,_handle,handle),this.type=type,this.createHandle(type)}createHandle(type){switch((0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{position:"absolute",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{opacity:"0",transition:"opacity 300ms ease-in 0s"}),__privateGet(this,_handle).dataset.dragging="",type){case 0:(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{right:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 1:(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{left:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 2:(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{bottom:"0px",width:"100%",height:"14px",cursor:"row-resize"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{width:" 42px",height:"4px",boxSizing:"content-box",maxWidth:"50%",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 3:(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{right:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nwse-resize",zIndex:"101"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:`url("data:image/svg+xml,${rightCornerHandle}") `});break;case 4:(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(this.dom,{left:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nesw-resize",zIndex:"101"}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(__privateGet(this,_handle),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:`url("data:image/svg+xml,${leftCornerHandle}") `})}this.dom.append(__privateGet(this,_handle))}setHandleVisibility(visible){let isVisible=visible||!!__privateGet(this,_handle).dataset.dragging;__privateGet(this,_handle).style.opacity=isVisible?"1":"0"}dataSetDragging(isDraging){__privateGet(this,_handle).dataset.dragging=isDraging?"true":""}};_handle=new WeakMap;var ResizableRatioType=((ResizableRatioType2=ResizableRatioType||{})[ResizableRatioType2.Fixed=0]="Fixed",ResizableRatioType2[ResizableRatioType2.Flexible=1]="Flexible",ResizableRatioType2),ResizableNodeView=class{constructor({node,view,getPos,aspectRatio=0,options,initialSize}){__publicField(this,"dom"),__privateAdd(this,_element,void 0),__privateAdd(this,_node,void 0),__privateAdd(this,_destroyList,[]),__publicField(this,"aspectRatio"),__privateAdd(this,_width,void 0),__privateAdd(this,_height,void 0);let outer=this.createWrapper(node,initialSize),element=this.createElement({node,view,getPos,options}),handles=(1===aspectRatio?[0,1,2,3,4]:[0,1]).map(type=>new ResizableHandle(type));for(let handle of handles){let onMouseDown=e=>{this.startResizing(e,view,getPos,handle)};handle.dom.addEventListener("mousedown",onMouseDown),__privateGet(this,_destroyList).push(()=>handle.dom.removeEventListener("mousedown",onMouseDown)),outer.append(handle.dom)}let setHandleVisibe=()=>{handles.forEach(handle=>handle.setHandleVisibility(!0))},setHandleInvisible=()=>{handles.forEach(handle=>handle.setHandleVisibility(!1))};outer.addEventListener("mouseover",setHandleVisibe),outer.addEventListener("mouseout",setHandleInvisible),__privateGet(this,_destroyList).push(()=>outer.removeEventListener("mouseover",setHandleVisibe),()=>outer.removeEventListener("mouseout",setHandleInvisible)),outer.append(element),this.dom=outer,__privateSet(this,_node,node),__privateSet(this,_element,element),this.aspectRatio=aspectRatio}createWrapper(node,initialSize){let outer=document.createElement("div");return outer.classList.add("remirror-resizable-view"),outer.style.position="relative",initialSize?(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(outer,{width:normalizeSize(initialSize.width),aspectRatio:`${initialSize.width} / ${initialSize.height}`}):(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(outer,{width:normalizeSize(node.attrs.width),aspectRatio:`${node.attrs.width} / ${node.attrs.height}`}),(0,_remirror_core_utils__WEBPACK_IMPORTED_MODULE_0__.yL)(outer,{maxWidth:"100%",minWidth:"50px",verticalAlign:"bottom",display:"inline-block",lineHeight:"0",transition:"width 0.15s ease-out, height 0.15s ease-out"}),outer}startResizing(e,view,getPos,handle){var _a,_b;e.preventDefault(),handle.dataSetDragging(!0),__privateGet(this,_element).style.pointerEvents="none";let startX=e.pageX,startY=e.pageY,startWidth=(null==(_a=__privateGet(this,_element))?void 0:_a.getBoundingClientRect().width)||0,startHeight=(null==(_b=__privateGet(this,_element))?void 0:_b.getBoundingClientRect().height)||0,onMouseMove=(0,_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_1__.P)(100,!1,e2=>{let currentX=e2.pageX,currentY=e2.pageY,diffX=currentX-startX,diffY=currentY-startY,newWidth=null,newHeight=null;if(0===this.aspectRatio&&startWidth&&startHeight)switch(handle.type){case 0:case 3:newWidth=startWidth+diffX,newHeight=startHeight/startWidth*newWidth;break;case 1:case 4:newWidth=startWidth-diffX,newHeight=startHeight/startWidth*newWidth;break;case 2:newHeight=startHeight+diffY,newWidth=startWidth/startHeight*newHeight}else if(1===this.aspectRatio)switch(handle.type){case 0:newWidth=startWidth+diffX;break;case 1:newWidth=startWidth-diffX;break;case 2:newHeight=startHeight+diffY;break;case 3:newWidth=startWidth+diffX,newHeight=startHeight+diffY;break;case 4:newWidth=startWidth-diffX,newHeight=startHeight+diffY}"number"==typeof newWidth&&newWidth<50&&(0===this.aspectRatio&&startWidth&&startHeight?newHeight=startHeight/startWidth*(newWidth=50):1===this.aspectRatio&&(newWidth=50)),newWidth&&(__privateSet(this,_width,Math.round(newWidth)),this.dom.style.width=`${__privateGet(this,_width)}px`),newHeight&&__privateSet(this,_height,Math.round(newHeight)),(newWidth||newHeight)&&(this.dom.style.aspectRatio=`${__privateGet(this,_width)} / ${__privateGet(this,_height)}`)}),onMouseUp=e2=>{e2.preventDefault(),handle.dataSetDragging(!1),handle.setHandleVisibility(!1),__privateGet(this,_element).style.pointerEvents="auto",document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",onMouseUp);let pos=getPos(),tr=view.state.tr.setNodeMarkup(pos,void 0,{...__privateGet(this,_node).attrs,width:__privateGet(this,_width),height:__privateGet(this,_height)});view.dispatch(tr)};document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",onMouseUp),__privateGet(this,_destroyList).push(()=>document.removeEventListener("mousemove",onMouseMove)),__privateGet(this,_destroyList).push(()=>document.removeEventListener("mouseup",onMouseUp))}update(node){var node1;return node.type===__privateGet(this,_node).type&&(0!==this.aspectRatio||!node.attrs.width||node.attrs.width===__privateGet(this,_width))&&(1!==this.aspectRatio||!node.attrs.width||!node.attrs.height||node.attrs.width===__privateGet(this,_width)||node.attrs.height===__privateGet(this,_height))&&!!((node1=__privateGet(this,_node))===node||function(node1,node2,ignoreAttrs){let node1Attrs=node1.attrs,node2Attrs=node2.attrs,deltaAttrs={};for(let attr of ignoreAttrs)deltaAttrs[attr]=null;node1.attrs={...node1Attrs,...deltaAttrs},node2.attrs={...node2Attrs,...deltaAttrs};let same=node1.sameMarkup(node2);return node1.attrs=node1Attrs,node2.attrs=node2Attrs,same}(node1,node,["width","height"])&&node1.content.eq(node.content))&&(__privateSet(this,_node,node),__privateSet(this,_width,node.attrs.width),__privateSet(this,_height,node.attrs.height),!0)}destroy(){__privateGet(this,_destroyList).forEach(removeEventListener=>removeEventListener())}};function normalizeSize(size){return"number"==typeof size?`${size}px`:size||void 0}_element=new WeakMap,_node=new WeakMap,_destroyList=new WeakMap,_width=new WeakMap,_height=new WeakMap},97375:function(__unused_webpack_module,exports){"use strict";var undef,has=Object.prototype.hasOwnProperty;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}function encode(input){try{return encodeURIComponent(input)}catch(e){return null}}exports.P=function(obj,prefix){var value,key,pairs=[];for(key in"string"!=typeof(prefix=prefix||"")&&(prefix="?"),obj)if(has.call(obj,key)){if(!(value=obj[key])&&(null===value||value===undef||isNaN(value))&&(value=""),key=encode(key),value=encode(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""},exports.Q=function(query){for(var part,parser=/([^=?#&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}},92037:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var defined,current,ctx="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof __webpack_require__.g?__webpack_require__.g:{},restore=(current=(defined="Prism"in ctx)?ctx.Prism:void 0,function(){defined?ctx.Prism=current:delete ctx.Prism,defined=void 0,current=void 0});ctx.Prism={manual:!0,disableWorkerMessageHandler:!0};var h=__webpack_require__(8868),decode=__webpack_require__(82783),Prism=__webpack_require__(53712),markup=__webpack_require__(26495),css=__webpack_require__(40614),clike=__webpack_require__(42449),js=__webpack_require__(28473);restore();var own={}.hasOwnProperty;function Refractor(){}Refractor.prototype=Prism;var refract=new Refractor;function register(grammar){if("function"!=typeof grammar||!grammar.displayName)throw Error("Expected `function` for `grammar`, got `"+grammar+"`");void 0===refract.languages[grammar.displayName]&&grammar(refract)}module.exports=refract,refract.highlight=function(value,name){var grammar,sup=Prism.highlight;if("string"!=typeof value)throw Error("Expected `string` for `value`, got `"+value+"`");if("Object"===refract.util.type(name))grammar=name,name=null;else{if("string"!=typeof name)throw Error("Expected `string` for `name`, got `"+name+"`");if(own.call(refract.languages,name))grammar=refract.languages[name];else throw Error("Unknown language: `"+name+"` is not registered")}return sup.call(this,value,grammar,name)},refract.register=register,refract.alias=function(name,alias){var key,list,length,index,languages=refract.languages,map=name;for(key in alias&&((map={})[name]=alias),map)for(length=(list="string"==typeof(list=map[key])?[list]:list).length,index=-1;++index<length;)languages[list[index]]=languages[key]},refract.registered=function(language){if("string"!=typeof language)throw Error("Expected `string` for `language`, got `"+language+"`");return own.call(refract.languages,language)},refract.listLanguages=function(){var language,languages=refract.languages,list=[];for(language in languages)own.call(languages,language)&&"object"==typeof languages[language]&&list.push(language);return list},register(markup),register(css),register(clike),register(js),refract.util.encode=function(tokens){return tokens},refract.Token.stringify=function(value,language,parent){var env;return"string"==typeof value?{type:"text",value:value}:"Array"===refract.util.type(value)?function(values,language){for(var value,result=[],length=values.length,index=-1;++index<length;)""!==(value=values[index])&&null!=value&&result.push(value);for(index=-1,length=result.length;++index<length;)value=result[index],result[index]=refract.Token.stringify(value,language,result);return result}(value,language):(env={type:value.type,content:refract.Token.stringify(value.content,language,parent),tag:"span",classes:["token",value.type],attributes:{},language:language,parent:parent},value.alias&&(env.classes=env.classes.concat(value.alias)),refract.hooks.run("wrap",env),h(env.tag+"."+env.classes.join("."),function(attrs){var key;for(key in attrs)attrs[key]=decode(attrs[key]);return attrs}(env.attributes),env.content))}},26753:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var refractorCsharp=__webpack_require__(75993);function aspnet(Prism){Prism.register(refractorCsharp),Prism.languages.aspnet=Prism.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:Prism.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:Prism.languages.csharp}}}),Prism.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,Prism.languages.insertBefore("inside","punctuation",{directive:Prism.languages.aspnet.directive},Prism.languages.aspnet.tag.inside["attr-value"]),Prism.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),Prism.languages.insertBefore("aspnet",Prism.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:Prism.languages.csharp||{}}})}module.exports=aspnet,aspnet.displayName="aspnet",aspnet.aliases=[]},49839:function(module){"use strict";function bash(Prism){!function(Prism){var envVars="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",commandAfterHeredoc={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},insideString={bash:commandAfterHeredoc,environment:{pattern:RegExp("\\$"+envVars),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+envVars),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};Prism.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+envVars),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:insideString},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:commandAfterHeredoc}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:insideString},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:insideString.entity}}],environment:{pattern:RegExp("\\$?"+envVars),alias:"constant"},variable:insideString.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},commandAfterHeredoc.inside=Prism.languages.bash;for(var toBeCopied=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],inside=insideString.variable[1].inside,i=0;i<toBeCopied.length;i++)inside[toBeCopied[i]]=Prism.languages.bash[toBeCopied[i]];Prism.languages.shell=Prism.languages.bash}(Prism)}module.exports=bash,bash.displayName="bash",bash.aliases=["shell"]},97154:function(module){"use strict";function c(Prism){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean}module.exports=c,c.displayName="c",c.aliases=[]},42449:function(module){"use strict";function clike(Prism){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}module.exports=clike,clike.displayName="clike",clike.aliases=[]},68217:function(module){"use strict";function coffeescript(Prism){var Prism1,comment,interpolation;comment=/#(?!\{).+/,interpolation={pattern:/#\{[^}]+\}/,alias:"variable"},(Prism1=Prism).languages.coffeescript=Prism1.languages.extend("javascript",{comment:comment,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:interpolation}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),Prism1.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:comment,interpolation:interpolation}}}),Prism1.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:Prism1.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:interpolation}}]}),Prism1.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete Prism1.languages.coffeescript["template-string"],Prism1.languages.coffee=Prism1.languages.coffeescript}module.exports=coffeescript,coffeescript.displayName="coffeescript",coffeescript.aliases=["coffee"]},76507:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var refractorC=__webpack_require__(97154);function cpp(Prism){var Prism1,keyword,modName;Prism.register(refractorC),Prism1=Prism,keyword=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,modName=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return keyword.source}),Prism1.languages.cpp=Prism1.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return keyword.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:keyword,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Prism1.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return modName})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Prism1.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Prism1.languages.cpp}}}}),Prism1.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Prism1.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Prism1.languages.extend("cpp",{})}}),Prism1.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Prism1.languages.cpp["base-clause"])}module.exports=cpp,cpp.displayName="cpp",cpp.aliases=[]},75993:function(module){"use strict";function csharp(Prism){!function(Prism){function replace(pattern,replacements){return pattern.replace(/<<(\d+)>>/g,function(m,index){return"(?:"+replacements[+index]+")"})}function re(pattern,replacements,flags){return RegExp(replace(pattern,replacements),flags||"")}function nested(pattern,depthLog2){for(var i=0;i<depthLog2;i++)pattern=pattern.replace(/<<self>>/g,function(){return"(?:"+pattern+")"});return pattern.replace(/<<self>>/g,"[^\\s\\S]")}var keywordKinds={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function keywordsToPattern(words){return"\\b(?:"+words.trim().replace(/ /g,"|")+")\\b"}var typeDeclarationKeywords=keywordsToPattern(keywordKinds.typeDeclaration),keywords=RegExp(keywordsToPattern(keywordKinds.type+" "+keywordKinds.typeDeclaration+" "+keywordKinds.contextual+" "+keywordKinds.other)),nonTypeKeywords=keywordsToPattern(keywordKinds.typeDeclaration+" "+keywordKinds.contextual+" "+keywordKinds.other),nonContextualKeywords=keywordsToPattern(keywordKinds.type+" "+keywordKinds.typeDeclaration+" "+keywordKinds.other),generic=nested(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),nestedRound=nested(/\((?:[^()]|<<self>>)*\)/.source,2),name=/@?\b[A-Za-z_]\w*\b/.source,genericName=replace(/<<0>>(?:\s*<<1>>)?/.source,[name,generic]),identifier=replace(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[nonTypeKeywords,genericName]),array=/\[\s*(?:,\s*)*\]/.source,typeExpressionWithoutTuple=replace(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[identifier,array]),tupleElement=replace(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[generic,nestedRound,array]),tuple=replace(/\(<<0>>+(?:,<<0>>+)+\)/.source,[tupleElement]),typeExpression=replace(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[tuple,identifier,array]),typeInside={keyword:keywords,punctuation:/[<>()?,.:[\]]/},character=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,regularString=/"(?:\\.|[^\\"\r\n])*"/.source,verbatimString=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Prism.languages.csharp=Prism.languages.extend("clike",{string:[{pattern:re(/(^|[^$\\])<<0>>/.source,[verbatimString]),lookbehind:!0,greedy:!0},{pattern:re(/(^|[^@$\\])<<0>>/.source,[regularString]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:re(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[identifier]),lookbehind:!0,inside:typeInside},{pattern:re(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[name,typeExpression]),lookbehind:!0,inside:typeInside},{pattern:re(/(\busing\s+)<<0>>(?=\s*=)/.source,[name]),lookbehind:!0},{pattern:re(/(\b<<0>>\s+)<<1>>/.source,[typeDeclarationKeywords,genericName]),lookbehind:!0,inside:typeInside},{pattern:re(/(\bcatch\s*\(\s*)<<0>>/.source,[identifier]),lookbehind:!0,inside:typeInside},{pattern:re(/(\bwhere\s+)<<0>>/.source,[name]),lookbehind:!0},{pattern:re(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[typeExpressionWithoutTuple]),lookbehind:!0,inside:typeInside},{pattern:re(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[typeExpression,nonContextualKeywords,name]),inside:typeInside}],keyword:keywords,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Prism.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Prism.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:re(/([(,]\s*)<<0>>(?=\s*:)/.source,[name]),lookbehind:!0,alias:"punctuation"}}),Prism.languages.insertBefore("csharp","class-name",{namespace:{pattern:re(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[name]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:re(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[nestedRound]),lookbehind:!0,alias:"class-name",inside:typeInside},"return-type":{pattern:re(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[typeExpression,identifier]),inside:typeInside,alias:"class-name"},"constructor-invocation":{pattern:re(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[typeExpression]),lookbehind:!0,inside:typeInside,alias:"class-name"},"generic-method":{pattern:re(/<<0>>\s*<<1>>(?=\s*\()/.source,[name,generic]),inside:{function:re(/^<<0>>/.source,[name]),generic:{pattern:RegExp(generic),alias:"class-name",inside:typeInside}}},"type-list":{pattern:re(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[typeDeclarationKeywords,genericName,name,typeExpression,keywords.source,nestedRound,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:re(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[genericName,nestedRound]),lookbehind:!0,greedy:!0,inside:Prism.languages.csharp},keyword:keywords,"class-name":{pattern:RegExp(typeExpression),greedy:!0,inside:typeInside},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var regularStringOrCharacter=regularString+"|"+character,regularStringCharacterOrComment=replace(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[regularStringOrCharacter]),roundExpression=nested(replace(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[regularStringCharacterOrComment]),2),attrTarget=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,attr=replace(/<<0>>(?:\s*\(<<1>>*\))?/.source,[identifier,roundExpression]);Prism.languages.insertBefore("csharp","class-name",{attribute:{pattern:re(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[attrTarget,attr]),lookbehind:!0,greedy:!0,inside:{target:{pattern:re(/^<<0>>(?=\s*:)/.source,[attrTarget]),alias:"keyword"},"attribute-arguments":{pattern:re(/\(<<0>>*\)/.source,[roundExpression]),inside:Prism.languages.csharp},"class-name":{pattern:RegExp(identifier),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var formatString=/:[^}\r\n]+/.source,mInterpolationRound=nested(replace(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[regularStringCharacterOrComment]),2),mInterpolation=replace(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[mInterpolationRound,formatString]),sInterpolationRound=nested(replace(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[regularStringOrCharacter]),2),sInterpolation=replace(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[sInterpolationRound,formatString]);function createInterpolationInside(interpolation,interpolationRound){return{interpolation:{pattern:re(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[interpolation]),lookbehind:!0,inside:{"format-string":{pattern:re(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[interpolationRound,formatString]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Prism.languages.csharp}}},string:/[\s\S]+/}}Prism.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:re(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[mInterpolation]),lookbehind:!0,greedy:!0,inside:createInterpolationInside(mInterpolation,mInterpolationRound)},{pattern:re(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[sInterpolation]),lookbehind:!0,greedy:!0,inside:createInterpolationInside(sInterpolation,sInterpolationRound)}],char:{pattern:RegExp(character),greedy:!0}}),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp}(Prism)}module.exports=csharp,csharp.displayName="csharp",csharp.aliases=["dotnet","cs"]},40614:function(module){"use strict";function css(Prism){var Prism1,string,markup;string=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,(Prism1=Prism).languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+string.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+string.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+string.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:string,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Prism1.languages.css.atrule.inside.rest=Prism1.languages.css,(markup=Prism1.languages.markup)&&(markup.tag.addInlined("style","css"),markup.tag.addAttribute("style","css"))}module.exports=css,css.displayName="css",css.aliases=[]},37272:function(module){"use strict";function go(Prism){Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete Prism.languages.go["class-name"]}module.exports=go,go.displayName="go",go.aliases=[]},41368:function(module){"use strict";function haskell(Prism){Prism.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},Prism.languages.hs=Prism.languages.haskell}module.exports=haskell,haskell.displayName="haskell",haskell.aliases=["hs"]},69407:function(module){"use strict";function java(Prism){var Prism1,keywords,classNamePrefix,className;Prism1=Prism,keywords=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,className={pattern:RegExp((classNamePrefix=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source)+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},Prism1.languages.java=Prism1.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[className,{pattern:RegExp(classNamePrefix+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:className.inside}],keyword:keywords,function:[Prism1.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Prism1.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Prism1.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":className,keyword:keywords,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return keywords.source})),lookbehind:!0,inside:{punctuation:/\./}}})}module.exports=java,java.displayName="java",java.aliases=[]},28473:function(module){"use strict";function javascript(Prism){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|")+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript}module.exports=javascript,javascript.displayName="javascript",javascript.aliases=["js"]},16275:function(module){"use strict";function json(Prism){Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json}module.exports=json,json.displayName="json",json.aliases=["webmanifest"]},75369:function(module){"use strict";function markdown(Prism){!function(Prism){var inner=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function createInline(pattern){return pattern=pattern.replace(/<inner>/g,function(){return inner}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+pattern+")")}var tableCell=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,tableRow=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return tableCell}),tableLine=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;Prism.languages.markdown=Prism.languages.extend("markup",{}),Prism.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:Prism.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+tableRow+tableLine+"(?:"+tableRow+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+tableRow+tableLine+")(?:"+tableRow+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(tableCell),inside:Prism.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+tableRow+")"+tableLine+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+tableRow+"$"),inside:{"table-header":{pattern:RegExp(tableCell),alias:"important",inside:Prism.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:createInline(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:createInline(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:createInline(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:createInline(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(token){["url","bold","italic","strike","code-snippet"].forEach(function(inside){token!==inside&&(Prism.languages.markdown[token].inside.content.inside[inside]=Prism.languages.markdown[inside])})}),Prism.hooks.add("after-tokenize",function(env){("markdown"===env.language||"md"===env.language)&&function walkTokens(tokens){if(tokens&&"string"!=typeof tokens)for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if("code"!==token.type){walkTokens(token.content);continue}var codeLang=token.content[1],codeBlock=token.content[3];if(codeLang&&codeBlock&&"code-language"===codeLang.type&&"code-block"===codeBlock.type&&"string"==typeof codeLang.content){var lang=codeLang.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),alias="language-"+(lang=(/[a-z][\w-]*/i.exec(lang)||[""])[0].toLowerCase());codeBlock.alias?"string"==typeof codeBlock.alias?codeBlock.alias=[codeBlock.alias,alias]:codeBlock.alias.push(alias):codeBlock.alias=[alias]}}}(env.tokens)}),Prism.hooks.add("wrap",function(env){if("code-block"===env.type){for(var text,codeLang="",i=0,l=env.classes.length;i<l;i++){var cls=env.classes[i],match=/language-(.+)/.exec(cls);if(match){codeLang=match[1];break}}var grammar=Prism.languages[codeLang];if(grammar)env.content=Prism.highlight(env.content.value.replace(tagPattern,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(m,code){return"#"===(code=code.toLowerCase())[0]?fromCodePoint("x"===code[1]?parseInt(code.slice(2),16):Number(code.slice(1))):KNOWN_ENTITY_NAMES[code]||m}),grammar,codeLang);else if(codeLang&&"none"!==codeLang&&Prism.plugins.autoloader){var id="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());env.attributes.id=id,Prism.plugins.autoloader.loadLanguages(codeLang,function(){var ele=document.getElementById(id);ele&&(ele.innerHTML=Prism.highlight(ele.textContent,Prism.languages[codeLang],codeLang))})}}});var tagPattern=RegExp(Prism.languages.markup.tag.pattern.source,"gi"),KNOWN_ENTITY_NAMES={amp:"&",lt:"<",gt:">",quot:'"'},fromCodePoint=String.fromCodePoint||String.fromCharCode;Prism.languages.md=Prism.languages.markdown}(Prism)}module.exports=markdown,markdown.displayName="markdown",markdown.aliases=["md"]},46546:function(module){"use strict";function markupTemplating(Prism){!function(Prism){function getPlaceholder(language,index){return"___"+language.toUpperCase()+index+"___"}Object.defineProperties(Prism.languages["markup-templating"]={},{buildPlaceholders:{value:function(env,language,placeholderPattern,replaceFilter){if(env.language===language){var tokenStack=env.tokenStack=[];env.code=env.code.replace(placeholderPattern,function(match){if("function"==typeof replaceFilter&&!replaceFilter(match))return match;for(var placeholder,i=tokenStack.length;-1!==env.code.indexOf(placeholder=getPlaceholder(language,i));)++i;return tokenStack[i]=match,placeholder}),env.grammar=Prism.languages.markup}}},tokenizePlaceholders:{value:function(env,language){if(env.language===language&&env.tokenStack){env.grammar=Prism.languages[language];var j=0,keys=Object.keys(env.tokenStack);!function walkTokens(tokens){for(var i=0;i<tokens.length&&!(j>=keys.length);i++){var token=tokens[i];if("string"==typeof token||token.content&&"string"==typeof token.content){var k=keys[j],t=env.tokenStack[k],s="string"==typeof token?token:token.content,placeholder=getPlaceholder(language,k),index=s.indexOf(placeholder);if(index>-1){++j;var before=s.substring(0,index),middle=new Prism.Token(language,Prism.tokenize(t,env.grammar),"language-"+language,t),after=s.substring(index+placeholder.length),replacement=[];before&&replacement.push.apply(replacement,walkTokens([before])),replacement.push(middle),after&&replacement.push.apply(replacement,walkTokens([after])),"string"==typeof token?tokens.splice.apply(tokens,[i,1].concat(replacement)):token.content=replacement}}else token.content&&walkTokens(token.content)}return tokens}(env.tokens)}}}})}(Prism)}module.exports=markupTemplating,markupTemplating.displayName="markupTemplating",markupTemplating.aliases=[]},26495:function(module){"use strict";function markup(Prism){Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(env){"entity"===env.type&&(env.attributes.title=env.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(tagName,lang){var includedCdataInside={};includedCdataInside["language-"+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[lang]},includedCdataInside.cdata=/^<!\[CDATA\[|\]\]>$/i;var inside={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside["language-"+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return tagName}),"i"),lookbehind:!0,greedy:!0,inside:inside},Prism.languages.insertBefore("markup","cdata",def)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(attrName,lang){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+attrName+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[lang,"language-"+lang],inside:Prism.languages[lang]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml}module.exports=markup,markup.displayName="markup",markup.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},53817:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var refractorC=__webpack_require__(97154);function objectivec(Prism){Prism.register(refractorC),Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec}module.exports=objectivec,objectivec.displayName="objectivec",objectivec.aliases=["objc"]},96974:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var refractorMarkupTemplating=__webpack_require__(46546);function php(Prism){var comment,constant,number,operator,punctuation,string_interpolation,string;Prism.register(refractorMarkupTemplating),comment=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,constant=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],number=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,punctuation=/[{}\[\](),:;]/,Prism.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:comment,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:constant,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:number,operator:operator,punctuation:punctuation},string=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:string_interpolation={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Prism.languages.php}}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:string_interpolation}}],Prism.languages.insertBefore("php","variable",{string:string,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:comment,string:string,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:constant,number:number,operator:operator,punctuation:punctuation}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Prism.hooks.add("before-tokenize",function(env){/<\?/.test(env.code)&&Prism.languages["markup-templating"].buildPlaceholders(env,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),Prism.hooks.add("after-tokenize",function(env){Prism.languages["markup-templating"].tokenizePlaceholders(env,"php")})}module.exports=php,php.displayName="php",php.aliases=[]},90990:function(module){"use strict";function python(Prism){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python}module.exports=python,python.displayName="python",python.aliases=["py"]},43811:function(module){"use strict";function ruby(Prism){var Prism1,interpolation,percentExpression,symbolName;(Prism1=Prism).languages.ruby=Prism1.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Prism1.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),interpolation={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Prism1.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}},delete Prism1.languages.ruby.function,percentExpression="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",symbolName=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source,Prism1.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+percentExpression+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:interpolation,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:interpolation,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+symbolName),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+symbolName+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Prism1.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+percentExpression),greedy:!0,inside:{interpolation:interpolation,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:interpolation,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:interpolation,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+percentExpression),greedy:!0,inside:{interpolation:interpolation,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:interpolation,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Prism1.languages.ruby.string,Prism1.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Prism1.languages.rb=Prism1.languages.ruby}module.exports=ruby,ruby.displayName="ruby",ruby.aliases=["rb"]},26562:function(module){"use strict";function sass(Prism){var Prism1,variable,operator;(Prism1=Prism).languages.sass=Prism1.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),Prism1.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete Prism1.languages.sass.atrule,variable=/\$[-\w]+|#\{\$[-\w]+\}/,operator=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],Prism1.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:variable,operator:operator}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:variable,operator:operator,important:Prism1.languages.sass.important}}}),delete Prism1.languages.sass.property,delete Prism1.languages.sass.important,Prism1.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}module.exports=sass,sass.displayName="sass",sass.aliases=[]},4650:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var refractorJava=__webpack_require__(69407);function scala(Prism){Prism.register(refractorJava),Prism.languages.scala=Prism.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),Prism.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:Prism.languages.scala}}},string:/[\s\S]+/}}}),delete Prism.languages.scala["class-name"],delete Prism.languages.scala.function}module.exports=scala,scala.displayName="scala",scala.aliases=[]},57585:function(module){"use strict";function sql(Prism){Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}module.exports=sql,sql.displayName="sql",sql.aliases=[]},98467:function(module){"use strict";function swift(Prism){Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(rule){rule.inside.interpolation.inside=Prism.languages.swift})}module.exports=swift,swift.displayName="swift",swift.aliases=[]},97288:function(module){"use strict";function typescript(Prism){var Prism1,typeInside;(Prism1=Prism).languages.typescript=Prism1.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Prism1.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Prism1.languages.typescript.parameter,delete Prism1.languages.typescript["literal-property"],delete(typeInside=Prism1.languages.extend("typescript",{}))["class-name"],Prism1.languages.typescript["class-name"].inside=typeInside,Prism1.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:typeInside}}}}),Prism1.languages.ts=Prism1.languages.typescript}module.exports=typescript,typescript.displayName="typescript",typescript.aliases=["ts"]},85378:function(__unused_webpack_module,exports){"use strict";exports.Q=function(value){for(var val,values=[],input=String(value||""),index=input.indexOf(","),lastIndex=0,end=!1;!end;)-1===index&&(index=input.length,end=!0),((val=input.slice(lastIndex,index).trim())||!end)&&values.push(val),lastIndex=index+1,index=input.indexOf(",",lastIndex);return values}},42640:function(module){"use strict";module.exports=function(selector,defaultTagName){for(var subvalue,previous,match,value=selector||"",name=defaultTagName||"div",props={},start=0;start<value.length;)search.lastIndex=start,match=search.exec(value),(subvalue=value.slice(start,match?match.index:value.length))&&(previous?"#"===previous?props.id=subvalue:props.className?props.className.push(subvalue):props.className=[subvalue]:name=subvalue,start+=subvalue.length),match&&(previous=match[0],start++);return{type:"element",tagName:name,properties:props,children:[]}};var search=/[#.]/g},10921:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var find=__webpack_require__(26181),normalize=__webpack_require__(99215),parseSelector=__webpack_require__(42640),spaces=__webpack_require__(13600).Q,commas=__webpack_require__(85378).Q;module.exports=function(schema,defaultTagName,caseSensitive){var adjust=caseSensitive?function(values){for(var value,length=values.length,index=-1,result={};++index<length;)result[(value=values[index]).toLowerCase()]=value;return result}(caseSensitive):null;return function(selector,properties){var value,tagName,type,property,node=parseSelector(selector,defaultTagName),children=Array.prototype.slice.call(arguments,2),name=node.tagName.toLowerCase();if(node.tagName=adjust&&own.call(adjust,name)?adjust[name]:name,properties&&("string"==typeof(value=properties)||"length"in value||(tagName=node.tagName,type=value.type,"input"!==tagName&&type&&"string"==typeof type&&("object"==typeof value.children&&"length"in value.children||((type=type.toLowerCase(),"button"===tagName)?"menu"!==type&&"submit"!==type&&"reset"!==type&&"button"!==type:"value"in value))))&&(children.unshift(properties),properties=null),properties)for(property in properties)!function(properties,key,value){var info,property,result;null!=value&&value==value&&(property=(info=find(schema,key)).property,"string"==typeof(result=value)&&(info.spaceSeparated?result=spaces(result):info.commaSeparated?result=commas(result):info.commaOrSpaceSeparated&&(result=spaces(commas(result).join(" ")))),"style"===property&&"string"!=typeof value&&(result=function(value){var key,result=[];for(key in value)result.push([key,value[key]].join(": "));return result.join("; ")}(result)),"className"===property&&properties.className&&(result=properties.className.concat(result)),properties[property]=function(info,name,value){var index,length,result;if("object"!=typeof value||!("length"in value))return parsePrimitive(info,name,value);for(length=value.length,index=-1,result=[];++index<length;)result[index]=parsePrimitive(info,name,value[index]);return result}(info,property,result))}(node.properties,property,properties[property]);return function addChild(nodes,value){var index,length;if("string"==typeof value||"number"==typeof value){nodes.push({type:"text",value:String(value)});return}if("object"==typeof value&&"length"in value){for(index=-1,length=value.length;++index<length;)addChild(nodes,value[index]);return}if("object"!=typeof value||!("type"in value))throw Error("Expected node, nodes, or string, got `"+value+"`");nodes.push(value)}(node.children,children),"template"===node.tagName&&(node.content={type:"root",children:node.children},node.children=[]),node}};var own={}.hasOwnProperty;function parsePrimitive(info,name,value){var result=value;return info.number||info.positiveNumber?isNaN(result)||""===result||(result=Number(result)):(info.boolean||info.overloadedBoolean)&&"string"==typeof result&&(""===result||normalize(value)===normalize(name))&&(result=!0),result}},13756:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var schema=__webpack_require__(66416),html=__webpack_require__(10921)(schema,"div");html.displayName="html",module.exports=html},8868:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__(13756)},42871:function(module){"use strict";module.exports=function(character){var code="string"==typeof character?character.charCodeAt(0):character;return code>=97&&code<=122||code>=65&&code<=90}},34029:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var alphabetical=__webpack_require__(42871),decimal=__webpack_require__(39595);module.exports=function(character){return alphabetical(character)||decimal(character)}},39595:function(module){"use strict";module.exports=function(character){var code="string"==typeof character?character.charCodeAt(0):character;return code>=48&&code<=57}},37327:function(module){"use strict";module.exports=function(character){var code="string"==typeof character?character.charCodeAt(0):character;return code>=97&&code<=102||code>=65&&code<=70||code>=48&&code<=57}},84773:function(module){"use strict";var el;module.exports=function(characters){var char,entity="&"+characters+";";return(el=el||document.createElement("i")).innerHTML=entity,(59!==(char=el.textContent).charCodeAt(char.length-1)||"semi"===characters)&&char!==entity&&char}},82783:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var legacy=__webpack_require__(99359),invalid=__webpack_require__(11336),decimal=__webpack_require__(39595),hexadecimal=__webpack_require__(37327),alphanumerical=__webpack_require__(34029),decodeEntity=__webpack_require__(84773);module.exports=function(value,options){var option,key,settings={};for(key in options||(options={}),defaults)option=options[key],settings[key]=null==option?defaults[key]:option;return(settings.position.indent||settings.position.start)&&(settings.indent=settings.position.indent||[],settings.position=settings.position.start),function(value,settings){var code,code1,entityCharacters,namedEntity,terminated,characters,character,reference,following,warning,reason,output,entity,begin,start,type,test,prev,next,diff,end,additional=settings.additional,nonTerminated=settings.nonTerminated,handleText=settings.text,handleReference=settings.reference,handleWarning=settings.warning,textContext=settings.textContext,referenceContext=settings.referenceContext,warningContext=settings.warningContext,pos=settings.position,indent=settings.indent||[],length=value.length,index=0,lines=-1,column=pos.column||1,line=pos.line||1,queue="",result=[];for("string"==typeof additional&&(additional=additional.charCodeAt(0)),prev=now(),warning=handleWarning?function(code,offset){var position=now();position.column+=offset,position.offset+=offset,handleWarning.call(warningContext,messages[code],position,code)}:noop,index--,length++;++index<length;)if(10===character&&(column=indent[lines]||1),38===(character=value.charCodeAt(index))){if(9===(following=value.charCodeAt(index+1))||10===following||12===following||32===following||38===following||60===following||following!=following||additional&&following===additional){queue+=fromCharCode(character),column++;continue}for(begin=start=index+1,end=start,35===following?(end=++begin,88===(following=value.charCodeAt(end))||120===following?(type=hexa,end=++begin):type=deci):type=name,entityCharacters="",entity="",characters="",test=tests[type],end--;++end<length&&test(following=value.charCodeAt(end));)characters+=fromCharCode(following),type===name&&own.call(legacy,characters)&&(entityCharacters=characters,entity=legacy[characters]);(terminated=59===value.charCodeAt(end))&&(end++,(namedEntity=type===name&&decodeEntity(characters))&&(entityCharacters=characters,entity=namedEntity)),diff=1+end-start,(terminated||nonTerminated)&&(characters?type===name?(terminated&&!entity?warning(5,1):(entityCharacters!==characters&&(diff=1+(end=begin+entityCharacters.length)-begin,terminated=!1),terminated||(reason=entityCharacters?1:3,settings.attribute?61===(following=value.charCodeAt(end))?(warning(reason,diff),entity=null):alphanumerical(following)?entity=null:warning(reason,diff):warning(reason,diff))),reference=entity):(terminated||warning(2,diff),(code=reference=parseInt(characters,bases[type]))>=55296&&code<=57343||code>1114111?(warning(7,diff),reference=fromCharCode(65533)):reference in invalid?(warning(6,diff),reference=invalid[reference]):(output="",((code1=reference)>=1&&code1<=8||11===code1||code1>=13&&code1<=31||code1>=127&&code1<=159||code1>=64976&&code1<=65007||(65535&code1)==65535||(65535&code1)==65534)&&warning(6,diff),reference>65535&&(reference-=65536,output+=fromCharCode(reference>>>10|55296),reference=56320|1023&reference),reference=output+fromCharCode(reference))):type!==name&&warning(4,diff)),reference?(flush(),prev=now(),index=end-1,column+=end-start+1,result.push(reference),next=now(),next.offset++,handleReference&&handleReference.call(referenceContext,reference,{start:prev,end:next},value.slice(start-1,end)),prev=next):(queue+=characters=value.slice(start-1,end),column+=characters.length,index=end-1)}else 10===character&&(line++,lines++,column=0),character==character?(queue+=fromCharCode(character),column++):flush();return result.join("");function now(){return{line:line,column:column,offset:index+(pos.offset||0)}}function flush(){queue&&(result.push(queue),handleText&&handleText.call(textContext,queue,{start:prev,end:now()}),queue="")}}(value,settings)};var own={}.hasOwnProperty,fromCharCode=String.fromCharCode,noop=Function.prototype,defaults={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},name="named",hexa="hexadecimal",deci="decimal",bases={};bases[hexa]=16,bases[deci]=10;var tests={};tests[name]=alphanumerical,tests[deci]=decimal,tests[hexa]=hexadecimal;var messages={};messages[1]="Named character references must be terminated by a semicolon",messages[2]="Numeric character references must be terminated by a semicolon",messages[3]="Named character references cannot be empty",messages[4]="Numeric character references cannot be empty",messages[5]="Named character references must be known",messages[6]="Numeric character references cannot be disallowed",messages[7]="Numeric character references cannot be outside the permissible Unicode range"},26181:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var normalize=__webpack_require__(99215),DefinedInfo=__webpack_require__(71365),Info=__webpack_require__(86706),data="data";module.exports=function(schema,value){var value1,property,value2,normal=normalize(value),prop=value,Type=Info;return normal in schema.normal?schema.property[schema.normal[normal]]:(normal.length>4&&normal.slice(0,4)===data&&valid.test(value)&&("-"===value.charAt(4)?prop=data+(value1=value.slice(5).replace(dash,camelcase)).charAt(0).toUpperCase()+value1.slice(1):(value2=(property=value).slice(4),value=dash.test(value2)?property:("-"!==(value2=value2.replace(cap,kebab)).charAt(0)&&(value2="-"+value2),data+value2)),Type=DefinedInfo),new Type(prop,value))};var valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function kebab($0){return"-"+$0.toLowerCase()}function camelcase($0){return $0.charAt(1).toUpperCase()}},66416:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var merge=__webpack_require__(27645),xlink=__webpack_require__(72400),xml=__webpack_require__(29279),xmlns=__webpack_require__(90610),aria=__webpack_require__(6634),html=__webpack_require__(28504);module.exports=merge([xml,xlink,xmlns,aria,html])},6634:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var types=__webpack_require__(22147),create=__webpack_require__(18251),booleanish=types.booleanish,number=types.number,spaceSeparated=types.spaceSeparated;module.exports=create({transform:function(_,prop){return"role"===prop?prop:"aria-"+prop.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}})},28504:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var types=__webpack_require__(22147),create=__webpack_require__(18251),caseInsensitiveTransform=__webpack_require__(10767),boolean=types.boolean,overloadedBoolean=types.overloadedBoolean,booleanish=types.booleanish,number=types.number,spaceSeparated=types.spaceSeparated,commaSeparated=types.commaSeparated;module.exports=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,capture:boolean,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:commaSeparated,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:commaSeparated,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}})},10767:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var caseSensitiveTransform=__webpack_require__(42380);module.exports=function(attributes,property){return caseSensitiveTransform(attributes,property.toLowerCase())}},42380:function(module){"use strict";module.exports=function(attributes,attribute){return attribute in attributes?attributes[attribute]:attribute}},18251:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var normalize=__webpack_require__(99215),Schema=__webpack_require__(26577),DefinedInfo=__webpack_require__(71365);module.exports=function(definition){var prop,info,space=definition.space,mustUseProperty=definition.mustUseProperty||[],attributes=definition.attributes||{},props=definition.properties,transform=definition.transform,property={},normal={};for(prop in props)info=new DefinedInfo(prop,transform(attributes,prop),props[prop],space),-1!==mustUseProperty.indexOf(prop)&&(info.mustUseProperty=!0),property[prop]=info,normal[normalize(prop)]=prop,normal[normalize(info.attribute)]=prop;return new Schema(property,normal,space)}},71365:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var Info=__webpack_require__(86706),types=__webpack_require__(22147);module.exports=DefinedInfo,DefinedInfo.prototype=new Info,DefinedInfo.prototype.defined=!0;var checks=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],checksLength=checks.length;function DefinedInfo(property,attribute,mask,space){var values,values1,key,value,check,index=-1;for(values=this,space&&(values.space=space),Info.call(this,property,attribute);++index<checksLength;)values1=this,key=check=checks[index],(value=(mask&types[check])===types[check])&&(values1[key]=value)}},86706:function(module){"use strict";module.exports=Info;var proto=Info.prototype;function Info(property,attribute){this.property=property,this.attribute=attribute}proto.space=null,proto.attribute=null,proto.property=null,proto.boolean=!1,proto.booleanish=!1,proto.overloadedBoolean=!1,proto.number=!1,proto.commaSeparated=!1,proto.spaceSeparated=!1,proto.commaOrSpaceSeparated=!1,proto.mustUseProperty=!1,proto.defined=!1},27645:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var xtend=__webpack_require__(51960),Schema=__webpack_require__(26577);module.exports=function(definitions){for(var info,space,length=definitions.length,property=[],normal=[],index=-1;++index<length;)info=definitions[index],property.push(info.property),normal.push(info.normal),space=info.space;return new Schema(xtend.apply(null,property),xtend.apply(null,normal),space)}},26577:function(module){"use strict";module.exports=Schema;var proto=Schema.prototype;function Schema(property,normal,space){this.property=property,this.normal=normal,space&&(this.space=space)}proto.space=null,proto.normal={},proto.property={}},22147:function(__unused_webpack_module,exports){"use strict";var powers=0;function increment(){return Math.pow(2,++powers)}exports.boolean=increment(),exports.booleanish=increment(),exports.overloadedBoolean=increment(),exports.number=increment(),exports.spaceSeparated=increment(),exports.commaSeparated=increment(),exports.commaOrSpaceSeparated=increment()},72400:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var create=__webpack_require__(18251);module.exports=create({space:"xlink",transform:function(_,prop){return"xlink:"+prop.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},29279:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var create=__webpack_require__(18251);module.exports=create({space:"xml",transform:function(_,prop){return"xml:"+prop.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},90610:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var create=__webpack_require__(18251),caseInsensitiveTransform=__webpack_require__(10767);module.exports=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}})},99215:function(module){"use strict";module.exports=function(value){return value.toLowerCase()}},13600:function(__unused_webpack_module,exports){"use strict";exports.Q=function(value){var input=String(value||"").trim();return""===input?[]:input.split(whiteSpace)};var whiteSpace=/[ \t\n\r\f]+/g},43352:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function throttle(delay,noTrailing,callback,debounceMode){var timeoutID,cancelled=!1,lastExec=0;function clearExistingTimeout(){timeoutID&&clearTimeout(timeoutID)}function wrapper(){for(var _len=arguments.length,arguments_=Array(_len),_key=0;_key<_len;_key++)arguments_[_key]=arguments[_key];var self1=this,elapsed=Date.now()-lastExec;function exec(){lastExec=Date.now(),callback.apply(self1,arguments_)}cancelled||(debounceMode&&!timeoutID&&exec(),clearExistingTimeout(),void 0===debounceMode&&elapsed>delay?exec():!0!==noTrailing&&(timeoutID=setTimeout(debounceMode?function(){timeoutID=void 0}:exec,void 0===debounceMode?delay-elapsed:delay)))}return"boolean"!=typeof noTrailing&&(debounceMode=callback,callback=noTrailing,noTrailing=void 0),wrapper.cancel=function(){clearExistingTimeout(),cancelled=!0},wrapper}function debounce(delay,atBegin,callback){return void 0===callback?throttle(delay,atBegin,!1):throttle(delay,callback,!1!==atBegin)}__webpack_require__.d(__webpack_exports__,{D:function(){return debounce},P:function(){return throttle}})},55518:function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.Z=function(condition,message){}},42142:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{YG:function(){return keyName},ue:function(){return base}});var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);"undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);for(var mac="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ie="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac||chrome&&57>+chrome[1],i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(event){var name=!(brokenModifierNames&&(event.ctrlKey||event.altKey||event.metaKey)||ie&&event.shiftKey&&event.key&&1==event.key.length||"Unidentified"==event.key)&&event.key||(event.shiftKey?shift:base)[event.keyCode]||event.key||"Unidentified";return"Esc"==name&&(name="Escape"),"Del"==name&&(name="Delete"),"Left"==name&&(name="ArrowLeft"),"Up"==name&&(name="ArrowUp"),"Right"==name&&(name="ArrowRight"),"Down"==name&&(name="ArrowDown"),name}},51960:function(module){module.exports=function(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var hasOwnProperty=Object.prototype.hasOwnProperty},70177:function(){},92947:function(){},47030:function(){},4219:function(){},34092:function(){},99359:function(module){"use strict";module.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},11336:function(module){"use strict";module.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')}}]);