"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5369],{19347:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{x:function(){return numberWithCommas}});function numberWithCommas(num){return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},15369:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__N_SSP:function(){return __N_SSP},curryGetServerSideProps:function(){return curryGetServerSideProps},default:function(){return QnaTopicPage}});var jsx_runtime=__webpack_require__(52322),okky_web=__webpack_require__(26697),as=__webpack_require__(64612),filter_undefined_object_value=__webpack_require__(55861),use_category_description=__webpack_require__(90277),context=__webpack_require__(22199),OL1=__webpack_require__(38696),OL2=__webpack_require__(84473),OL3=__webpack_require__(76487),OL4=__webpack_require__(84187),footer=__webpack_require__(77684),header=__webpack_require__(18485),next_link=__webpack_require__(41664),link_default=__webpack_require__.n(next_link),shared_anchor=__webpack_require__(86563);function PopularTagSkeleton(){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:[0,1,2,3,4].map(index=>(0,jsx_runtime.jsxs)("div",{className:"flex animate-pulse justify-between",children:[(0,jsx_runtime.jsx)("div",{className:"h-4 w-1/3 rounded-md bg-gray-200"}),(0,jsx_runtime.jsx)("div",{className:"h-4 w-1/4 rounded-md bg-gray-200"})]},index))})}var react=__webpack_require__(2784),number_with_commas=__webpack_require__(19347),gtag=__webpack_require__(29673);function PopularTagsSection(){let{popularTags,fetching}=function(){let[popularTags,setPopularTags]=(0,react.useState)([]),[fetching,setFetching]=(0,react.useState)(!1);return(0,react.useEffect)(()=>{(async function(){setFetching(!0);let{result}=await (0,okky_web.getTagsWidget)();result?(setFetching(!1),setPopularTags(result.slice(0,5).map(item=>({_raw:item,...item,displayCount:(0,number_with_commas.x)(item.count||0)})))):setFetching(!1)})()},[]),{popularTags,fetching}}(),{trackPopularTagClick}=function(){let trackPopularTagClick=(0,react.useCallback)((param,index)=>{let{name:topicName,count:topicUsedCount}=param;(0,gtag.V4)({label:"인기태그 위젯 아이템 클릭",topicName:topicName,topicUsedCount:topicUsedCount,index:index})},[]);return{trackPopularTagClick}}();return(0,jsx_runtime.jsxs)("div",{className:"mt-1 divide-y divide-gray-500/30 dark:divide-gray-500/70",children:[(0,jsx_runtime.jsx)("div",{className:"mb-4 text-sm font-bold",children:"#인기 태그"}),(0,jsx_runtime.jsx)("div",{className:"space-y-6 pt-4",children:fetching?(0,jsx_runtime.jsx)(PopularTagSkeleton,{}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:popularTags.map((param,index)=>{let{name,displayCount}=param;return(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm font-medium leading-4",children:[(0,jsx_runtime.jsx)(link_default(),{href:"/articles/tagged/".concat(name),passHref:!0,legacyBehavior:!0,children:(0,jsx_runtime.jsx)(shared_anchor.e,{className:"text-inherit",onClick(){trackPopularTagClick(popularTags[index],index)},children:(0,jsx_runtime.jsxs)("span",{className:"line-clamp-1 break-all hover:text-blue-500 hover:no-underline dark:hover:text-blue-200",children:["#",name]})})}),(0,jsx_runtime.jsx)("span",{className:"flex items-center gap-x-0.5 text-blue-500",children:displayCount})]},name)})})})]})}var top_writers_section=__webpack_require__(56980),ArrowPathIcon=__webpack_require__(76995),concat=__webpack_require__(86922),board_search_bar=__webpack_require__(96329),questions_context=__webpack_require__(56792),MagnifyingGlassIcon=__webpack_require__(36874),PencilIcon=__webpack_require__(3086),filter_buttons=__webpack_require__(39611),sort_buttons=__webpack_require__(8189),use_board_router=__webpack_require__(89278),use_track_board_events=__webpack_require__(87469),topic_tabs=__webpack_require__(41326),use_common_router=__webpack_require__(64724);function NewPostButton(){let{url,name}=function(){let{state:{topic}}=(0,questions_context.iX)();return{url:"questions"===topic?"/questions/new":"/questions/".concat(topic,"/new"),name:"질문하기"}}();return(0,jsx_runtime.jsxs)(link_default(),{href:url,className:"flex h-9 items-center space-x-1 rounded-md bg-blue-500 py-2 px-3 text-white shadow-sm hover:bg-blue-400 sm:pr-4",children:[(0,jsx_runtime.jsx)(PencilIcon.Z,{className:"h-4 w-4"}),(0,jsx_runtime.jsx)("span",{className:"inline text-sm font-medium hover:no-underline sm:leading-5",children:name})]})}function MainListTopMenu(param){let{onSearchClick}=param,{trackOrderBy}=(0,use_track_board_events.Z)(),{moveToParams}=(0,use_board_router.d)(),{moveTo}=(0,use_common_router.Z)(),{state:{sort,topic,filter}}=(0,questions_context.iX)(),selectedTab=(0,sort_buttons.R)(sort),selectedFilterTab=(0,filter_buttons.g)(filter),handleTopicChange=(0,react.useCallback)(tab=>{moveTo(tab.url)},[moveTo]),handleSortChange=(0,react.useCallback)(option=>{trackOrderBy(option.key),moveToParams({sort:option.key,page:1})},[moveToParams,trackOrderBy]),handleFilterChange=(0,react.useCallback)(option=>{moveToParams({filter:option.key,page:1})},[moveToParams]);return(0,jsx_runtime.jsxs)("div",{className:"relative my-6 flex items-center justify-between",children:[(0,jsx_runtime.jsx)("div",{className:"hidden flex-none sm:inline",children:(0,jsx_runtime.jsx)(NewPostButton,{})}),(0,jsx_runtime.jsxs)("div",{className:"flex grow flex-col gap-y-4",children:[(0,jsx_runtime.jsx)(topic_tabs.Z,{onChange:handleTopicChange,currentTopic:topic}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between sm:hidden",children:[(0,jsx_runtime.jsx)(NewPostButton,{}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-x-2",children:[(0,jsx_runtime.jsx)("div",{className:"inline-flex h-9 items-center justify-center rounded-md border border-gray-500/30 bg-white py-2 px-4 shadow-sm hover:border-gray-900 focus:outline-none dark:border-gray-500/70 dark:bg-gray-700 dark:hover:border-gray-100 sm:hidden sm:pr-4",children:(0,jsx_runtime.jsx)(MagnifyingGlassIcon.Z,{className:"h-4 w-4 text-gray-500 dark:text-gray-400",onClick:onSearchClick})}),(0,jsx_runtime.jsxs)("div",{className:"flex -space-x-0.5",children:[(0,jsx_runtime.jsx)(filter_buttons.Z,{onChange:handleFilterChange,selectedTab:selectedFilterTab}),(0,jsx_runtime.jsx)(sort_buttons.Z,{onChange:handleSortChange,selectedTab:selectedTab})]})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"hidden -space-x-0.5 sm:flex",children:[(0,jsx_runtime.jsx)(filter_buttons.Z,{onChange:handleFilterChange,selectedTab:selectedFilterTab}),(0,jsx_runtime.jsx)(sort_buttons.Z,{onChange:handleSortChange,selectedTab:selectedTab})]})]})}var pagination_on_list_top=__webpack_require__(58913),question_items=__webpack_require__(20378),use_question_boards_detail=__webpack_require__(94880),skeleton=__webpack_require__(50143),shared_pagination=__webpack_require__(7194);function QuestionBoard(param){let{result}=param,{state:{keyword}}=(0,questions_context.iX)(),{filters,questions,fetching,pagination,hasPagination,fetchQuestionList}=(0,use_question_boards_detail.Z)(result),{moveToParams,currentCategoryLabel}=(0,use_board_router.d)(),[showSearchBar,setShowSearchBar]=(0,react.useState)(!1),handleCurrPageChange=(0,react.useCallback)(currPage=>{moveToParams({page:currPage+1})},[moveToParams]),handleRefreshClick=(0,react.useCallback)(()=>{fetchQuestionList()},[fetchQuestionList]),handleSearchClick=(0,react.useCallback)(()=>{setShowSearchBar(prev=>!prev)},[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(MainListTopMenu,{onSearchClick:handleSearchClick}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center border-y border-y-gray-500/30 py-4 dark:border-y-gray-500/70 sm:gap-x-36",children:[(0,jsx_runtime.jsx)("div",{className:"hidden w-44 justify-start sm:flex sm:w-44",children:(0,jsx_runtime.jsx)(ArrowPathIcon.Z,{onClick:handleRefreshClick,className:"h-5 w-5 text-gray-500 hover:cursor-pointer hover:text-blue-500 dark:text-gray-400 dark:hover:text-blue-200"})}),(0,jsx_runtime.jsxs)("div",{className:"flex grow flex-col gap-y-4",children:[(0,jsx_runtime.jsx)("div",{className:(0,concat.z)(showSearchBar?"border-b border-gray-500/30 pb-4 dark:border-gray-500/70 sm:border-0 sm:pb-0":"hidden","sm:inline"),children:(0,jsx_runtime.jsx)(board_search_bar.Z,{placeholder:"".concat(currentCategoryLabel," 내에서 검색"),keyword:keyword,onFocus:showSearchBar})}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between sm:hidden",children:[(0,jsx_runtime.jsx)(ArrowPathIcon.Z,{onClick:handleRefreshClick,className:"h-5 w-5 text-gray-500 hover:cursor-pointer hover:text-blue-500 dark:text-gray-400 dark:hover:text-blue-200"}),(0,jsx_runtime.jsx)(pagination_on_list_top.Z,{currentPage:filters.page,pagination:pagination})]})]}),(0,jsx_runtime.jsx)("div",{className:"hidden w-44 justify-end sm:flex sm:w-44",children:(0,jsx_runtime.jsx)(pagination_on_list_top.Z,{currentPage:filters.page,pagination:pagination})})]}),(0,jsx_runtime.jsx)("div",{className:"mb-9 sm:mb-16",children:fetching?(0,jsx_runtime.jsx)(skeleton.Z,{}):(0,jsx_runtime.jsx)(question_items.Z,{data:questions})}),hasPagination&&(0,jsx_runtime.jsx)("div",{className:"my-4 flex justify-center border-t border-gray-500/30 dark:border-gray-500/70",children:(0,jsx_runtime.jsx)(shared_pagination.Z,{totalPage:pagination.totalPages||0,initialCurrentPage:filters.page,onChange:handleCurrPageChange},filters.topic)})]})}var shared_image=__webpack_require__(7527),_topic_=__webpack_require__(5794),__N_SSP=!0;function QnaTopicPage(param){let{query,result}=param,{description,shortDescription}=(0,use_category_description.Z)(query.topic);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(context.ZP,{typeGroup:"CONTENT_LIST",children:[(0,jsx_runtime.jsx)(header.Z,{}),(0,jsx_runtime.jsx)("main",{className:"mx-auto mt-2 w-full max-w-7xl px-4 lg:mt-[18px] lg:px-0",children:(0,jsx_runtime.jsxs)("div",{className:"flex lg:space-x-10",children:[(0,jsx_runtime.jsxs)("div",{className:"hidden w-[180px] shrink-0 lg:block",children:[(0,jsx_runtime.jsx)(PopularTagsSection,{}),(0,jsx_runtime.jsx)("div",{className:"my-10",children:(0,jsx_runtime.jsx)(OL4.r,{})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(top_writers_section.Z,{})})]}),(0,jsx_runtime.jsx)("div",{className:"w-full min-w-0 flex-auto lg:static lg:max-h-full lg:overflow-visible",children:(0,jsx_runtime.jsxs)("div",{className:"min-w-0 flex-auto",children:[(0,jsx_runtime.jsx)(OL1.s,{}),(0,jsx_runtime.jsx)(OL1.u,{}),(0,jsx_runtime.jsxs)("div",{className:"relative my-7",children:[(0,jsx_runtime.jsx)("div",{className:"h-16 overflow-hidden rounded-xl bg-blue-50 dark:bg-gray-700 sm:h-20",children:(0,jsx_runtime.jsx)(shared_image.X,{src:"/pattern.svg",className:"h-full rounded-xl bg-left-top opacity-10"})}),(0,jsx_runtime.jsxs)("div",{className:"absolute top-0 flex h-full w-full flex-col items-center px-6 py-3 sm:py-4 sm:px-8",children:[(0,jsx_runtime.jsx)("span",{className:"w-full text-base font-semibold sm:text-xl",children:"Q&A"}),(0,jsx_runtime.jsx)("aside",{className:"hidden w-full font-normal sm:block sm:text-sm",children:description}),(0,jsx_runtime.jsx)("aside",{className:"w-full text-xs font-normal text-gray-700 dark:text-gray-300 sm:hidden",children:shortDescription})]}),(0,jsx_runtime.jsxs)("div",{className:"absolute -top-1.5 right-5 h-[72px] w-[150px] overflow-y-hidden sm:right-14 sm:h-[88px] sm:w-[183px]",children:[(0,jsx_runtime.jsx)(shared_image.Z,{src:"/questions.svg",alt:"questions",className:"dark:hidden"}),(0,jsx_runtime.jsx)(shared_image.Z,{src:"/darkmode/questions.svg",alt:"questions",className:"hidden w-full dark:block"})]})]}),(0,jsx_runtime.jsx)(questions_context.ZP,{initialState:query,children:(0,jsx_runtime.jsx)(QuestionBoard,{result:result})}),(0,jsx_runtime.jsxs)("div",{className:"mt-7 space-y-2 lg:hidden",children:[(0,jsx_runtime.jsx)(OL3.k,{}),(0,jsx_runtime.jsx)(OL4.X,{})]})]})}),(0,jsx_runtime.jsxs)("div",{className:"hidden w-[180px] flex-none space-y-4 lg:block",children:[(0,jsx_runtime.jsx)(OL2.p,{}),(0,jsx_runtime.jsx)(OL3.F,{})]})]})}),(0,jsx_runtime.jsx)("div",{className:"relative mt-16 sm:mt-20",children:(0,jsx_runtime.jsx)(footer.Z,{})})]})})}function curryGetServerSideProps(topic){return async function(param){let{query,req}=param,{page=1,keyword="",size=20,sort="ID",filter}=(0,as.N)(query),{result,ok}=await (0,okky_web.getQuestionList)((0,filter_undefined_object_value.S)({page:page>1?page-1:0,keyword,size,sort,categoryCode:topic,filter}),{req});return{props:{query:{...query,topic,page:Number(page)},result,SEO:(0,_topic_.boardSEO)(topic)}}}}}}]);